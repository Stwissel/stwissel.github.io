<!DOCTYPE html>
<html lang="en">
<head>
<title>Domino Administration - Back to Basics (Part 1) - Certificates - NotesSensei's Blog</title>
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-72033-1', 'auto');
ga('send', 'pageview');
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible"  content="chrome=1" />
<meta http-equiv="Content-Language" content="en" />
<meta rel="meta" link="application/rdf+xml" content="/foaf.rdf" />
<meta property="og:title"     content="wissel.net - Domino Administration - Back to Basics (Part 1) - Certificates" />
<meta property="og:type"      content="blog" />
<meta property="og:url"       content="https://wissel.net/blog/2020/02/domino-administration-back-to-basics-part-1.html" />
<meta property="og:image"     content="//www.wissel.net/blog/img/wisselnet.gif" />
<meta property="og:site_name" content="wissel.net" />
<meta name="viewport"         content="width=device-width, initial-scale=1.0" />
<meta name="ROBOTS"           content="FOLLOW, NOIMAGEINDEX" />
<meta name="DC.Title"         content="NotesSensei's Weblog - Domino Administration - Back to Basics (Part 1) - Certificates" />
<meta name="Author"           content="Stephan H. Wissel" />
<meta name="ICBM"             content="1.2994, 103.8425" />
<meta name="Copyright"        content="2002,2022 Stephan H. Wissel - Creative commons licence" />
<meta name="twitter:site"     content="@notessensei" />
<meta name="twitter:card"     content="summary" />
<meta name="xing:author"      content="https://www.xing.com/profile/StephanH_Wissel" />
<meta name="description"
	content="Domino Administration - Back to Basics (Part 1) - Certificates - Domino is different, a lot of its concepts predate the internet and quite often inspired the standards. This is not an step-by-step instruction, but an introduction into concepts. The &#39;step by step&#39; approach is another story for another time. In the beginning was the Certificate Notes and Domino run" />
<meta name="Keywords"
	content="Domino," />
<meta name="Abstract"
	content="Domino Administration - Back to Basics (Part 1) - Certificates - Domino is different, a lot of its concepts predate the internet and quite often inspired the standards. This is not an step-by-step instruction, but an introduction into concepts. The &#39;step by step&#39; approach is another story for another time. In the beginning was the Certificate Notes and Domino run" />
<!--[if lt IE 9]>
		<script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<link rel="stylesheet" type="text/css" href="/blog/style/bootstrap.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/responsive.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/wisselblog.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/main.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/blogcodedisplay.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/shariff.complete.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/markdown.css" />
<link rel="stylesheet" type="text/css" href="/blog/css/prism.css" />
<link rel="stylesheet" type="text/css" href="/blog/css/admonition.css" />
<link rel="icon" type="image/png" href="/blog/img/favicon-32x32.png" sizes="32x32" />
<link rel="icon" type="image/png" href="/blog/img/favicon-16x16.png" sizes="16x16" />


<link rel="alternate" type="application/rss+xml" title="RSS News Feed" href="https://feeds.feedburner.com/Wisselnetfeed" />

<meta name="Revisit-After" content="90 Days" />
</head>
<body class="line-numbers">
	<div class="navbar navbar-inverse navbar-fixed-top">
		<div class="navbar-inner">
			<a class="btn btn-navbar" data-toggle="collapse"
				data-target=".nav-collapse"> <span class="icon-bar"></span> <span
				class="icon-bar"></span> <span class="icon-bar"></span>
			</a> <a class="brand" href="/">wissel.net</a>
			<div class="nav-collapse">
				<ul class="nav">
					<li><a href="/index.html">Home</a></li>
					<li class="active"><a href="/blog/">Blog</a></li>
					<li><a href="/blog/series.html">Series</a></li>
					<li><a href="/blog/downloads/">Downloads</a></li>
					<li><a href="https://stwissel.github.io/presentations/" title="Presentations maintained on GitHub">Presentations</a></li>
					<li><a href="/blog/imprint.html">About / Imprint</a></li>
				</ul>
				<form action="//www.google.com/cse" id="cse-search-box"
					class="navbar-search pull-right">
					<div>
						<input type="hidden" name="cx"
							value="partner-pub-4562257798204150:muo14ionenw" /> <input
							type="hidden" name="ie" value="ISO-8859-1" /> <input type="text"
							name="q" class="search-query span2" placeholder="Search" />
						<!-- input type="submit" name="sa" value="Search" class="btn btn-small"/-->
					</div>
				</form>
			</div>
		</div>
	</div>
<div class="navbar-spacer"></div>

	<div class="container">
    		<br />
		<header>
			<div id="mainsmall"  class="hero-unit">
				<h2>wissel.net</h2>
				<p>Usability - Productivity - Business - The web - Singapore &amp; Twins</p>
			</div>
		</header>

     
    <ul class="breadcrumb">
  <li><a href="/blog/">Blog</a> <span class="divider">/</span></li>
  <li><a href="/blog/2020/">2020</a> <span class="divider">/</span></li>
  <li><a href="/blog/2020/02/">February</a></li>
  <li class="pull-right">
    <span class="divider">|</span><a href="/blog/categories/domino.html">Domino</a>
  </li>
</ul>

		<div class="row-fluid">
			<div class="span12">
							<div class="well well-raised">
				<p>This article is part of a mini series. Read them all:</p>
				<h3>Domino Administration - Back to Basics</h3>
				<ol reversed class="nav nav-list">
					<li  class="active"><a href="/blog/2020/02/domino-administration-back-to-basics-part-1.html">Domino Administration - Back to Basics (Part 1) - Certificates</a></li>
					<li ><a href="/blog/2020/02/domino-administration-back-to-basics-part-2.html">Domino Administration Back to Basics (Part 2) - Networking</a></li>
				</ol>
			</div>	

				<ul class="breadcrumb pull-centre">
					<li><a href="/blog/2020/01/generating-jwt-tokens-for-tests.html"><i class="icon-hand-left"></i>Generating JWT tokens for tests</a>
						<span class="divider">|</span></li>
					<li><a href="/blog/"><i class="icon-hand-up"></i>Main</a></li>
					<span class="divider">|</span>
					<li><a href="/blog/2020/02/domino-administration-back-to-basics-part-2.html">Domino Administration Back to Basics (Part 2) - Networking<i class="icon-hand-right"></i></a>
					</li>
				</ul>

				<article class="well well-raised">
					<h1><small>Domino Administration - Back to Basics (Part 1) - Certificates</small></h1>
					<hr />
					<div><p>Domino is different, a lot of its concepts predate the internet and quite often inspired the standards. This is not an step-by-step instruction, but an introduction into concepts. The "step by step" approach is another story for another time.</p>
<h3>In the beginning was the Certificate</h3>
<p>Notes and Domino run <a href="https://help.hcltechsw.com/domino/11.0.0/plan_certifieridsandcertificates_c.html">using ID</a> files. This are not merly files that can arbitrarily reconstructed, but cryptographically created <a href="https://en.wikipedia.org/wiki/Public-key_cryptography">Public Private key pairs</a>. To avoid naming collisions the key names are hierarchical (Since R2), so anyone can call their server <strong>Server1</strong> without confusion (sort of). This hierarchy is achieved using <a href="https://en.wikipedia.org/wiki/X.400">X400</a> naming conventions, an early competitor to DNS naming. A X400 name can consist out of multiple parts, these are the ones Domino is using:</p>
<p><img src="/blog/images/2020/X400Names.png" alt="X500 Name"></p>
<p>So the minimum is a common name and an Org. The starting point of each Domino journey is the creation of the OrgID. All other parts depend on it. Note: there isn't a country ID, even if country mentioned after the Org. When you create your OrgID (while setting up the very first server), you can specify the country and it becomes part of the OrgID.</p>
<p>In practise however I haven't seen many OrgIDs that would carry a country code in them. So you can skip that part.</p>
<h3>Signing Ids</h3>
<p>Using the OrgID as signing certificat, one can go and create server and user certificates. E.g using the OrgID <code>/O=Acme</code> one can create <code>/CN=Coyotee/O=Acme</code>. For convenience the qualifiers are usually omitted, their meaning results from the position (and the fact that country is 2 letter if present and Orgs have 3 or more). So instead of <code>/CN=Coyotee/O=Acme</code> one can write <code>Coyotee/Acme</code>.</p>
<p>In practise however more enlightened organisation use their OrgCert as cautiously as root certificates in the <a href="https://en.wikipedia.org/wiki/X.509">X509</a> world and only <a href="https://help.hcltechsw.com/domino/11.0.0/othr_registeringanorganizationalunitcertifieriddialogbo_t.html">register/sign</a> Organizational Unit (<code>/OU=</code>) Ids which then can be used to sign server and user certificates.</p>
<p>Trust between certificate is hierarchical, similar to Internet certificates, so IDs having the same root (/O) certifier recognizse each other. The hierachy can be used in Access Control (another story for another time) to grant access to all IDs at a given level e.g. <code>/OU=Management/O=Acme</code></p><h3>Types of ID files</h3>
<p>As mentioned there are 3 types of Ids:</p>
<ul>
 <li>Certifiers (on <code>/O</code> and <code>/OU</code> level)</li>
 <li>Server Id</li>
 <li>Person Id</li>
</ul>
<p>The distinction becomes relevant in <a href="/blog/2014/02/domino-development-back-to-basics-part-6-better-safe-than-sorry-security.html">access control</a> where access can be granted to users or servers only. Person and Server IDs can occur on any level. Typically we see servers either on the org level or in their own OU.</p>
<p><img src="/blog/images/2020/CertifiersandIDs.png" alt="Certifiers and IDs"></p>
<p>Selecting OU levels is not an easy decisions. We see models of organisations like <code>/OU=Sales</code>, <code>/OU=Board</code> but also geography like <code>/OU=Gernay</code> and <code>/OU=Singapore</code>. This can be very deliberate. Someone moving (department or location) would get the userid recertified with the new OU. What needs careful planning: what document access is won/lost with such a move (That's a business decision, Domino can handle all scenarios when planned properly).</p>
<h3>Cross Certification</h3>
<p>To include certificates with a different root one uses <a href="https://help.hcltechsw.com/domino/11.0.0/conf_creatingacrosscertificatefromanotescertifier_t.html">Cross Certificates</a> which are captured in the directory (and/or local addressbook, the user's personal directory). When one creates a cross-certification for an <code>/O</code> id, all the decendants (<code>/OU/OU/O</code>) are recognized too.</p>
<h3>Insights</h3>
<p>In no specific order:</p>
<ul>
 <li>In Notes/Domino the terms ID and certificate are loosely used interchangable</li>
 <li>The concepts are similar to Internet certificates. Main difference: the parts are named and limited how long the chain can be (6 parts max). In practise you rarely see 6 level deep internet domains or Notes Names</li>
 <li>The 4th level of <code>/OU</code> doesn't need a certifier. It is mainly recommended to distinguish multiple "John Doe"</li>
 <li>Notes names are separated by <code>/</code>, Internet names separate the common name with <code>@</code> and the domain parts with <code>.</code></li>
 <li>Internet names have a central naming registry run by <a href="https://en.wikipedia.org/wiki/Internet_Assigned_Numbers_Authority">IANA</a>, while Domino's central registy <a href="http://www.notes.net/">Notes.net</a> never took off. So you can create as many <code>/O=Acme</code> certifiers as you like (technically you can do that with your <a href="/blog/2019/10/create-your-own-ca.html">own CA too</a>)</li>
 <li>Creating Certificates with the same name does NOT create the same public/private key pair. All trust relations will not work. IDs signed with the old certifier will throw a trust error for the new one. Also all cross-certificates break</li>
 <li>Cleaning up Name conflicts is a huge mess. So don't do that</li>
 <li>Notes IDs can hold X509 certificates for signing internet messages</li>
 <li>A personal Notes address book or the Domino directory can hold external X509 public keys to validate signatures or encrypt outgoing messages</li>
 <li>To minimize the hassle for handling certificates Domino provides a <a href="https://help.hcltechsw.com/domino/11.0.0/conf_dominoserverbasedcertificationauthority_c.html">Certificate Authority</a> and an <a href="https://help.hcltechsw.com/domino/11.0.0/conf_creatingandconfiguringanidvault_t.html">ID-Vault</a>. Set them up. Saves headaches!</li>
 <li>ID Files, both on the server and the client are used to encrypt databases. Loose the ID, loose access! A well managed IDVault is your life insurance</li>
 <li>Back things up. Make sure they are save! One organisation I encountered printed hex dumps of all cert and server ids and locked them in their corporate vault. Smart move. I wonder if they repeated that, as they should, at key rollover time</li>
 <li>Certificates don't live forever. They need to <a href="https://help.hcltechsw.com/domino/11.0.0/conf_certificateauthoritykeyrollover_t.html">roll over keys</a>. Plan that well and use an IDVault - and back up everything before you start</li>
 <li><strong>Pro Tip</strong>: If you are shure your server's future DNS name won't change, you can name the <code>CN</code> part after the full qualified DNS name. E.g <code>CN=lion.exoticpets.org/OU=Servers/O=Pets4Us</code>. It will help as you will learn in <a href="/blog/2020/02/domino-administration-back-to-basics-part-2.html">Part 2</a></li>
 <li>Really: use an IDVault</li>
 <li>Did I mention: use an IDVault</li>
</ul>
<p>What are your insights or concepts you like to know?</p></div>
					<hr />
					<p>
						Posted by <a rel="author" href="https://plus.google.com/u/0/+StephanWissel">
Stephan H Wissel</a> on 04 February 2020
<span class="divider">|</span>
<a href="/blog/2020/02/domino-administration-back-to-basics-part-1.html#comments">Comments (3)</a>
<span class="divider">|</span>
categories:  <a href="/blog/categories/domino.html">Domino</a> 

						<script type="text/javascript">
							var permaLink = "https://wissel.net/blog/2020/02/domino-administration-back-to-basics-part-1.html";
						</script>
					</p>
				</article>
				<a name="comments"></a>
				<div class="well well-raised" style="text-align : center">
				<button class="btn btn-lg btn-info" data-toggle="collapse" data-target="#commentform_c136bf10-4714-11ea-8b49-d54a8f36cab2" type="button">
		            Add your comment...&nbsp;&nbsp;<span class="glyphicon glyphicon-comment"></span>
	            </button>
	            </div>
				<div id="commentform_c136bf10-4714-11ea-8b49-d54a8f36cab2"  class="collapse"></div>
				<div class="well well-raised">
					<h4>Comments</h4>
					<ol id="commentList">
						<li>
							posted by <b>Norman Carnovale</b> on <i>Tuesday 04 February 2020 AD</i>:<br /> <p>Of additional value to this article would be instructions on actually how to set up the ID Vault.</p>

							<hr style="clear : both" />
						</li> 						<li>
							posted by <b>Stephan Wissel</b> on <i>Tuesday 04 February 2020 AD</i>:<br /> <p>Patience, Norman, patience - and thx for stopping by.<br />
I just got started. Practical How-To are on the list once the core concepts are explained. Not too long. Stay tuned!</p>

							<hr style="clear : both" />
						</li> 						<li>
							posted by <b>Richard Schwartz</b> on <i>Tuesday 04 February 2020 AD</i>:<br /> <p>You might want to mention right up near the beginning that id files can be user id files, server id files, or cert id files and that cert id files are required to create user and server id files.</p>
<p>Also, the naming convention is similar to, but not exactly like the X.400/500 naming convention, which survives to this day as the LDAP naming convention. DNS is really a different animal entirely.</p>

							<hr style="clear : both" />
						</li> 					</ol>
				</div>
				<ul class="breadcrumb pull-centre">
					<li><a href="/blog/2020/01/generating-jwt-tokens-for-tests.html"><i class="icon-hand-left"></i>Generating JWT tokens for tests</a>
						<span class="divider">|</span></li>
					<li><a href="/blog/"><i class="icon-hand-up"></i>Main</a></li>
					<span class="divider">|</span>
					<li><a href="/blog/2020/02/domino-administration-back-to-basics-part-2.html">Domino Administration Back to Basics (Part 2) - Networking<i class="icon-hand-right"></i></a>
					</li>
				</ul>

			</div>
		</div>
		<ul class="breadcrumb">
  <li><a href="/blog/">Blog</a> <span class="divider">/</span></li>
  <li><a href="/blog/2020/">2020</a> <span class="divider">/</span></li>
  <li><a href="/blog/2020/02/">February</a></li>
  <li class="pull-right">
    <span class="divider">|</span><a href="/blog/categories/domino.html">Domino</a>
  </li>
</ul>

	</div>
	<footer>
		<div class="container">
			<div class="row">
				<div class="span2">
					<h4>About Me</h4>
					<p>
						I work as "Solution Director Innovation" for HCL Software. I'm based in Singapore.
						<g:plusone size="small" href="https://wissel.net/blog/"></g:plusone>
					</p>
					<a href="//stackoverflow.com/users/131021/stwissel">
					<img src="//stackoverflow.com/users/flair/131021.png" width="208" height="58" alt="profile for stwissel at Stack Overflow, Q&amp;A for professional and enthusiast programmer" title="profile for stwissel at Stack Overflow, Q&amp;A for professional and enthusiast programmer">
				</a>
				</div>
				<div class="span2">
					<h4>Contact</h4>
					<ul>
						<li><a rel="me" href="https://chaos.social/@stw">Chat on Mastodon</a></li>
						<li><a href="https://sg.linkedin.com/in/notessensei">LinkedIn</a></li>
						<li><a href="https://notessensei.myspreadshop.com">NotesSensei's Spreadshirt shop</a></li>
						<li><a href="https://www.stickermule.com/u/43c09fe6343315f">Stickers from Stickermule</a></li>
						<li><a href="https://about.me/stephan.wissel/#" title="Another identity site, nothing much here">About Me</a></li>
						<li><a href="https://github.com/Stwissel">GitHub</a></li>
						<li><a href="https://bitbucket.org/stwissel/">Bitbucket</a></li>
						<li><a href="https://www.twitter.com/notessensei">Twitter</a></li>
					</ul>
				</div>
				<div class="span8">
					<h4>Disclaimer</h4>
					<p>This site is in no way affiliated, endorsed, sanctioned,
						supported, nor enlightened by my current or previous employers.
						I may be an employee, but the opinions, theories, facts, etc.
						presented here are my own and are in now way given in any official
						capacity. In short, these are my words and this is my site, not
						my current or former employers' - and don't even begin to think otherwise.</p>
					<p>
						<b>&copy; 2003 - 2023 Stephan H. Wissel - some rights reserved</b> as
						listed here: <a rel="license"
							href="//creativecommons.org/licenses/by-nc-sa/3.0/"><img
							alt="Creative Commons License" style="border-width: 0"
							src="//licensebuttons.net/l/by-nc-sa/3.0/88x31.png" /></a>
						Unless otherwise labeled by its originating author, the content
						found on this site is made available under the terms of an <a
							href="//creativecommons.org/licenses/by-nc-sa/3.0/"
							target="_blank"
							title="Learn more about the creative commons  Attribution-ShareAlike License">Attribution/NonCommercial/ShareAlike
							Creative Commons License</a>, with the exception that no rights are
						granted -- since they are not mine to grant -- in any logo,
						graphic design, trademarks or trade names of any type. Code
						samples and code downloads on this site are, unless otherwise
						labeled, made available under an <a
							href="//www.apache.org/licenses/LICENSE-2.0.html">Apache
							2.0</a> license. Other license models are available on written
						request and written confirmation.
					</p>
				</div>
			</div>
		</div>
	</footer>

	<script type="text/javascript">
		var permaLink = "https://wissel.net/blog/2020/02/domino-administration-back-to-basics-part-1.html";
	</script>
		<script type="text/javascript" src="/blog/js/jquery-3.6.0.min.js"></script>
	<script type="text/javascript" src="/blog/js/bootstrap.js"></script>
	<script type="text/javascript" src="/blog/js/blogmain.js"></script>
    <script type="text/javascript" src="/blog/js2/prism.js"></script>
	<script type="text/javascript" src="/blog/js2/admonition.js"></script>
	<script src="//www.google-analytics.com/urchin.js" type="text/javascript"></script>
	<script type="text/javascript">
		_uacct = "UA-72033-1";
		urchinTracker();
	</script>
	<script type="text/javascript" src="//feeds.feedburner.com/~s/Wisselnet?i=https://wissel.net/blog" charset="utf-8"></script>

		<script src="/blog/js2/mustache.js"></script>
	<script src="/blog/js2/blogcomments.js"></script>
	<script type="text/javascript" src="/blog/js2/Markdown.Converter.js"></script>
    <script type="text/javascript" src="/blog/js2/Markdown.Sanitizer.js"></script>
    <script type="text/javascript" src="/blog/js2/Markdown.Editor.js"></script>
	<script type="text/javascript" src="//www.google.com/recaptcha/api.js"></script>
	<script src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit" async defer></script>
	<script type="text/javascript">
		var onloadCallback = function() {
    		renderComment("6LcBxUEUAAAAACzKM8YKb-RVVaIZ3MN6F1Z8FB_4", "c136bf10-4714-11ea-8b49-d54a8f36cab2");
 		};
	</script>

</body>
</html>
