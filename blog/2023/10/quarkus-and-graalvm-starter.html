<!DOCTYPE html>
<html lang="en">
<head>
<title>Quarkus and GraalVM starter - NotesSensei's Blog</title>
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-72033-1', 'auto');
ga('send', 'pageview');
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible"  content="chrome=1" />
<meta http-equiv="Content-Language" content="en" />
<meta rel="meta" link="application/rdf+xml" content="/foaf.rdf" />
<meta property="og:title"     content="wissel.net - Quarkus and GraalVM starter" />
<meta property="og:type"      content="blog" />
<meta property="og:url"       content="https://wissel.net/blog/2023/10/quarkus-and-graalvm-starter.html" />
<meta property="og:image"     content="//www.wissel.net/blog/img/wisselnet.gif" />
<meta property="og:site_name" content="wissel.net" />
<meta name="viewport"         content="width=device-width, initial-scale=1.0" />
<meta name="ROBOTS"           content="FOLLOW, NOIMAGEINDEX" />
<meta name="DC.Title"         content="NotesSensei's Weblog - Quarkus and GraalVM starter" />
<meta name="Author"           content="Stephan H. Wissel" />
<meta name="ICBM"             content="1.2994, 103.8425" />
<meta name="Copyright"        content="2002,2022 Stephan H. Wissel - Creative commons licence" />
<meta name="twitter:site"     content="@notessensei" />
<meta name="twitter:card"     content="summary" />
<meta name="xing:author"      content="https://www.xing.com/profile/StephanH_Wissel" />
<meta name="description"
	content="Quarkus and GraalVM starter - When Java is one of the languanges in your portfolio, you might have heard of Quarkus, an alternative to Spring Boot build on top of vert.x and GraalVM, a polyglot runtime for Java and other languages. This article describes the getting started that worked for me. Moving parts The fist hurdle to ove" />
<meta name="Keywords"
	content="GraalVM,Java,Maven,Quarkus,WebDevelopment," />
<meta name="Abstract"
	content="Quarkus and GraalVM starter - When Java is one of the languanges in your portfolio, you might have heard of Quarkus, an alternative to Spring Boot build on top of vert.x and GraalVM, a polyglot runtime for Java and other languages. This article describes the getting started that worked for me. Moving parts The fist hurdle to ove" />
<!--[if lt IE 9]>
		<script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<link rel="stylesheet" type="text/css" href="/blog/style/bootstrap.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/responsive.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/wisselblog.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/main.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/blogcodedisplay.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/shariff.complete.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/markdown.css" />
<link rel="stylesheet" type="text/css" href="/blog/css/prism.css" />
<link rel="stylesheet" type="text/css" href="/blog/css/admonition.css" />
<link rel="icon" type="image/png" href="/blog/img/favicon-32x32.png" sizes="32x32" />
<link rel="icon" type="image/png" href="/blog/img/favicon-16x16.png" sizes="16x16" />


<link rel="alternate" type="application/rss+xml" title="RSS News Feed" href="https://feeds.feedburner.com/Wisselnetfeed" />

<meta name="Revisit-After" content="90 Days" />
</head>
<body class="line-numbers">
	<div class="navbar navbar-inverse navbar-fixed-top">
		<div class="navbar-inner">
			<a class="btn btn-navbar" data-toggle="collapse"
				data-target=".nav-collapse"> <span class="icon-bar"></span> <span
				class="icon-bar"></span> <span class="icon-bar"></span>
			</a> <a class="brand" href="/">wissel.net</a>
			<div class="nav-collapse">
				<ul class="nav">
					<li><a href="/index.html">Home</a></li>
					<li class="active"><a href="/blog/">Blog</a></li>
					<li><a href="/blog/series.html">Series</a></li>
					<li><a href="/blog/downloads/">Downloads</a></li>
					<li><a href="https://stwissel.github.io/presentations/" title="Presentations maintained on GitHub">Presentations</a></li>
					<li><a href="/blog/imprint.html">About / Imprint</a></li>
					<li><a href="/mealplan.html">Food</a></li>
				</ul>
				<form action="//www.google.com/cse" id="cse-search-box"
					class="navbar-search pull-right">
					<div>
						<input type="hidden" name="cx"
							value="partner-pub-4562257798204150:muo14ionenw" /> <input
							type="hidden" name="ie" value="ISO-8859-1" /> <input type="text"
							name="q" class="search-query span2" placeholder="Search" />
						<!-- input type="submit" name="sa" value="Search" class="btn btn-small"/-->
					</div>
				</form>
			</div>
		</div>
	</div>
<div class="navbar-spacer"></div>

	<div class="container">
    		<br />
		<header>
			<div id="mainsmall"  class="hero-unit">
				<h2>wissel.net</h2>
				<p>Usability - Productivity - Business - The web - Singapore &amp; Twins</p>
			</div>
		</header>

     
    <ul class="breadcrumb">
  <li><a href="/blog/">Blog</a> <span class="divider">/</span></li>
  <li><a href="/blog/2023/">2023</a> <span class="divider">/</span></li>
  <li><a href="/blog/2023/10/">October</a></li>
  <li class="pull-right">
    <span class="divider">|</span><a href="/blog/categories/graalvm.html">GraalVM</a>
  </li>
  <li class="pull-right">
    <span class="divider">|</span><a href="/blog/categories/java.html">Java</a>
  </li>
  <li class="pull-right">
    <span class="divider">|</span><a href="/blog/categories/maven.html">Maven</a>
  </li>
  <li class="pull-right">
    <span class="divider">|</span><a href="/blog/categories/quarkus.html">Quarkus</a>
  </li>
  <li class="pull-right">
    <span class="divider">|</span><a href="/blog/categories/webdevelopment.html">WebDevelopment</a>
  </li>
</ul>

		<div class="row-fluid">
			<div class="span12">
				
				<ul class="breadcrumb pull-centre">
					<li><a href="/blog/2023/08/fun-with-azure-active-directory-and-jwt.html"><i class="icon-hand-left"></i>Fun with Azure Active Directory & JWT</a>
						<span class="divider">|</span></li>
					<li><a href="/blog/"><i class="icon-hand-up"></i>Main</a></li>
					<span class="divider">|</span>
					<li><a href="/blog/2023/11/nginx-as-ingress-for-docker-compose.html">nginx as ingress for Docker compose<i class="icon-hand-right"></i></a>
					</li>
				</ul>

				<article class="well well-raised">
					<h1><small>Quarkus and GraalVM starter</small></h1>
					<hr />
					<div><p>When <a href="https://www.java.com/en/">Java</a> is one of the languanges in your portfolio, you might have heard of <a href="https://quarkus.io/">Quarkus</a>, an alternative to <a href="https://spring.io/projects/spring-boot">Spring Boot</a> build on top of <a href="https://vertx.io">vert.x</a> and <a href="https://www.graalvm.org/">GraalVM</a>, a polyglot runtime for Java and other languages.</p>
<p>This article describes the getting started that worked for me.</p>
<h3>Moving parts</h3>
<p>The fist hurdle to overcome is to install all the bits and pieces. There are plenty of versions (Java 11 - Java 21) and methods (maven, CLI, packet managers), so it con be confusing what to pick. I tried most of them and created a mess and a deep appreciation for the "reset to snapshot" feature afforded by virtual machines. Instructions work for macOS, Linux or <a href="https://www.graalvm.org/">Linux on Windows</a>.Here we go:</p>
<ol>
 <li>install <a href="https://sdkman.io/">SdkMan</a>.</li>
</ol>
<p>The tool helps to keep your software development kits under control. From their website:</p>
<p><em>"Meet SDKMAN! â€“ your reliable companion for effortlessly managing multiple Software Development Kits on Unix systems. Imagine having different versions of SDKs and needing a stress-free way to switch between them. SDKMAN! steps in with its easy-to-use Command Line Interface (CLI) and API."</em></p>
<pre><code class="language-bash">curl -s "https://get.sdkman.io" | bash
</code></pre>
<p>You can thank me later. Side note: there are 16 different JDK offerings that can be installed, we are spoiled <a href="https://thedecisionlab.com/reference-guide/economics/the-paradox-of-choice">for choices</a></p>
<ol>
 <li>install <a href="https://www.graalvm.org/">GraalVM</a></li>
</ol>
<p>Currently, as of time of writing, there are three GraalVM distributions available. The Open Source, community supported <a href="https://github.com/oracle/graal/">GraalVM Community Edition</a>, the commercial, Oracle supported <a href="https://www.graalvm.org/downloads/">Oracle GraalVM</a> which requires a license in production and the ReedHat backed <a href="https://github.com/graalvm/mandrel">Mandrel</a>. Mandrel is advertised as "specifically to support Quarkus". The Java 21 version was not yet available on sdkman, so I used the community edition. To stick with Mandrel I will use the container build option, later more on that</p>
<pre><code class="language-bash"># List SDKs
sdk list java
# install GraalVM
sdk install java 21-graaalce
</code></pre>
<ol>
 <li>Install <a href="https://quarkus.io/">Quarkus</a></li>
</ol>
<p>This will install the Quarkus CLI and for good measure <a href="https://maven.apache.org">Apache Maven</a>. The Quarkus CLI makes a <a href="https://quarkus.io/guides/ide-tooling">pleasant developer experience</a></p>
<pre><code class="language-bash">sdk install quarkus
sdk install mvn
</code></pre>
<ol>
 <li>Install <a href="https://www.docker.com/">Docker</a></li>
</ol>
<p>You can use <a href="https://www.docker.com/products/docker-desktop/">Docker desktop</a> (required a license for larger organisations) or <a href="https://rancherdesktop.io/">Rancher Desktop</a> (which also handles Kubernetes), <a href="https://podman-desktop.io/">Podman Desktop</a>, any of <a href="https://alternativeto.net/browse/search/?q=Docker">the alternatives</a> or the command line. New to Docker? There's <a href="https://www.google.com/search?q=how+to+install+docker">plenty of fish</a></p>
<p>Now we are good to go. Skipping the <a href="https://quarkus.io/get-started/">Code with Quarkus</a> tutorial lets build a n app in java and native put it into a container</p><h3>Getting started</h3>
<p>The quarkus command line allows to <a href="https://quarkus.io/guides/maven-tooling">kick start</a> a new application and to install any of the over <a href="https://quarkus.io/extensions/">600 extensions</a> (which modify the <code>pom.xml</code>)</p>
<pre><code class="language-bash"># init a new project
quarkus create app com.notessensei.demo:native-is-fun
# add docker support
quarkus extension add 'container-image-docker'
# start dev mode with hot reload
quarkus dev
</code></pre>
<p>Navigate to <a href="http://localhost:8080">http://localhost:8080</a> and <a href="http://localhost:8080/hello">http://localhost:8080/hello</a> to see your app in action.</p>
<p>Now it's a good time to <a href="https://quarkus.io/guides/ide-tooling">integrate Quarkus into your IDE</a>.</p>
<h3>Build time</h3>
<p>Quarkus provides full support for maven, so you can use your familiar workflow with <code>mvn clean package</code>. However there's a more interesting option available. You can use a build image. This has the advantage that you build in a clean environment and don't get bitten by the configuration of your machine, the syndrom known as "<em>Works on my machine</em>". Here you can also ensure that your code will run in the targeted version. I have the community edition installed, but want to ship on <a href="https://github.com/graalvm/mandrel">Mandrel</a>.</p>
<pre><code class="language-bash"># Use the quarkus CLI to build in a container
quarkus build  \
  -Dquarkus.native.container-build=true \
  -Dquarkus.native.builder-image=quay.io/quarkus/ubi-quarkus-mandrel-builder-image:jdk-21
</code></pre>
<h3>Going native</h3>
<p>Compile to JVM free binaries, pack it into a container for deployment. You have 2 options:</p>
<ul>
 <li>use the build in container support</li>
</ul>
<pre><code class="language-bash"># Use the quarkus CLI to build in a container
quarkus build --native \
  -Dquarkus.native.container-build=true \
  -Dquarkus.native.builder-image=quay.io/quarkus/ubi-quarkus-mandrel-builder-image:jdk-21 \
  -Dquarkus.container-image.build=true
</code></pre>
<ul>
 <li>use a docker command with s tuned image</li>
</ul>
<pre><code class="language-bash"># first build
mvn clean package -Dnative
# then dockerize (don't forget the dot at the end)
docker build --file src/main/docker/Dockerfile.native-micro --tag stw/native-is-fun .
</code></pre>
<p>You can verify the success using <code>docker image ls</code> or run the image</p>
<pre><code class="language-bash">docker run -i --rm -p 8080:8080 stw/native-is-fun
</code></pre>
<p>As usual YMMV</p></div>
					<hr />
					<p>
						Posted by <a rel="author" href="https://plus.google.com/u/0/+StephanWissel">
Stephan H Wissel</a> on 13 October 2023
<span class="divider">|</span>
<a href="/blog/2023/10/quarkus-and-graalvm-starter.html#comments">Comments (0)</a>
<span class="divider">|</span>
categories:  <a href="/blog/categories/graalvm.html">GraalVM</a>  <a href="/blog/categories/java.html">Java</a>  <a href="/blog/categories/maven.html">Maven</a>  <a href="/blog/categories/quarkus.html">Quarkus</a>  <a href="/blog/categories/webdevelopment.html">WebDevelopment</a> 

						<script type="text/javascript">
							var permaLink = "https://wissel.net/blog/2023/10/quarkus-and-graalvm-starter.html";
						</script>
					</p>
				</article>
				<a name="comments"></a>
				<div class="well well-raised" style="text-align : center">
				<button class="btn btn-lg btn-info" data-toggle="collapse" data-target="#commentform_59234250-69c9-11ee-ba4c-cfc559bbd988" type="button">
		            Add your comment...&nbsp;&nbsp;<span class="glyphicon glyphicon-comment"></span>
	            </button>
	            </div>
				<div id="commentform_59234250-69c9-11ee-ba4c-cfc559bbd988"  class="collapse"></div>
				<div class="well well-raised">
					<h4>Comments</h4>
					<ol id="commentList">
						<li id="nocomments">
							<h5>No comments yet, be the first to comment</h5>
						</li>
					</ol>
				</div>
				<ul class="breadcrumb pull-centre">
					<li><a href="/blog/2023/08/fun-with-azure-active-directory-and-jwt.html"><i class="icon-hand-left"></i>Fun with Azure Active Directory & JWT</a>
						<span class="divider">|</span></li>
					<li><a href="/blog/"><i class="icon-hand-up"></i>Main</a></li>
					<span class="divider">|</span>
					<li><a href="/blog/2023/11/nginx-as-ingress-for-docker-compose.html">nginx as ingress for Docker compose<i class="icon-hand-right"></i></a>
					</li>
				</ul>

			</div>
		</div>
		<ul class="breadcrumb">
  <li><a href="/blog/">Blog</a> <span class="divider">/</span></li>
  <li><a href="/blog/2023/">2023</a> <span class="divider">/</span></li>
  <li><a href="/blog/2023/10/">October</a></li>
  <li class="pull-right">
    <span class="divider">|</span><a href="/blog/categories/graalvm.html">GraalVM</a>
  </li>
  <li class="pull-right">
    <span class="divider">|</span><a href="/blog/categories/java.html">Java</a>
  </li>
  <li class="pull-right">
    <span class="divider">|</span><a href="/blog/categories/maven.html">Maven</a>
  </li>
  <li class="pull-right">
    <span class="divider">|</span><a href="/blog/categories/quarkus.html">Quarkus</a>
  </li>
  <li class="pull-right">
    <span class="divider">|</span><a href="/blog/categories/webdevelopment.html">WebDevelopment</a>
  </li>
</ul>

	</div>
	<footer>
		<div class="container">
			<div class="row">
				<div class="span2">
					<h4>About Me</h4>
					<p>
						I work as "Solution Director Innovation" for HCL Software. I'm based in Singapore.
						<g:plusone size="small" href="https://wissel.net/blog/"></g:plusone>
					</p>
					<a href="//stackoverflow.com/users/131021/stwissel">
					<img src="//stackoverflow.com/users/flair/131021.png" width="208" height="58" alt="profile for stwissel at Stack Overflow, Q&amp;A for professional and enthusiast programmer" title="profile for stwissel at Stack Overflow, Q&amp;A for professional and enthusiast programmer">
				</a>
				</div>
				<div class="span2">
					<h4>Contact</h4>
					<ul>
						<li><a rel="me" href="https://chaos.social/@stw">Chat on Mastodon</a></li>
						<li><a href="https://sg.linkedin.com/in/notessensei">LinkedIn</a></li>
						<li><a href="https://notessensei.myspreadshop.com">NotesSensei's Spreadshirt shop</a></li>
						<li><a href="https://www.stickermule.com/u/43c09fe6343315f">Stickers from Stickermule</a></li>
						<li><a href="https://github.com/Stwissel">GitHub</a></li>
						<li><a href="https://bitbucket.org/stwissel/">Bitbucket</a></li>
						<li><a href="https://bsky.app/profile/stwissel.bsky.social">Bluesky</a></li>
					</ul>
				</div>
				<div class="span8">
					<h4>Disclaimer</h4>
					<p>This site is in no way affiliated, endorsed, sanctioned,
						supported, nor enlightened by my current or previous employers.
						I may be an employee, but the opinions, theories, facts, etc.
						presented here are my own and are in now way given in any official
						capacity. In short, these are my words and this is my site, not
						my current or former employers' - and don't even begin to think otherwise.</p>
					<p>
						<b>&copy; 2003 - 2025 Stephan H. Wissel - some rights reserved</b> as
						listed here: <a rel="license"
							href="//creativecommons.org/licenses/by-nc-sa/3.0/"><img
							alt="Creative Commons License" style="border-width: 0"
							src="//licensebuttons.net/l/by-nc-sa/3.0/88x31.png" /></a>
						Unless otherwise labeled by its originating author, the content
						found on this site is made available under the terms of an <a
							href="//creativecommons.org/licenses/by-nc-sa/3.0/"
							target="_blank"
							title="Learn more about the creative commons  Attribution-ShareAlike License">Attribution/NonCommercial/ShareAlike
							Creative Commons License</a>, with the exception that no rights are
						granted -- since they are not mine to grant -- in any logo,
						graphic design, trademarks or trade names of any type. Code
						samples and code downloads on this site are, unless otherwise
						labeled, made available under an <a
							href="//www.apache.org/licenses/LICENSE-2.0.html">Apache
							2.0</a> license. Other license models are available on written
						request and written confirmation.
					</p>
				</div>
			</div>
		</div>
	</footer>

	<script type="text/javascript">
		var permaLink = "https://wissel.net/blog/2023/10/quarkus-and-graalvm-starter.html";
	</script>
		<script type="text/javascript" src="/blog/js/jquery-3.6.0.min.js"></script>
	<script type="text/javascript" src="/blog/js/bootstrap.js"></script>
	<script type="text/javascript" src="/blog/js/blogmain.js"></script>
    <script type="text/javascript" src="/blog/js2/prism.js"></script>
	<script type="text/javascript" src="/blog/js2/admonition.js"></script>
	<script src="//www.google-analytics.com/urchin.js" type="text/javascript"></script>
	<script type="text/javascript">
		_uacct = "UA-72033-1";
		urchinTracker();
	</script>
	<script type="text/javascript" src="//feeds.feedburner.com/~s/Wisselnet?i=https://wissel.net/blog" charset="utf-8"></script>

		<script src="/blog/js2/mustache.js"></script>
	<script src="/blog/js2/blogcomments.js"></script>
	<script type="text/javascript" src="/blog/js2/Markdown.Converter.js"></script>
    <script type="text/javascript" src="/blog/js2/Markdown.Sanitizer.js"></script>
    <script type="text/javascript" src="/blog/js2/Markdown.Editor.js"></script>
	<script type="text/javascript" src="//www.google.com/recaptcha/api.js"></script>
	<script src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit" async defer></script>
	<script type="text/javascript">
		var onloadCallback = function() {
    		renderComment("6LcBxUEUAAAAACzKM8YKb-RVVaIZ3MN6F1Z8FB_4", "59234250-69c9-11ee-ba4c-cfc559bbd988");
 		};
	</script>

</body>
</html>
