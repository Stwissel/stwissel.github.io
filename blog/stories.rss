<?xml version="1.0"?>
<rss version="2.0">
<channel>
	<title>wissel.net Usability - Productivity - Business - The web - Singapore and Twins</title>
	<link>https://wissel.net/blog/stories.rss</link>
	<description>Thoughts, Insights and Opinions of Stephan H. Wissel. Topics included: Salesforce, Lotus Notes and Domino, IBM Websphere, NodeJS, JavaScript,  J2EE, .Net, Software Archtecture, Personcentric Development, Agile Software, SDLC, Singapore and my Twins</description>
	<language>en,de</language>
	<copyright>(C) 2003 - 2019 Stephan H. Wissel, All rights reserved</copyright>
	<pubdate>Tue, 15 Oct 2019 19:28:27 +0000</pubdate>
<item>
	<title>What's on your gRPC wire, Protocol Buffers or JSON?</title>
	<description>&lt;p&gt;The hot kid on the block for microservice APIs is &lt;a href="https://grpc.io/"&gt;gRPC&lt;/a&gt;, a Google developed, OpenSource &lt;strong&gt;binary&lt;/strong&gt; wire protocol.&lt;/p&gt; 
&lt;p&gt;Its native serialization format is &lt;a href="https://developers.google.com/protocol-buffers"&gt;Protocol Buffers&lt;/a&gt;, advertised as "&lt;em&gt;Protocol buffers are a language-neutral, platform-neutral extensible mechanism for serializing structured data&lt;/em&gt;". How does that fit into Domino picture?&lt;/p&gt; 
&lt;h3&gt;&lt;a href="#same-same-but-different" id="same-same-but-different"&gt;Same same, but different&lt;/a&gt;&lt;/h3&gt; 
&lt;p&gt;When old bags, like me, hear the word &lt;a href="https://en.wikipedia.org/wiki/Remote_procedure_call"&gt;&lt;em&gt;RPC&lt;/em&gt;&lt;/a&gt; a flood of memories and technologies come to mind:&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;a href="https://en.wikipedia.org/wiki/Distributed_Component_Object_Model"&gt;DCOM&lt;/a&gt; Microsoft's take on: like Java, but Windows only, superceded by &lt;a href="https://en.wikipedia.org/wiki/Windows_Communication_Foundation"&gt;WCF&lt;/a&gt; for dotNet&lt;/li&gt; 
 &lt;li&gt;&lt;a href="https://en.wikipedia.org/wiki/Common_Object_Request_Broker_Architecture"&gt;Corba&lt;/a&gt; a standard defined by a commitee, mainly Java (and &lt;strong&gt;YES&lt;/strong&gt; Domino still ships with a &lt;a href="https://en.wikipedia.org/wiki/DIIOP"&gt;Corba Server&lt;/a&gt;)&lt;/li&gt; 
 &lt;li&gt;&lt;a href="https://www.w3.org/TR/soap/"&gt;SOAP&lt;/a&gt; with our beloved (or was the word: cursed?) &lt;a href="https://www.w3.org/TR/wsdl/"&gt;WSDL&lt;/a&gt;&lt;/li&gt; 
&lt;/ul&gt; 
&lt;p&gt;There are a few more modern contenders like &lt;a href="https://thrift.apache.org/"&gt;Apache Thrift&lt;/a&gt;, &lt;a href="https://avro.apache.org/"&gt;Apache Avro&lt;/a&gt; or the &lt;a href="http://www.e-s-r.net/specifications/index.html"&gt;KF - TEE&lt;/a&gt;. Good to have &lt;a href="https://xkcd.com/927/"&gt;so many open standards&lt;/a&gt;.&lt;/p&gt; 
&lt;h3&gt;&lt;a href="#the-good" id="the-good"&gt;the good&lt;/a&gt;&lt;/h3&gt; 
&lt;p&gt;Especially with &lt;strong&gt;SOAP&lt;/strong&gt; the common reaction to the rise of &lt;a href="https://en.wikipedia.org/wiki/Representational_state_transfer"&gt;REST&lt;/a&gt; was: &lt;em&gt;Good riddance RPC&lt;/em&gt;. I'm using the term &lt;em&gt;REST&lt;/em&gt; fast and loose here, since a lot of the APIs are more like "&lt;em&gt;http endpoints accepting JSON payloads&lt;/em&gt;" rather than REST in the formal sense of the definition.&lt;/p&gt; 
&lt;p&gt;So what's different with &lt;em&gt;gRPC&lt;/em&gt;, so it got adopted by the &lt;a href="https://www.cncf.io/"&gt;Cloud Native Computing Foundation&lt;/a&gt;? IMHO there are several reasons:&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;It is designed by really smart engineers to run up to &lt;em&gt;Google scale&lt;/em&gt;&lt;/li&gt; 
 &lt;li&gt;It is ground up optimized, not bothering with legacy, but betting on &lt;a href="https://tools.ietf.org/html/rfc7540"&gt;HTTP/2&lt;/a&gt; and its wire efficiencies&lt;/li&gt; 
 &lt;li&gt;It is a compact binary protocol, making it efficient in low bandwidth and/or high volume use cases (&lt;em&gt;Google scale&lt;/em&gt; anyone)&lt;/li&gt; 
 &lt;li&gt;It transmits data only, no repeated meta data as in JSON or XML based approaches (at least when you use Protocol Buffers)&lt;/li&gt; 
 &lt;li&gt;It focused on code generation, functioning more like an &lt;a href="https://en.wikipedia.org/wiki/Software_development_kit"&gt;SDK&lt;/a&gt; than an API&lt;/li&gt; 
 &lt;li&gt;It has versioning support built in&lt;/li&gt; 
 &lt;li&gt;It uses rich structured data types (15 &lt;a href="https://developers.google.com/protocol-buffers/docs/proto3"&gt;on last count&lt;/a&gt;) including enumerations. Notably absent: date/time and currency&lt;/li&gt; 
&lt;/ul&gt; 
&lt;p&gt;And of course: it's the current fashion. RedHat provides a &lt;a href="https://servicesblog.redhat.com/2019/01/31/comparing-openapi-with-grpc/"&gt;compehensive comparison&lt;/a&gt; to &lt;a href="https://www.openapis.org/"&gt;OpenAPI&lt;/a&gt;, as &lt;a href="https://medium.com/apis-and-digital-transformation/openapi-and-grpc-side-by-side-b6afb08f75ed"&gt;do others&lt;/a&gt;. Poking &lt;a href="https://www.youtube.com/results?search_query=grpc"&gt;around YouTube&lt;/a&gt; I gained the impression, that most comparisons are made to REST and its limitations, almost similar to sessions about &lt;a href="https://www.youtube.com/results?search_query=graphql"&gt;GraphQL&lt;/a&gt;. Mr. Sandoval tries to &lt;a href="https://nordicapis.com/when-to-use-what-rest-graphql-webhooks-grpc/"&gt;describe differentiators and use cases&lt;/a&gt;, go read it, it is quite good.&lt;/p&gt;</description>
	<link>2019/10/whats-on-your-grpc-wire-protobuffer-or-json.html</link>
	<author>Stephan H. Wissel</author>
	<guid>529f9d60-ef5d-11e9-ad93-715e4f586c95</guid>
	<pubDate>15 October 2019</pubDate>

</item>
<item>
	<title>A calDAV reference server</title>
	<description>&lt;p&gt;After having a look at the &lt;a href="/blog/2019/10/the-caldav-standard.html"&gt;many standards&lt;/a&gt; involved, it is time to check out a standard or reference implementation. Cutting a long story short: it looks to me the OpenSource &lt;a href="https://github.com/apple/ccs-calendarserver"&gt;Apple Calendar and Contacts Server (ccs)&lt;/a&gt; is my best bet. While the &lt;a href="https://www.calendarserver.org/"&gt;documentation&lt;/a&gt; is rather light, it has been battle tested with my range of targeted clients&lt;/p&gt; 
&lt;h3&gt;&lt;a href="#to-docker-or-to-vm" id="to-docker-or-to-vm"&gt;To Docker or to VM?&lt;/a&gt;&lt;/h3&gt; 
&lt;p&gt;Trying to avoid the &lt;a href="https://blog.codinghorror.com/the-works-on-my-machine-certification-program/"&gt;Works on my machine&lt;/a&gt; certification, a native install was out of the question. So Docker or VM? A search yielded &lt;a href="https://hub.docker.com/r/pluies/ccs-calendarserver/"&gt;one hit&lt;/a&gt; (&lt;a href="https://www.uponmyshoulder.com/blog/2017/apple-contact-calendar-server-dockerised/"&gt;with explanation&lt;/a&gt;) and none for for a ready baked VM. On closer inspection, the docker image, being 2 years old, didn't use the current version, so we had to re-create the image. While on it, I decided to give a VM a shot:&lt;/p&gt; 
&lt;h3&gt;&lt;a href="#apple-calendar-server-on-ubuntu-1804" id="apple-calendar-server-on-ubuntu-1804"&gt;Apple calendar server on Ubuntu 18.04&lt;/a&gt;&lt;/h3&gt; 
&lt;p&gt;To keep things light, I started with the &lt;a href="https://ubuntu.com/download/desktop/thank-you?version=18.04.3&amp;amp;architecture=amd64"&gt;current LTS version 18.04&lt;/a&gt; desktop and a minimal install with 4G RAM. First order after the install is to get updates and install modules for the VirtualBox extensions:&lt;/p&gt; 
&lt;pre class="brush: bash"&gt;sudo apt update
sudo apt install gcc make perl
sudo apt dist-upgrade
&lt;/pre&gt;</description>
	<link>2019/10/caldav-reference-server.html</link>
	<author>Stephan H. Wissel</author>
	<guid>63512d10-ebf5-11e9-8763-c7987d104598</guid>
	<pubDate>11 October 2019</pubDate>

</item>
<item>
	<title>The calDAV Standard - navigating the RFC jungle</title>
	<description>&lt;p&gt;Application interoperability is key to wide spread adoption. Luckily there are &lt;a href="https://xkcd.com/927/"&gt;so many open standards&lt;/a&gt; that one can claim to be open without being interoperable. On a protocol level &lt;a href="https://tools.ietf.org/html/rfc7230"&gt;HTTP&lt;/a&gt; and &lt;a href="https://tools.ietf.org/html/rfc5321"&gt;SMTP&lt;/a&gt; were huge successes, as well as &lt;a href="https://tools.ietf.org/html/rfc2045"&gt;HTML/MIME&lt;/a&gt; for message content. Beyond that it gets murky. None of the big vendors (outside the OpenSource space) has adopted an open protocol for chat and presence.&lt;/p&gt; 
&lt;p&gt;For other standards, most notably &lt;a href="https://en.wikipedia.org/wiki/CalDAV"&gt;Calendaring&lt;/a&gt;, support is murkey. On key contributor might be the &lt;a href="https://en.wikipedia.org/wiki/Request_for_Comments"&gt;RFC&lt;/a&gt; process that produces documents that are hard to follow and lack sample implementations. They are work outcomes of a &lt;a href="https://en.wikipedia.org/wiki/Design_by_committee"&gt;committee&lt;/a&gt; after all. In this series of blog entries I will (try to) highlight the moving parts of a &lt;strong&gt;calendar server&lt;/strong&gt; implementation. The non-moving parts here are the calendar clients to target: Apple calendar on iOS and &lt;a href="https://support.apple.com/en-us/guide/calendar/welcome/mac"&gt;macOS&lt;/a&gt;, &lt;a href="https://www.thunderbird.net/"&gt;Thurnderbird&lt;/a&gt; and a few others.&lt;/p&gt; 
&lt;h3&gt;&lt;a href="#involved-standards" id="involved-standards"&gt;Involved standards&lt;/a&gt;&lt;/h3&gt; 
&lt;p&gt;There is a series of RFC that cover calendar operation, with various degrees of relevance:&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;a href="http://tools.ietf.org/html/rfc4918"&gt;RFC 4918&lt;/a&gt;: webDAV. Defines additional HTTP verbs and XML formats&lt;/li&gt; 
 &lt;li&gt;&lt;a href="http://tools.ietf.org/html/rfc4791"&gt;RFC 4791&lt;/a&gt;: calDAV. Defines again additional HTTP verbs&lt;/li&gt; 
 &lt;li&gt;&lt;a href="http://tools.ietf.org/html/rfc5545"&gt;RFC 5545&lt;/a&gt;: iCalendar. Calendar data as plain text, or &lt;a href="https://tools.ietf.org/html/rfc6321"&gt;XML&lt;/a&gt; or &lt;a href="https://tools.ietf.org/html/rfc7265"&gt;JSON&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;&lt;a href="https://tools.ietf.org/html/rfc7953"&gt;RFC 7953&lt;/a&gt;: vAvailability. Free/Busy lookup specification&lt;/li&gt; 
 &lt;li&gt;&lt;a href="https://tools.ietf.org/html/rfc7986"&gt;RFC 7986&lt;/a&gt;: Extended properties for iCalendar&lt;/li&gt; 
 &lt;li&gt;&lt;a href="http://tools.ietf.org/html/rfc6638"&gt;RFC 6638&lt;/a&gt;: Scheduling extensions&lt;/li&gt; 
 &lt;li&gt;&lt;a href="https://tools.ietf.org/html/rfc8607"&gt;RFC 8607&lt;/a&gt;: Managed attachments in calendar entries&lt;/li&gt; 
 &lt;li&gt;&lt;a href="https://tools.ietf.org/html/rfc8144"&gt;RFC 8144&lt;/a&gt;: Use of Prefer Header field in webDAV&lt;/li&gt; 
 &lt;li&gt;&lt;a href="https://tools.ietf.org/html/rfc5785"&gt;RFC 5785&lt;/a&gt;: Definitions for the &lt;code&gt;/.well-known/&lt;/code&gt; URL&lt;/li&gt; 
&lt;/ul&gt;</description>
	<link>2019/10/the-caldav-standard.html</link>
	<author>Stephan H. Wissel</author>
	<guid>7e298730-ea43-11e9-8305-9f51de60c8f2</guid>
	<pubDate>09 October 2019</pubDate>

</item>
<item>
	<title>Vert.x and OpenAPI</title>
	<description>&lt;p&gt;In the shiny new world of the &lt;a href="https://www.gartner.com/smarterwithgartner/welcome-to-the-api-economy/"&gt;API Economy&lt;/a&gt; your API definition and its enforcement is everything. The current &lt;a href="https://xkcd.com/927/"&gt;standard&lt;/a&gt; for REST based APIs is &lt;a href="https://www.openapis.org/"&gt;OpenAPI&lt;/a&gt;. What it gives you is a JSON or YAML file that describes how your API looks like. There is a whole zoo of tools around that allow to visualize, edit, run Mock servers or generate client and server code.&lt;/p&gt; 
&lt;p&gt;My favorite editor for OpenAPI specs is &lt;a href="https://www.apicur.io/"&gt;Apicurio&lt;/a&gt;, a project driven by &lt;a href="https://www.redhat.com"&gt;RedHat&lt;/a&gt;. It strikes a nice balance between being UI driven and leaving you access to the full source code of your specification.&lt;/p&gt; 
&lt;h3&gt;&lt;a href="#what-to-do-with-it" id="what-to-do-with-it"&gt;What to do with it&lt;/a&gt;&lt;/h3&gt; 
&lt;p&gt;Your API specification defines:&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;the endpoints (a.k.a the URLS that you can use)&lt;/li&gt; 
 &lt;li&gt;the mime types that can be sent or will received&lt;/li&gt; 
 &lt;li&gt;the parameters in the path (the URL)&lt;/li&gt; 
 &lt;li&gt;the parameters in the query (the part that looks like &lt;code&gt;?color=red&amp;amp;shape=circle&lt;/code&gt;)&lt;/li&gt; 
 &lt;li&gt;the body to send and receive&lt;/li&gt; 
 &lt;li&gt;the authentication / authorization requirements&lt;/li&gt; 
 &lt;li&gt;the potential &lt;a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status"&gt;status codes&lt;/a&gt; (we love 2xx)&lt;/li&gt; 
&lt;/ul&gt; 
&lt;p&gt;To handle all this, it smells like boilerplate or, if you are lucky, ready library. &lt;a href="http://vertx.io/"&gt;vert.x&lt;/a&gt; has the later. It provides the &lt;a href="https://vertx.io/docs/vertx-web-api-contract/java/"&gt;API Contract&lt;/a&gt; module that is designed to handle all this for you. You simply add the module to your &lt;code&gt;pom.xml&lt;/code&gt; and load your json or yaml OpenApi specification file:&lt;/p&gt; 
&lt;pre class="brush: xml"&gt;&amp;lt;dependency&amp;gt;
 &amp;lt;groupId&amp;gt;io.vertx&amp;lt;/groupId&amp;gt;
 &amp;lt;artifactId&amp;gt;vertx-web-api-contract&amp;lt;/artifactId&amp;gt;
 &amp;lt;version&amp;gt;3.8.1&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;
&lt;/pre&gt; 
&lt;p&gt;The &lt;a href="https://vertx.io/docs/vertx-web-api-contract/java/#_openapi_3"&gt;documentation&lt;/a&gt; shows the code to turn the OpenApi speccification into a Router factory:&lt;/p&gt; 
&lt;pre class="brush: java"&gt;OpenAPI3RouterFactory.create(
  vertx,
  "https://raw.githubusercontent.com/OAI/OpenAPI-Specification/master/examples/v3.0/petstore.yaml",
  ar -&amp;gt; {
    if (ar.succeeded()) {
      // Spec loaded with success
      OpenAPI3RouterFactory routerFactory = ar.result();
    } else {
      // Something went wrong during router factory initialization
      Throwable exception = ar.cause();
    }
  });
&lt;/pre&gt; 
&lt;p&gt;As you can see, you can load the spec from an URL (there's an auth option too). So while your API is evolving using &lt;a href="https://www.apicur.io/"&gt;Apicurio&lt;/a&gt; you can live load the latest and greated from the live preview (should make some interesting breakages ;-) ).&lt;/p&gt; 
&lt;p&gt;You then add your routes using &lt;code&gt;routerFactory.addHandlerByOperationId("awesomeOperation",this::awesomeOperationHandler)&lt;/code&gt;. Vert.x doesn't use the path to match the handler, but the operationId. This allows you to update path information without breaking your code. There is a detailed &lt;a href="https://how-to.vertx.io/web-and-openapi-howto/"&gt;how-to document&lt;/a&gt; describing the steps.&lt;/p&gt; 
&lt;h3&gt;&lt;a href="#generate-a-skeleton-for-vertx" id="generate-a-skeleton-for-vertx"&gt;Generate a skeleton for vert.x&lt;/a&gt;&lt;/h3&gt; 
&lt;p&gt;As long as you haven't specified a handler for an operation, Vert.x will automatically reply with &lt;code&gt;501 Not implemented&lt;/code&gt; and not throw any error. To give you a headstart, you can generate the base code. First option is to head to &lt;a href="https://start.vertx.io/"&gt;start.vertx.io&lt;/a&gt; to generate a standard project skeleton, saving you the manual work of creating all dependencies in your &lt;code&gt;pom.xml&lt;/code&gt; file. Using "&lt;em&gt;Show dependency panel&lt;/em&gt;" provides a convenient way to pick the modules you need.&lt;/p&gt; 
&lt;p&gt;But there are better ways. You can use an &lt;a href="https://openapi-generator.tech/"&gt;OpenAPI Generator&lt;/a&gt; or the advanced &lt;a href="https://vertx-starter.jetdrone.xyz/#maven"&gt;Vert.x Starter&lt;/a&gt; courtesy of &lt;a href="https://www.linkedin.com/in/pmlopes/"&gt;Paulo Lopes&lt;/a&gt;. In his tool you specify what it shall generate in a dropdown that defaults to "&lt;em&gt;Empty Project&lt;/em&gt;". Once you change that to "&lt;em&gt;OpenAPI Server&lt;/em&gt;" the form will alloow you to upload your OpenAPI specification and you get a complete project rendered with all handler stubs including the security handler. There's also a &lt;a href="https://vertx-starter.jetdrone.xyz/#npm"&gt;JavaScript&lt;/a&gt; version available.&lt;/p&gt;</description>
	<link>2019/09/vertx-and-openapi.html</link>
	<author>Stephan H. Wissel</author>
	<guid>86e88e10-d08b-11e9-ae24-cf34c96a740e</guid>
	<pubDate>06 September 2019</pubDate>

</item>
<item>
	<title>Adding a proxy to your Salesforce Communities</title>
	<description>&lt;p&gt;Running a community site might come with a number of interesting requirement:&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;Scan uploaded files for maleware or copyright violations&lt;/li&gt; 
 &lt;li&gt;Filter language for profanities&lt;/li&gt; 
 &lt;li&gt;Comply with local data retention rules (e.g. local before cloud)&lt;/li&gt; 
&lt;/ul&gt; 
&lt;p&gt;For most of these task &lt;a href="https://appexchange.salesforce.com/"&gt;AppExchange&lt;/a&gt; will be the goto place to find solution. However sometimes you want to process &lt;strong&gt;before&lt;/strong&gt; data hits the platform. This is the moment where you need a proxy.&lt;/p&gt; 
&lt;h3&gt;&lt;a href="#clicks-not-code" id="clicks-not-code"&gt;Clicks not Code&lt;/a&gt;&lt;/h3&gt; 
&lt;p&gt;To be ready to proxy, there are a few steps involved. I went through a few loops, to come to this working sequence:&lt;/p&gt; 
&lt;ol&gt; 
 &lt;li&gt;Register a domain. You will use it to run your community. Using a custom domain is essential to avoid https headaches later on&lt;/li&gt; 
 &lt;li&gt;Obtain a SSL certificate for the custom domain. The easiest part, if you have access to a public host, is to use &lt;a href="https://letsencrypt.org/"&gt;LetsEncrypt&lt;/a&gt; to obtain the cert and then &lt;a href="/blog/2018/03/letsencrypt-java-keystore.html"&gt;transform it to JKS&lt;/a&gt;. The certs are only valid for 90 days, but we only need it for a short while in JKS. On e.g. &lt;a href="https://nginx.org/"&gt;Nginx&lt;/a&gt; one can &lt;a href="https://www.nginx.com/blog/using-free-ssltls-certificates-from-lets-encrypt-with-nginx/"&gt;auto renew&lt;/a&gt; the certs&lt;/li&gt; 
 &lt;li&gt;Upload the cert into Salesforce in &lt;code&gt;Security - Certificate and Key Management - Import from Keystore&lt;/code&gt;&lt;/li&gt; 
 &lt;li&gt;Follow the Steps 1 and 4 (you did 3 already). You need access to your DNS for that. The Domain needs to be fully qualified, you can't use your root (a DNS limitation). Let's say your base is &lt;code&gt;acme.com&lt;/code&gt; and you want your partner community to be reachable at &lt;code&gt;partners.acme.com&lt;/code&gt; and your Salesforce Org ID is &lt;code&gt;1234567890abcdefgh&lt;/code&gt;, then you need a &lt;code&gt;CNAME&lt;/code&gt; entry that says &lt;code&gt;partners&lt;/code&gt; -&amp;gt; &lt;code&gt;partners.acme.com.1234567890abcdefgh.live.siteforce.com.&lt;/code&gt; &lt;strong&gt;Important&lt;/strong&gt;: The entry needs to end with a DOT (.) otherwise CNAME tries to link it back to your domain&lt;/li&gt; 
 &lt;li&gt;Test the whole setup. Make sure you can use all community functions using the URL &lt;a href="https://www.xkcd.com"&gt;&lt;code&gt;https://partners.acme.com/&lt;/code&gt;&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;Now back to the DNS. Point the CNAME entry to your host (e.g. &lt;a href="https://heroku.com"&gt;Heroku&lt;/a&gt; or delete it and create a A record pointing to e.g. &lt;a href="https://digitalocean.com"&gt;DigitalOcean&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;Make sure the Proxy sends the HOST header has the value of your custom domain, not the force.com. Your proxy serves as &lt;a href="https://help.salesforce.com/articleView?id=000315329&amp;amp;language=en_US&amp;amp;type=1"&gt;your own CDN&lt;/a&gt;&lt;/li&gt; 
&lt;/ol&gt; 
&lt;p&gt;Little boomer: You can't do this in a sandbox or a developer org, needs to be production or trial.&lt;/p&gt; 
&lt;p&gt;Next stop: discuss what proxy to use and options to consider. As usual YMMV.&lt;/p&gt;</description>
	<link>2019/06/adding-a-proxy-to-your-salesforce-communities.html</link>
	<author>Stephan H. Wissel</author>
	<guid>c1fe6140-9b30-11e9-ad06-ed6374046d03</guid>
	<pubDate>30 June 2019</pubDate>

</item>
<item>
	<title>Turning a blog into a video with invideo.io</title>
	<description>&lt;p&gt;my &lt;a href="/blog/2019/04/lwc-components-with-self-contained-images.html"&gt;last entry&lt;/a&gt; on LWC was a fairly technical piece. To my surprise Nirav from &lt;a href="https://invideo.io/"&gt;InVideo&lt;/a&gt; approached me and suggested to turn this into a video.&lt;/p&gt; 
&lt;h3&gt;&lt;a href="#watching-instead-of-reading" id="watching-instead-of-reading"&gt;Watching instead of reading&lt;/a&gt;&lt;/h3&gt; 
&lt;p&gt;The team at &lt;a href="https://invideo.io/"&gt;InVideo&lt;/a&gt; did a nice job for the first draft. Quite some of the visualizations make the approach and content very approachable. You spend less than 2 minutes to learn if the details solve an issue you are looking for.&lt;/p&gt; 
&lt;h3&gt;&lt;a href="#see-for-yourself" id="see-for-yourself"&gt;See for yourself!&lt;/a&gt;&lt;/h3&gt; 
&lt;p&gt;
 &lt;video width="800" controls&gt;
  &lt;br&gt; 
  &lt;source src="/blog/images/2019/invideo-lwc-images.mp4" type="video/mp4"&gt;
  &lt;br&gt; 
  &lt;source src="/blog/images/2019/invideo-lwc-images.ogg" type="video/ogg"&gt;
  &lt;br&gt; Your browser does not support the video tag.
  &lt;br&gt; 
 &lt;/video&gt;&lt;/p&gt; 
&lt;p&gt;Let us know what you think in the comments! Disclaimer: Invideo did not compensate (in kind or financial) for working with them, I wouldn't do that. They approached me and it looked like an interesting idea.&lt;/p&gt;</description>
	<link>2019/06/turning-a-blog-into-a-video-with-invideo.io.html</link>
	<author>Stephan H. Wissel</author>
	<guid>255c75b0-9b31-11e9-a152-55ff2b418ddd</guid>
	<pubDate>15 June 2019</pubDate>

</item>
<item>
	<title>LWC components with self contained images</title>
	<description>&lt;p&gt;When you create your LWC components, it is easy to include Salesforce predefined icons using &lt;a href="https://developer.salesforce.com/docs/component-library/bundle/lightning-icon/example"&gt;&lt;code&gt;lightning-icon&lt;/code&gt;&lt;/a&gt;. However once you need a custom icon, you point to an external URL, breaking the self containment. Unless you use &lt;code&gt;url(data:)&lt;/code&gt;. Here is what I did&lt;/p&gt; 
&lt;h3&gt;&lt;a href="#a-scalable-check-mark" id="a-scalable-check-mark"&gt;A scalable check mark&lt;/a&gt;&lt;/h3&gt; 
&lt;p&gt;&lt;img src="/blog/images/2019/checkmark.png" alt="Dynamic Lookup"&gt;&lt;/p&gt; 
&lt;p&gt;For a list selection component I wanted a green check mark, like the picture above, indicate a selected record (more on the component in a later post). Since LWC doesn't allow (yet?) to store image assets inside a bundle and I wanted the component to be self contained.&lt;/p&gt; 
&lt;p&gt;The solution is to use &lt;code&gt;data:image/svg+xml&lt;/code&gt; for a background image. The details were nicely outlined in &lt;a href="https://css-tricks.com/using-svg/"&gt;css-tricks&lt;/a&gt;. I tried to use &lt;a href="https://en.wikipedia.org/wiki/Scalable_Vector_Graphics"&gt;svg&lt;/a&gt; as source code directly, but failed to get it to work. So I resorted to use &lt;code&gt;base64&lt;/code&gt;. It is an additional step, using &lt;a href="https://www.base64encode.org/"&gt;an online Base64 encoder&lt;/a&gt;.&lt;/p&gt; 
&lt;h3&gt;&lt;a href="#making-images" id="making-images"&gt;Making images&lt;/a&gt;&lt;/h3&gt; 
&lt;p&gt;SVG is just an XML based text format, so you could create your image in notepad (take that jpg!). However you probably want to use a &lt;a href="https://www.justinmind.com/blog/11-great-free-paid-svg-editors-for-ux-designers/"&gt;graphic editor&lt;/a&gt;. My choice here is &lt;a href="https://www.sketch.com/"&gt;Sketch&lt;/a&gt; (which gives me funny looks from designers: why a developer uses one of their tools). There were some steps worth to mention:&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;When using text (like the check mark), convert that to a svg path. Right click on text and select "Convert to outlines". This allows the text to scale with the rest of the image&lt;/li&gt; 
 &lt;li&gt;Use the Edit-Copy-Copy SVG Code rather than use the export functionality&lt;/li&gt; 
 &lt;li&gt;The resulting SVG is "talkative", you can edit and remove quite some content: 
  &lt;ul&gt; 
   &lt;li&gt;remove width and height attributes from the &lt;code&gt;&amp;lt;svg&amp;gt;&lt;/code&gt; element, but keep the viewbox. Also remove the xlink name space&lt;/li&gt; 
   &lt;li&gt;the &lt;code&gt;&amp;lt;g&amp;gt;&lt;/code&gt; element doesn't need any attribute&lt;/li&gt; 
   &lt;li&gt;&lt;code&gt;&amp;lt;polygon&amp;gt;&lt;/code&gt; only needs &lt;code&gt;fill&lt;/code&gt; and &lt;code&gt;points&lt;/code&gt; attribute&lt;/li&gt; 
   &lt;li&gt;All numeric values have many digits. You can round them up&lt;/li&gt; 
  &lt;/ul&gt; &lt;/li&gt; 
&lt;/ul&gt;</description>
	<link>2019/04/lwc-components-with-self-contained-images.html</link>
	<author>Stephan H. Wissel</author>
	<guid>1cb1c450-619e-11e9-99c9-55bd07fdd987</guid>
	<pubDate>18 April 2019</pubDate>

</item>
<item>
	<title>Lightning Layouts, Input Fields and Field Level Security</title>
	<description>&lt;p&gt;The more control you want (or need) to exercise over the page layouts presented to your users, the more details you need to take care of. While the default record details and the &lt;a href="https://developer.salesforce.com/docs/component-library/bundle/lightning:recordForm/documentation"&gt;&lt;code&gt;lightning-record-form&lt;/code&gt;&lt;/a&gt; take care of hiding fields, without a trace, the current user doesn't have access to, you need to handle that yourself in a custom layout. Here is how.&lt;/p&gt; 
&lt;h3&gt;&lt;a href="#show-me-yours" id="show-me-yours"&gt;Show me yours&lt;/a&gt;&lt;/h3&gt; 
&lt;p&gt;A typical custom form layout might look like this:&lt;/p&gt; 
&lt;pre class="brush: xml"&gt;&amp;lt;template&amp;gt;
    &amp;lt;lightning-record-edit-form
        record-id={recordId}
        object-api-name="Contact"
        onload={formLoadHandler}
        onsubmit={formSubmitHandler}
        onsuccess={formSuccessHandler}
    &amp;gt;
        &amp;lt;lightning-layout multiple-rows="true"&amp;gt;
            &amp;lt;lightning-layout-item size="12"&amp;gt;
                &amp;lt;lightning-messages&amp;gt; &amp;lt;/lightning-messages&amp;gt;
            &amp;lt;/lightning-layout-item&amp;gt;
            &amp;lt;lightning-layout-item padding="around-small" size="6"&amp;gt;
                &amp;lt;lightning-input-field field-name="Name"&amp;gt;
                &amp;lt;/lightning-input-field&amp;gt;
            &amp;lt;/lightning-layout-item&amp;gt;
            &amp;lt;lightning-layout-item padding="around-small" size="6"&amp;gt;
                &amp;lt;lightning-input-field field-name="Department"&amp;gt;
                &amp;lt;/lightning-input-field&amp;gt;
            &amp;lt;/lightning-layout-item&amp;gt;
            &amp;lt;lightning-layout-item padding="around-small" size="6"&amp;gt;
                &amp;lt;lightning-input-field field-name="HomePhone"&amp;gt;
                &amp;lt;/lightning-input-field&amp;gt;
            &amp;lt;/lightning-layout-item&amp;gt;
            &amp;lt;lightning-layout-item padding="around-small" size="6"&amp;gt;
                &amp;lt;lightning-input-field field-name="CleanStatus"&amp;gt;
                &amp;lt;/lightning-input-field&amp;gt;
            &amp;lt;/lightning-layout-item&amp;gt;
            &amp;lt;lightning-button
                class="slds-m-top_small"
                variant="brand"
                type="submit"
                name="save"
                label="Save"
            &amp;gt;
            &amp;lt;/lightning-button&amp;gt;
        &amp;lt;/lightning-layout&amp;gt;
    &amp;lt;/lightning-record-edit-form&amp;gt;
&amp;lt;/template&amp;gt;
&lt;/pre&gt; 
&lt;p&gt;Now, when a user doesn't have field level access to, let's say &lt;code&gt;HomePhone&lt;/code&gt; (GDPR anyone?), the form would render with an empty space in the second row. To prevent this two steps are necessary:&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;Add a render condition to the &lt;code&gt;lightning-layout-item&lt;/code&gt;&lt;/li&gt; 
 &lt;li&gt;Compute the value for it in the &lt;code&gt;onload&lt;/code&gt; event of the &lt;a href="https://developer.salesforce.com/docs/component-library/bundle/lightning-record-edit-form/documentation"&gt;&lt;code&gt;lightning-record-edit-form&lt;/code&gt;&lt;/a&gt;&lt;/li&gt; 
&lt;/ul&gt; 
&lt;p&gt;A &lt;a href="https://developer.salesforce.com/docs/component-library/bundle/lightning-layout-item/example"&gt;&lt;code&gt;lightning-layout-item&lt;/code&gt;&lt;/a&gt; would look like this:&lt;/p&gt; 
&lt;pre class="brush: xml"&gt;&amp;lt;lightning-layout-item padding="around-small" size="6" if:true={canSee.HomePhone}&amp;gt;
    &amp;lt;lightning-input-field field-name="HomePhone"&amp;gt;
    &amp;lt;/lightning-input-field&amp;gt;
&amp;lt;/lightning-layout-item&amp;gt;
&lt;/pre&gt; 
&lt;p&gt;The only difference is the &lt;code&gt;if:true={canSee.number}&lt;/code&gt;&lt;/p&gt; 
&lt;p&gt;In your JavaScript file you add &lt;code&gt;@track canSee = {}&lt;/code&gt; to initialize your visibility tracker. Finally you amend the &lt;code&gt;formLoadHandler&lt;/code&gt; to populate the &lt;code&gt;canSee&lt;/code&gt; variable:&lt;/p&gt; 
&lt;pre class="brush: js"&gt;formLoadHandler(event) {
        let fields = event.detail.record.fields;

        for (let f in fields) {
            if (fields.hasOwnProperty(f)) {
            	this.canSee[f] = true;
            }
        }
    }    
&lt;/pre&gt; 
&lt;p&gt;As usual YMMV.&lt;/p&gt;</description>
	<link>2019/04/lightning-layouts-input-fields-and-field-level-security.html</link>
	<author>Stephan H. Wissel</author>
	<guid>79bb1120-5c07-11e9-94a3-a76c5fd18cda</guid>
	<pubDate>11 April 2019</pubDate>

</item>
<item>
	<title>Mixing lightning-input-fields with custom data aware fields</title>
	<description>&lt;p&gt;Salesforce lightning offers a developer various ways to design custom forms when page layouts are not enough. The &lt;a href="https://developer.salesforce.com/docs/component-library/bundle/lightning-record-edit-form/documentation"&gt;record-edit-form&lt;/a&gt; strikes a nice balance: it uses Lightning data service and allows one to design your own layout and field selection.&lt;/p&gt; 
&lt;h3&gt;&lt;a href="#beyond-lightning-input-fields" id="beyond-lightning-input-fields"&gt;Beyond lightning-input-fields&lt;/a&gt;&lt;/h3&gt; 
&lt;p&gt;Most of the time &lt;a href="https://developer.salesforce.com/docs/component-library/bundle/lightning-input-field/documentation"&gt;lightning-input-field&lt;/a&gt; is all you need for this forms. They auto-magically talk to the &lt;a href="https://developer.salesforce.com/docs/atlas.en-us.uiapi.meta/uiapi/ui_api_get_started.htm"&gt;UI API&lt;/a&gt; and display the right input type.&lt;/p&gt; 
&lt;p&gt;However there are cases, where that's not what your users want. A recent example from a project: Phone numbers are stored as text field in Salesforce, but the users wanted a guided input: a country picker, then showing the area code picker (if the country has those) and an checker for field length for the main number (which varies greatly by country) and an eventual extension field (popular in the US, but not elsewhere).&lt;/p&gt; 
&lt;p&gt;So I started digging. Shouldn't it be possible to have something like &lt;code&gt;&amp;lt;c-phone-helper field-name="Phone" /&amp;gt;&lt;/code&gt; and the same data magic as for &lt;code&gt;lightning-input-field&lt;/code&gt; would happen? Turns out: not so fast. With events and a little code it would be possible, but that glue code needed to be applied to any custom field.&lt;/p&gt; 
&lt;p&gt;This got me thinking. The solution, it turns out, was to "extend" the &lt;code&gt;record-edit-form&lt;/code&gt; to handle "rough" input components. You can give the result a try in &lt;a href="https://github.com/Stwissel/lwcaura/tree/master/experiments/experiment8/main/default/lwc"&gt;experiment 8&lt;/a&gt;&lt;/p&gt; 
&lt;h3&gt;&lt;a href="#design-goals" id="design-goals"&gt;Design goals&lt;/a&gt;&lt;/h3&gt; 
&lt;ul&gt; 
 &lt;li&gt;The component should be a drop-in "replacement" for &lt;code&gt;record-edit-form&lt;/code&gt;&lt;/li&gt; 
 &lt;li&gt;Structure of a page should be similar to they way one builds &lt;code&gt;record-edit-form&lt;/code&gt; based forms&lt;/li&gt; 
 &lt;li&gt;All &lt;code&gt;lightning-input-fields&lt;/code&gt; should work out of the box&lt;/li&gt; 
 &lt;li&gt;No additional glue code should be required in the component hosting the new form&lt;/li&gt; 
 &lt;li&gt;Custom input field types should be easy to build. Once I figure out extensions, based on a base component&lt;/li&gt; 
 &lt;li&gt;Opinionated: form layout is using a &lt;a href="https://developer.salesforce.com/docs/component-library/bundle/lightning-layout/example"&gt;lightning-layout&lt;/a&gt;&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h3&gt;&lt;a href="#results" id="results"&gt;Results&lt;/a&gt;&lt;/h3&gt; 
&lt;p&gt;The replacement for &lt;code&gt;lightning-record-form&lt;/code&gt; is &lt;a href="https://github.com/Stwissel/lwcaura/tree/master/experiments/experiment8/main/default/lwc/extendedForm"&gt;c-extended-form&lt;/a&gt; (from experiment 8).&lt;br&gt; "Replacement" is a mouth-full, since the component just wraps around a &lt;code&gt;lightning-record-form&lt;/code&gt;. A few components are ready to be used for it:&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;a href="https://github.com/Stwissel/lwcaura/tree/master/experiments/experiment8/main/default/lwc/specialInput"&gt;specialInput&lt;/a&gt; a little test component. It just returns the input in upper case. Not very useful other than studying the boiler plate&lt;/li&gt; 
 &lt;li&gt;&lt;a href="https://github.com/Stwissel/lwcaura/tree/master/experiments/experiment5/main/default/lwc/uxDebouncedInput"&gt;uxDebouncedInput&lt;/a&gt; returns changed values after a debounce period. Default is 300ms, the attribute &lt;code&gt;delay&lt;/code&gt; allows to specify duration. The component shows different behavior depending on the attribute &lt;code&gt;field-name&lt;/code&gt; being present with a value. The original purpose of the field is to be used in &lt;a href="https://github.com/Stwissel/lwcaura/tree/master/experiments/experiment5/main/default/lwc/uxQuickLookup"&gt;uxQuickLookup&lt;/a&gt;, now you can use it standalone&lt;/li&gt; 
 &lt;li&gt;&lt;a href="https://github.com/Stwissel/lwcaura/tree/master/experiments/experiment5/main/default/lwc/uxQuickLookup"&gt;uxQickLookup&lt;/a&gt; which allows you to lookup an object. It works in lightning apps, mobile and communities and can serve as a stop-gap for the missing lookup on mobile. I &lt;a href="/blog/2019/04/dynamic-lookup-for-lwc-update.html"&gt;recently updated it&lt;/a&gt; to show additional fields beside the object name&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h3&gt;&lt;a href="#how-it-works" id="how-it-works"&gt;How it works&lt;/a&gt;&lt;/h3&gt;</description>
	<link>2019/04/mixing-lightning-input-fields-with-custom-data-aware-fields.html</link>
	<author>Stephan H. Wissel</author>
	<guid>d960bf80-5838-11e9-8c30-b3972ad3cc9f</guid>
	<pubDate>06 April 2019</pubDate>

</item>
<item>
	<title>Dynamic Lookup for LWC - update</title>
	<description>&lt;p&gt;There's always room for some improvement. So I updated&lt;/p&gt; 
&lt;p&gt;&lt;img src="/blog/images/2019/DynamicLookup2.png" alt="Dynamic Lookup"&gt;&lt;/p&gt; 
&lt;h3&gt;&lt;a href="#is-this-the-account-you-are-looking-for" id="is-this-the-account-you-are-looking-for"&gt;Is this the account you are looking for?&lt;/a&gt;&lt;/h3&gt; 
&lt;p&gt;The &lt;a href="/blog/2019/03/re-usable-dynamic-custom-lookup-lwc-edition.html"&gt;dynamic lookup&lt;/a&gt; works like a charm, including on the Salesforce mobile app. The only catch: with only the object name visible it was less useful than the standard lookup. There are too many objects with the same name.&lt;/p&gt; 
&lt;p&gt;The solution: I added a new parameter &lt;code&gt;fields&lt;/code&gt; that allows to specify the fields you want to be displayed. To separate them, I choose &lt;a href="https://www.lightningdesignsystem.com/components/badges/"&gt;Badges&lt;/a&gt;. IMHO there isn't much value in showing fieldNames and mess up the display.&lt;/p&gt; 
&lt;p&gt;The source code can be found in &lt;a href="https://github.com/Stwissel/lwcaura/tree/master/experiments/experiment5/main/default/lwc"&gt;Experiment 5&lt;/a&gt;, enjoy! As usual YMMV!&lt;/p&gt; 
&lt;p&gt;Next stop: proper &lt;a href="https://jestjs.io/"&gt;Jest&lt;/a&gt; test harness&lt;/p&gt;</description>
	<link>2019/04/dynamic-lookup-for-lwc-update.html</link>
	<author>Stephan H. Wissel</author>
	<guid>064cfad0-5835-11e9-80c9-15cc4ab76379</guid>
	<pubDate>06 April 2019</pubDate>

</item>

</channel>
</rss>
