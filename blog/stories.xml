<?xml version="1.0"?>
<rss version="2.0">
<channel>
	<title>wissel.net Usability - Productivity - Business - The web - Singapore and Twins</title>
	<link>https://wissel.net/blog/stories.rss</link>
	<description>Thoughts, Insights and Opinions of Stephan H. Wissel. Topics included: Salesforce, Lotus Notes and Domino, IBM Websphere, NodeJS, JavaScript,  J2EE, .Net, Software Archtecture, Personcentric Development, Agile Software, SDLC, Singapore and my Twins</description>
	<language>en,de</language>
	<copyright>(C) 2003 - 2021 Stephan H. Wissel, All rights reserved</copyright>
	<pubdate>Tue, 07 Oct 2025 18:17:19 +0000</pubdate>
<item>
	<title>A flexible filter for collections or maps</title>
	<description>&lt;p&gt;Building a proxy for http requests I came across an interesting generic problem: filter or mutate a map but only for the occurence of some given set of keys.&lt;/p&gt;
&lt;h3&gt;That's a lot of &lt;code&gt;if - else - switch&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;The going approach is to have a specialized method with a switch:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-java"&gt;  Map&amp;lt;String, String&amp;gt; transformMap(Map&amp;lt;String, String&amp;gt; input, String joker) {
    Map&amp;lt;String, String&amp;gt; result = new HashMap&amp;lt;&amp;gt;();

    input.entrySet().forEach(entry -&amp;gt; {
      String key = entry.getKey();
      String value = entry.getValue();
      switch (key) {
        case "a":
          result.put(key, "alpha");
          break;
        case "b":
          result.put(key, "beta");
          break;
        case "j":
          result.put(key, joker + "!");
        default:
          result.put(key, value);
      }
    });

    return result;
  }
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This gets big and hard to maintain fast, so I was thinking of a more neutral approach entertaining &lt;a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/Function.html"&gt;Function&lt;/a&gt; and &lt;a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Optional.html"&gt;Optional&lt;/a&gt;, hear me out.&lt;/p&gt;</description>
	<link>2025/10/a-flexible-filter-for-collections-or-maps.html</link>
	<author>Stephan H. Wissel</author>
	<guid>8e33a610-a13a-11f0-a492-855ef152a38b</guid>
	<pubDate>04 October 2025</pubDate>

</item>
<item>
	<title>Arguing with Claude about StableCoins</title>
	<description>&lt;p&gt;Winding down after a busy week, I decided to have som fun with &lt;a href="https://claude.ai/"&gt;Claude&lt;/a&gt;, so I &lt;a href="https://claude.ai/share/dd6f0e0d-1671-427e-ad4a-23239c3001ea"&gt;asked&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Explain to an A-Level student what stable coins are&lt;/h2&gt;
&lt;p&gt;Explain how they are created, distributed and backed. List the business model for coin issuers and traders. Discuss their advantages and risks compared to other cryptocurrencies as well as fiat currencies.&lt;/p&gt;</description>
	<link>2025/09/arguing-with-claude-about-stablecoins.html</link>
	<author>Stephan H. Wissel</author>
	<guid>bbfd4e00-9a70-11f0-8765-1774fedaa2ba</guid>
	<pubDate>26 September 2025</pubDate>

</item>
<item>
	<title>Authentication with PKCE and vanilla JavaScript</title>
	<description>&lt;p&gt;Finally you got rid of user management in your application since your organisation has standardized on an &lt;a href="https://www.cloudflare.com/en-gb/learning/access-management/what-is-an-identity-provider/"&gt;IdP&lt;/a&gt;. There are plenty to choose from. I usually develop using a &lt;a href="/blog/2024/10/onetime-idp-with-keycloak.html"&gt;Keycloak&lt;/a&gt; IdP before I test it with the target IdP (and yes: Azure Entrada tries to be different).&lt;/p&gt;
&lt;p&gt;So it's time to adjust your &lt;a href="https://developer.mozilla.org/en-US/docs/Glossary/SPA"&gt;SPA&lt;/a&gt; to use the IdP. The admins tell you, you need to use &lt;a href="https://auth0.com/docs/get-started/authentication-and-authorization-flow/authorization-code-flow-with-pkce"&gt;PKCE&lt;/a&gt;, part of the &lt;a href="https://openid.net/developers/how-connect-works/"&gt;OIDC&lt;/a&gt; specification&lt;/p&gt;
&lt;h3&gt;Where is the fun in ready made?&lt;/h3&gt;
&lt;p&gt;A &lt;a href="https://www.npmjs.com/search?q=OIDC&amp;amp;sortBy=downloads_monthly"&gt;quick search on npmjs&lt;/a&gt; shows, the topic is popular and AWS takes the crown. But for deeper understanding, let's roll our own.&lt;/p&gt;
&lt;h3&gt;Prerequisites&lt;/h3&gt;
&lt;p&gt;There are just four items you need. The first three are provided by your IdP admins, the forth one you have to provide to them.&lt;/p&gt;
&lt;ul&gt;
 &lt;li&gt;The URL of your IdP, the full path where &lt;code&gt;.well-known&lt;/code&gt; can be found. That's usually the root, but does differ for Entrada or Keycloak&lt;/li&gt;
 &lt;li&gt;The issuer. That typically is the URL, except for Entrada&lt;/li&gt;
 &lt;li&gt;The clientId. A String, usually opaque&lt;/li&gt;
 &lt;li&gt;The callback urls. Pick those wisely. Typically you want three: &lt;code&gt;http://localhost:3000/myApp&lt;/code&gt;, &lt;code&gt;https://localhost:8443/myApp&lt;/code&gt; and &lt;code&gt;https://final.place.com/myApp&lt;/code&gt; The first two enable you to test your application locally with both http and https&lt;/li&gt;
&lt;/ul&gt;</description>
	<link>2025/09/authentication-with-pkce-and-vanilla-javascript.html</link>
	<author>Stephan H. Wissel</author>
	<guid>d41aa310-8734-11f0-8a15-a76556d24dc9</guid>
	<pubDate>01 September 2025</pubDate>

</item>
<item>
	<title>Installing a macOS developer workstation</title>
	<description>&lt;p&gt;It is sitting on my desk, a shiny M4 MacBook. It wants to be configured. I can take the easy route and use the &lt;a href="https://support.apple.com/en-sg/102613"&gt;Migration Assistant&lt;/a&gt;. But that would carry forward all the cruft the various incarnations of the Migration Assistant have accumulated over the decade. So I went the hard way.&lt;/p&gt;
&lt;h3&gt;Manual with a dash of AppStore&lt;/h3&gt;
&lt;p&gt;First Stop: update macOS. In my case Sequoia 15.1 -&amp;gt; 15.6.1&lt;/p&gt;
&lt;p&gt;Installation falls into 3 categories&lt;/p&gt;
&lt;ul&gt;
 &lt;li&gt;command line tooling&lt;/li&gt;
 &lt;li&gt;settings &amp;amp; data&lt;/li&gt;
 &lt;li&gt;GUI applications&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Followed by the reconfiguration of license keys&lt;/p&gt;</description>
	<link>2025/08/installing-a-macos-developer-workstation.html</link>
	<author>Stephan H. Wissel</author>
	<guid>ab012430-84d3-11f0-a69f-6fd5883f9ade</guid>
	<pubDate>29 August 2025</pubDate>

</item>
<item>
	<title>CouchDB, JWKS and PEM public keys</title>
	<description>&lt;p&gt;Depending on &lt;a href="/blog/2024/06/how-deep-do-you-authenticate.html"&gt;how deep you authenticate&lt;/a&gt;, you might be tasked maintaining a user base in &lt;code&gt;_users&lt;/code&gt; (and welcome to "I forgot my password" hell). The standing recommendation is to implement a single source of identity using a directory as &lt;a href="https://www.cloudflare.com/learning/access-management/what-is-an-identity-provider"&gt;Identity Provider (IdP)&lt;/a&gt;. My favorite &lt;a href="https://couchdb.apache.org/"&gt;NoSQL database&lt;/a&gt; can be &lt;a href="https://docs.couchdb.org/en/stable/api/server/authn.html#jwt-authentication"&gt;configured&lt;/a&gt; to trust JWT signed by known IdPs, so let's do that.&lt;/p&gt;
&lt;h3&gt;Some assembly required&lt;/h3&gt;
&lt;p&gt;CouchDB can be configured in three ways: Edit the respective ini file, use the Fauxton UI or use the REST API. I like the later since I'm comfortable with &lt;a href="https://curl.se/"&gt;curl&lt;/a&gt; and &lt;a href="https://www.usebruno.com/"&gt;Bruno&lt;/a&gt; (not a fan of Postman anymore). The steps are:&lt;/p&gt;
&lt;ul&gt;
 &lt;li&gt;configure a client on your identity provider&lt;/li&gt;
 &lt;li&gt;enable JWT authentication&lt;/li&gt;
 &lt;li&gt;specify what claims are mandatory&lt;/li&gt;
 &lt;li&gt;specify how to map roles&lt;/li&gt;
 &lt;li&gt;add trustedd public keys&lt;/li&gt;
 &lt;li&gt;restart your node&lt;/li&gt;
&lt;/ul&gt;</description>
	<link>2025/07/couchdb-and-jwks.html</link>
	<author>Stephan H. Wissel</author>
	<guid>268f01d0-6d46-11f0-802c-d975bb98b8ec</guid>
	<pubDate>30 July 2025</pubDate>

</item>
<item>
	<title>Report your CSP (violations)</title>
	<description>&lt;p&gt;I'm a big fan of a strict &lt;a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Guides/CSP"&gt;Content Security Policy (CSP)&lt;/a&gt;. It can be a pain to setup (but there is help, &lt;a href="https://report-uri.com/home/generate"&gt;&lt;strong&gt;here&lt;/strong&gt;&lt;/a&gt;, &lt;a href="https://cybeready.com/top-9-content-security-policy-generators/"&gt;here&lt;/a&gt;, &lt;a href="https://chromewebstore.google.com/detail/content-security-policy-c/ahlnecfloencbkpfnpljbojmjkfgnmdc?hl=en"&gt;here&lt;/a&gt; and &lt;a href="https://www.quantcdn.io/tools/automatic-csp-generator"&gt;&lt;strong&gt;here&lt;/strong&gt;&lt;/a&gt;) and &lt;a href="https://csp-evaluator.withgoogle.com/"&gt;evaluate&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;Let's report it&lt;/h3&gt;
&lt;p&gt;You won't know if a policy was tried to be violated unless the attempt is reported back to your application. For that purpose we use the CSP directives &lt;a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Headers/Content-Security-Policy/report-to"&gt;&lt;code&gt;report-to&lt;/code&gt;&lt;/a&gt; and the older, deprecated &lt;a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Headers/Content-Security-Policy/report-uri"&gt;&lt;code&gt;report-uri&lt;/code&gt;&lt;/a&gt;. Until Firefox catches up, use both. When a browser supports &lt;code&gt;report-to&lt;/code&gt;, &lt;code&gt;report-uri&lt;/code&gt; gets ignored.&lt;/p&gt;
&lt;p&gt;Reporting isn't only useful in production, but already during development and especially during retrofitting. There you can swap the &lt;code&gt;Content-Security-Policy&lt;/code&gt; header for &lt;code&gt;Content-Security-Policy-Report-Only&lt;/code&gt;. It will allow all content to load, but report back all violations.&lt;/p&gt;
&lt;p&gt;You then run your &lt;a href="https://www.browserstack.com/guide/end-to-end-testing"&gt;E2E Tests&lt;/a&gt; (You have those, haven't you?) and get a free overview what loads from where. Adjust the CSP, rinse and repeat.&lt;/p&gt;
&lt;h3&gt;Where to report to?&lt;/h3&gt;
&lt;p&gt;There are numerous SaaS providers with fancy dashboards, that offer ready made solutions. When you are pressed for time, that might be your best option. I haven't evaluated them, so I can't recommend or endorse them.&lt;/p&gt;</description>
	<link>2025/07/report-your-csp.html</link>
	<author>Stephan H. Wissel</author>
	<guid>e2912cf0-6148-11f0-b6bc-9dae663e3d57</guid>
	<pubDate>07 July 2025</pubDate>

</item>
<item>
	<title>HTML's template element in single page applications</title>
	<description>&lt;p&gt;"&lt;em&gt;We need to use [insert-framework-of-the-day]!&lt;/em&gt;" is the typical answer when asking for a light web single page application (SPA).&lt;/p&gt;
&lt;p&gt;It doesn't need to be that way, &lt;a href="https://paulswithers.github.io/"&gt;Paul&lt;/a&gt; and myself shared in a &lt;a href="https://github.com/paulswithers/super-procode-mode-openntf"&gt;recent webinar&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;Serving the long tail&lt;/h3&gt;
&lt;p&gt;&lt;a href="https://www.wavemaker.com/long-tail-apps-shadow-it-problem/"&gt;Long Tail Apps&lt;/a&gt; tend to be outside of IT control, since they bypass the (usually heavy) standup of an IT development project.&lt;/p&gt;
&lt;p&gt;That standup could be way lighter, when your application just consists of one html file, one css file, one js file, one manifest and (optionally) one or more image files as well as a &lt;a href="https://opensource.hcltechsw.com/Domino-rest-api/references/hostingstatic.html"&gt;definded point of deployment&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The typical objection goes: "&lt;em&gt;But it is never one HTML file, I need a login, a list and a form in read and edit mode&lt;/em&gt;"&lt;/p&gt;
&lt;h3&gt;template to the rescue&lt;/h3&gt;
&lt;p&gt;The &lt;a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Elements/template"&gt;&lt;code&gt;&amp;lt;template&amp;gt;&lt;/code&gt;&lt;/a&gt; element is part of the &lt;a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_components"&gt;WebComponents&lt;/a&gt; specification and it is useful in simple SPA applications.&lt;/p&gt;</description>
	<link>2025/06/html-templates-spa.html</link>
	<author>Stephan H. Wissel</author>
	<guid>bfdb1860-5009-11f0-9a8e-691adff7d010</guid>
	<pubDate>23 June 2025</pubDate>

</item>
<item>
	<title>Fun with AI system prompts</title>
	<description>&lt;p&gt;&lt;a href="https://www.google.com/search?q=ai+chatbots"&gt;AI Chatbots&lt;/a&gt; are a popular topic. As part of a session at &lt;a href="https://engage.ug/"&gt;Engage 2025&lt;/a&gt; I was looking for an easy to grasp example to understand the difference of user prompt and system prompt, the later typically invisible to the user. My goal was to make it abundantly clear how important the system prompt is.&lt;/p&gt;
&lt;p&gt;I settled sending the same user prompt with vastly different system prompts. Here is what I got.&lt;/p&gt;
&lt;h3&gt;Romeo at the balcony&lt;/h3&gt;
&lt;p&gt;Mercutio?s mocking my love and he?s never been in love himself.&lt;/p&gt;
&lt;p&gt;Wait. What?s that light coming from the window over there? It?s like the east, with Juliet as the morning sun! Rise, Juliet, beautiful sun, and kill the jealous moon who?s already fading and sad because you are far more beautiful than she is. Don?t swear off men like the virgin moon goddess Diana?the moon envies you anyway. Her virginal appearance is weak and pale and only fools want to emulate it. Get rid of it.&lt;/p&gt;
&lt;p&gt;It?s my lady! Oh, it?s my love. Oh, if only she knew I love her. She?s talking but I can?t hear anything. What does it matter?&lt;/p&gt;
&lt;p&gt;Her expression means something and I can answer that. No, I?m being too forward. She?s not talking to me. Oh, if two of the most beautiful stars had to leave heaven on important business, they?d ask her eyes to do the twinkling for them while they were gone! What if her eyes took their places in the sky and those stars became her eyes? Her beautiful face would outshine those stars in her head like daylight outshines lamps, while her eyes in the sky would be so bright at nighttime that birds would be convinced it was day. Look at how she leans her cheek on her hand. I wish I were a glove on her hand so I could touch her cheek!&lt;/p&gt;</description>
	<link>2025/05/fun-with-ai-system-prompts.html</link>
	<author>Stephan H. Wissel</author>
	<guid>d4495700-365d-11f0-87fb-618e413f1645</guid>
	<pubDate>07 May 2025</pubDate>

</item>
<item>
	<title>Deploying a Single Page Application using the Domino REST API</title>
	<description>&lt;p&gt;The &lt;a href="https://opensource.hcltechsw.com/Domino-rest-api/"&gt;Domino REST API&lt;/a&gt; not only provides secure access to "jsonified" Domino data,&lt;br&gt;
  but also comes with capabilities to ease integration. This enables one to quickly cater to &lt;a href="https://en.wikipedia.org/wiki/Long_tail"&gt;the long tail&lt;/a&gt; of applications, giving them a home instead of loosing them to the shadow IT.&lt;/p&gt;
&lt;p&gt;Once you know the steps, you can deploy new &lt;a href="https://developer.mozilla.org/en-US/docs/Glossary/SPA"&gt;Single Purpose Applications&lt;/a&gt; (I modified the meaning of SPA a little) in no time.&lt;/p&gt;
&lt;h3&gt;No CORS, no headache&lt;/h3&gt;
&lt;p&gt;DRAPI allows to &lt;a href="https://opensource.hcltechsw.com/Domino-rest-api/references/hostingstatic.html"&gt;host static applications&lt;/a&gt; in the &lt;code&gt;keepweb.d&lt;/code&gt; directory. "Static" might be a little misnomer (it only relates to the source files, not the interaction) since a JS file can make your experience quite interactive. Since you run on the same Domain and port as the API, you don't need to worry about &lt;a href="https://developer.mozilla.org/en-US/docs/Glossary/CORS"&gt;CORS&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;Preparation&lt;/h3&gt;
&lt;p&gt;Your SPA will live in a sub directory of &lt;code&gt;keepweb.d&lt;/code&gt;, so think about a name, we shall use &lt;code&gt;demo42&lt;/code&gt; here. Add a suitable icon (e.g. 72x72 px png), name it &lt;code&gt;demo42.png&lt;/code&gt; and you are ready to roll. Let's assume our Domino API is running on &lt;code&gt;https://api.demo.io&lt;/code&gt;&lt;/p&gt;
&lt;h3&gt;Work faster with vitejs&lt;/h3&gt;
&lt;p&gt;&lt;a href="https://vite.dev/"&gt;viteJS&lt;/a&gt; is one of the fronteand tools you &lt;strong&gt;want&lt;/strong&gt; to learn. It features "hot module reload" to speed up development and, when done, packages your application nice and tidy.&lt;/p&gt;
&lt;p&gt;It is easy to get started. You need a current version (22.x at time of writing) of &lt;a href="https://nodejs.org/en"&gt;nodeJS&lt;/a&gt; installed as development tooling.&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-bash"&gt;npm create vite@latest demo42 -- --template vanilla
cd demo42
npm install
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This will create the demo42 directory and scaffold the project for you. Before we get started with athe development, let's adjust the environment. In the root of the project create a file &lt;code&gt;vite.config.js&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-js"&gt;import { defineConfig } from 'vite';

export default defineConfig({
  base: '/keepweb/demo42/',
  server: {
    proxy: {
      '/api': {
        target: 'https://api.demo.io',
        changeOrigin: true
      }
    }
  }
});
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This allows you to develop in the comfort of your local machine's &lt;a href="https://vite.dev/guide/api-hmr"&gt;hot module reload&lt;/a&gt; which refreshes your app on svae automagically. It also fixes the path matching to its final destination. Next create in &lt;code&gt;public&lt;/code&gt; the file &lt;code&gt;manifest.json&lt;/code&gt;. This file defines the tile layout for the landing page.&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-json"&gt;{
  "short_name": "Demo 42",
  "name": "The final answer to all Demos",
  "start_url": ".",
  "display": "standalone",
  "theme_color": "#000000",
  "background_color": "#aacccc",
  "icon": "vite.svg"
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can play with colors and icons as you deem fit. Now we are ready to run the application:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-bash"&gt;npm run dev
&lt;/code&gt;&lt;/pre&gt;</description>
	<link>2025/03/deploying-a-spa-to-drapi.html</link>
	<author>Stephan H. Wissel</author>
	<guid>7e85c300-0339-11f0-b3bc-e33450aa6e10</guid>
	<pubDate>17 March 2025</pubDate>

</item>
<item>
	<title>ufw cheatsheet</title>
	<description>&lt;p&gt;Mainly as a note to self.&lt;/p&gt;
&lt;h3&gt;My default firewall setup&lt;/h3&gt;
&lt;pre&gt;&lt;code class="language-bash"&gt;sudo ufw status
sudo ufw default allow outgoing
sudo ufw default deny incoming
grep IPV6 /etc/default/ufw
sudo ufw allow ssh
sudo ufw limit ssh/tcp comment 'Rate limit for openssh server'
sudo ufw allow 80/tcp comment 'Allow nginx HTTP'
sudo ufw limit 80 comment 'limit nginx HTTP'
sudo ufw allow 443/tcp comment 'Allow nginx HTTPS'
# For Domino mail
sudo ufw allow 1352/tcp comment 'Allow Notes replication'
sudo ufw allow 25/tcp comment 'Allow SMTP'
sudo ufw allow 587/tcp comment 'Allow SMTP'
sudo ufw allow 110/tcp comment 'Allow POP3'
sudo ufw allow 995/tcp comment 'Allow POP3s'
sudo ufw allow 143/tcp comment 'Allow IMAP'
sudo ufw allow 993/tcp comment 'Allow IMAPs'
sudo ufw allow from 1.2.3.4 'Allow the othe Domino'
sudo ufw enable
&lt;/code&gt;&lt;/pre&gt;</description>
	<link>2025/02/ufw-cheatsheet.html</link>
	<author>Stephan H. Wissel</author>
	<guid>dd7313e0-f3a3-11ef-85ce-6116619fca24</guid>
	<pubDate>26 February 2025</pubDate>

</item>

</channel>
</rss>
