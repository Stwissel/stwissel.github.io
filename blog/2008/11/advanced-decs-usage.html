<!DOCTYPE html>
<html lang="en">
<head>
<title>Advanced DECS usage - NotesSensei's Blog</title>
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-72033-1', 'auto');
ga('send', 'pageview');
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible"  content="chrome=1" />
<meta http-equiv="Content-Language" content="en" />
<meta rel="meta" link="application/rdf+xml" content="/foaf.rdf" />
<meta property="og:title"     content="wissel.net - Advanced DECS usage" />
<meta property="og:type"      content="blog" />
<meta property="og:url"       content="https://wissel.net/blog/2008/11/advanced-decs-usage.html" />
<meta property="og:image"     content="//www.wissel.net/blog/img/wisselnet.gif" />
<meta property="og:site_name" content="wissel.net" />
<meta name="viewport"         content="width=device-width, initial-scale=1.0" />
<meta name="ROBOTS"           content="FOLLOW, NOIMAGEINDEX" />
<meta name="DC.Title"         content="NotesSensei's Weblog - Advanced DECS usage" />
<meta name="Author"           content="Stephan H. Wissel" />
<meta name="ICBM"             content="1.2994, 103.8425" />
<meta name="Copyright"        content="2002,2022 Stephan H. Wissel - Creative commons licence" />
<meta name="twitter:site"     content="@notessensei" />
<meta name="twitter:card"     content="summary" />
<meta name="xing:author"      content="https://www.xing.com/profile/StephanH_Wissel" />
<meta name="description"
	content="Advanced DECS usage - Relational data models are a very popular abstraction used in IT. And a abstraction they are rather than a mapping. I haven&#39;t come across a relational table in real live, but only documents (the ones signed by a national bank president are my personal favorites). So while document databases, objects" />
<meta name="Keywords"
	content="Show-N-Tell Thursday," />
<meta name="Abstract"
	content="Advanced DECS usage - Relational data models are a very popular abstraction used in IT. And a abstraction they are rather than a mapping. I haven&#39;t come across a relational table in real live, but only documents (the ones signed by a national bank president are my personal favorites). So while document databases, objects" />
<!--[if lt IE 9]>
		<script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<link rel="stylesheet" type="text/css" href="/blog/style/bootstrap.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/responsive.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/wisselblog.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/main.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/blogcodedisplay.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/shariff.complete.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/markdown.css" />
<link rel="stylesheet" type="text/css" href="/blog/css/prism.css" />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Raleway&display=swap" rel="stylesheet">
<link rel="icon" type="image/png" href="/blog/img/favicon-32x32.png" sizes="32x32" />
<link rel="icon" type="image/png" href="/blog/img/favicon-16x16.png" sizes="16x16" />


<link rel="alternate" type="application/rss+xml" title="RSS News Feed" href="https://feeds.feedburner.com/Wisselnetfeed" />

<meta name="Revisit-After" content="90 Days" />
</head>
<body class="line-numbers">
	<div class="navbar navbar-inverse navbar-fixed-top">
		<div class="navbar-inner">
			<a class="btn btn-navbar" data-toggle="collapse"
				data-target=".nav-collapse"> <span class="icon-bar"></span> <span
				class="icon-bar"></span> <span class="icon-bar"></span>
			</a> <a class="brand" href="/">wissel.net</a>
			<div class="nav-collapse">
				<ul class="nav">
					<li><a href="/index.html">Home</a></li>
					<li class="active"><a href="/blog/">Blog</a></li>
					<li><a href="/blog/series.html">Series</a></li>
					<li><a href="/blog/downloads/">Downloads</a></li>
					<li><a href="https://stwissel.github.io/presentations/" title="Presentations maintained on GitHub">Presentations</a></li>
					<li><a href="/blog/imprint.html">About / Imprint</a></li>
				</ul>
				<form action="//www.google.com/cse" id="cse-search-box"
					class="navbar-search pull-right">
					<div>
						<input type="hidden" name="cx"
							value="partner-pub-4562257798204150:muo14ionenw" /> <input
							type="hidden" name="ie" value="ISO-8859-1" /> <input type="text"
							name="q" class="search-query span2" placeholder="Search" />
						<!-- input type="submit" name="sa" value="Search" class="btn btn-small"/-->
					</div>
				</form>
			</div>
		</div>
	</div>
<div class="navbar-spacer"></div>

	<div class="container">
    		<br />
		<header>
			<div id="mainsmall"  class="hero-unit">
				<h2>wissel.net</h2>
				<p>Usability - Productivity - Business - The web - Singapore &amp; Twins</p>
			</div>
		</header>

     
    <ul class="breadcrumb">
  <li><a href="/blog/">Blog</a> <span class="divider">/</span></li>
  <li><a href="/blog/2008/">2008</a> <span class="divider">/</span></li>
  <li><a href="/blog/2008/11/">November</a></li>
  <li class="pull-right">
    <span class="divider">|</span><a href="/blog/categories/showntellthursday.html">Show-N-Tell Thursday</a>
  </li>
	<li class="pull-right">
	<span class="divider">|</span><a href="/blog/d6plinks/SHWL-7G5CW5" title="originally published at /blog/d6plinks/SHWL-7G5CW5">SHWL-7G5CW5</a>
	</li>
</ul>

		<div class="row-fluid">
			<div class="span12">
				
				<ul class="breadcrumb pull-centre">
					<li><a href="/blog/2008/11/practical-magic-with-dxl.html"><i class="icon-hand-left"></i>Practical Magic with DXL</a>
						<span class="divider">|</span></li>
					<li><a href="/blog/"><i class="icon-hand-up"></i>Main</a></li>
					<span class="divider">|</span>
					<li><a href="/blog/2008/11/capturing-software-requirements.html">Capturing Software Requirements<i class="icon-hand-right"></i></a>
					</li>
				</ul>

				<article class="well well-raised">
					<h1><small>Advanced DECS usage</small></h1>
					<hr />
					<div>Relational data models are a very popular abstraction used in IT. And a abstraction they are rather than a mapping. I haven't come across a relational table in real live, but only documents (the ones signed by a national bank president are my personal favorites). So while document databases, objects and attributes are a better fit to the real world, RDBMS are well understood, come with a powerful query language and are reasonably standardized. Naturally you will come across the requirement to connect Notes and Domino applications to a relational back-end. The options are plenty: ODBC (bad idea), JDBC, LCLX, DECS, LEI or DB2NSF (not mentioning the 3rd party tools). Typically I see the RDBMS connections entangled in code creating <a href="http://jamesshore.com/Articles/Business/Software%20Profitability%20Newsletter/Design%20Debt.html">more of this</a>. A better way to separate concerns is to remove RDBMS connections from your code and let the server handle that. In Domino you can use <a href="http://www.ibm.com/developerworks/lotus/documentation/decs/">DECS</a> (Domino Enterprise Connection Service) and <a href="http://www.ibm.com/lotus/lei">LEI</a> (Lotus Enterprise Integrator) for that. DECS comes with Notes since some R5 version, LEI is happily sold to you by your local IBM sales rep. I will focus on DECS for this post. 
<br> The typical DECS use is to define a data connection (tip use OLEDB not ODBC to connect to MS-SQL), a data-form mapping and import the primary keys. In the data form mapping (a.k.a Activity in DECS terminology) you set what events you want to monitor: create, read, update, delete. Typically works like a charm. Any data that is updated on the RDBMS is automatically pulled into the Notes form when opened. The biggest drawback: DECS doesn't monitor record creation or deletion on the RDBMS side (that is what besides other capabilities LEI is made for). So DECS seems to be confined to cases where creation/deletion is limited to a Domino side activity. Also DECS can't trigger stored procedures. With a little creativity however you can push the use of DECS far beyond that. I'll describe some use cases I came across where DECS was used to avoid mixing Domino and RDBMS code in a function or an agent: 
<ul>
 <li>Employee information is stored in a RDBMS as part of the HRMS. The employee ID is populated into the Domino Directory (yes it has a field for that). In an Notes application data is needed from the RDBMS. Instead of writing LCLSX code the application simply looks up the empPara document that is linked to the RDBMS using DECS. The document might not exist yet (if the user never had used that application before). If it does not exist it is created and populated just with the EmpID. When closed and reopened it will pull the employee information from the RDBMS. This is possible since the DECS task only monitors read/update. A scheduled agent removes documents when there is no more match in the Domino directory. In summary: if you can anticipate or know the primary key of a record you need, you can use DECS by not monitoring creation/deletion.</li>
 <li>Based on a workflow stored procedures in a Oracle database need to be triggered. Here some work both on the RDBMS and the Domino side was done, clearly separating both. An auxiliary table was created in Oracle with an INSERT trigger, that would execute the stored procedure using parameters given in that table and write back the success of the operation. Initially it was planned to purge the table regularly (using a Domino agent deleting the documents) but then audit loved the additional documentation, so just archival was established. During the project there were a lot of changes on both ends, however the approach of using a trigger driven table proved to be very efficient to separate the two environments minimizing interference. E.g. one stored procedure would generate a unique identifier according to some obscure, constantly changing rule. By storing that result into the aux table and creating (after reading the document linked to that table) a corresponding Notes document (again create was not monitored in that scenario) application flow was seamless.</li>
 <li>Enterprise parameter management <b>[Updated]</b> was created in a RDBMS application. Many Domino applications would need to use these parameters. Instead of having LotusScript code in every application doing RDBMS lookups DECS was used to populate and update a parameter NSF. In the activity the option "leave values in documents" was selected, so fast selections (like @DBColumn or NotesView.getColumnValues) would work. Since parameter changes happened rarely a copy of the populate keys agent from the DECSAdm database was created that would periodically shut down the activity for the parameter NSF (only the activity not the whole DECS server), pull the keys from the RDBMS based on the activity definition but only insert new keys (the original agent duplicates keys when you run it twice). Lastly it restarts the activities in DECS. </li>
</ul> You of course can rightfully ask: why shouldn't I just use some LCLX code to connect. It isn't much more trouble. The answer is short: DECS allows separation of concern. Your Domino developers deal with what they know best: Domino. You retain the interface (and interfaces are the pieces that can make and brake an upgrade of any system) configurable <b>outside</b> of your own code. The whole UI for configuring and mapping has been tried and tested for years and you can open a PMR (the IBM lingo for: bug report) against it for IBM to deal with problems. You can't do that with your own code. DECS also deals with format translation and relives you from the temptation to write inefficient SQL, last not least DECS taking care of connections and connection pooling.</div>
					<hr />
					<p>
						Posted by <a rel="author" href="https://plus.google.com/u/0/+StephanWissel">
Stephan H Wissel</a> on 21 November 2008
<span class="divider">|</span>
<a href="/blog/2008/11/advanced-decs-usage.html#comments">Comments (7)</a>
<span class="divider">|</span>
categories:  <a href="/blog/categories/showntellthursday.html">Show-N-Tell Thursday</a> 

						<script type="text/javascript">
							var permaLink = "https://wissel.net/blog/2008/11/advanced-decs-usage.html";
						</script>
					</p>
				</article>
				<a name="comments"></a>
				<div class="well well-raised" style="text-align : center">
				<button class="btn btn-lg btn-info" data-toggle="collapse" data-target="#commentform_0EA9621F91D8BAD6482574790032FD1C" type="button">
		            Add your comment...&nbsp;&nbsp;<span class="glyphicon glyphicon-comment"></span>
	            </button>
	            </div>
				<div id="commentform_0EA9621F91D8BAD6482574790032FD1C"  class="collapse"></div>
				<div class="well well-raised">
					<h4>Comments</h4>
					<ol id="commentList">
						<li>
							posted by <b>David Leedy</b> on <i>Saturday 22 November 2008 AD</i>:<br /> 
  Doesn't DECS have a limitation where the backend data needs to be on the same box as the Domino Server?? We run most of our servers on an iSeries. But our business applications and data are on different iSeries. I thought that if I set up DECS I couldn't pull data from the foreign iSeries... 
  <br /> 
  <br />Is that true? 
  <br /> 
  <br />Thanks
 
							<hr style="clear : both" />
						</li> 						<li>
							posted by <b>Stephan H. Wissel</b> on <i>Saturday 22 November 2008 AD</i>:<br /> 
  @David: Nope. DECS doesn't need data parity. DECS only will be able to pull data it &quot;knows&quot; about, means: where a document with the primary key of that table exists. By not monitoring the creation events you can add missing keys. 
  <br />On the iSeries (which is not my core Domain) afaik DECS uses the data catalog, you remote data might work if it is in the local catalog. 
  <br /> 
  <img alt="Emoticon smile.gif" src="/blog/images/emoticons/smile.gif" border="0" /> stw
 
							<hr style="clear : both" />
						</li> 						<li>
							posted by <b>Gerry Shappell</b> on <i>Saturday 22 November 2008 AD</i>:<br /> 
  Just to affirm, you dont need your data to reside on the same server. In fact, I have connected to a db2 file on a AIX box through a subnet from a wintel netfinity. Depending on OS's you made need to create connections/accts that will give you access to that other box and file. Also, the argument for DECS and LSX will really vary by application. With some apps, I found it easier to use LSX to pull back the data that I needed for a web application...other times DECS was the answer. Lots of factors to take into acct, the experience of your developers, the traffic of your application, application availability(some backup solutions require DECS to be shut down during backup), web vs notes ui, etc...
 
							<hr style="clear : both" />
						</li> 						<li>
							posted by <b>Slawek</b> on <i>Sunday 23 November 2008 AD</i>:<br /> 
  I take it that by &quot;real live&quot; in the third sentence you mean data that people use in their interactions. 
  <br /> 
  <br />Once could argue that a document is an abstraction and a very high level one at that. 
  <br /> 
  <br />I would say that people deal with summaries of vast data sets that are otherwise stored in collections or information elements (documents) or collections data elements (records). As such documents are a higher level abstraction partly constructed from relational data.
 
							<hr style="clear : both" />
						</li> 						<li>
							posted by <b>Stephan H. Wissel</b> on <i>Sunday 23 November 2008 AD</i>:<br /> 
  @Slawek: with &quot;real live&quot; I refer to tangible documents which predate IT and are still very much in use today. The Universal Business Language (UBL) is expressed as documents (XML in that case). An it it actually the other way around: Documents are the business artifact which we mentally split into tables and relations. A RDBMS is just one, ok - the most prevalent, way to serialize/persist documents. From a business perspective RDBMS are irrelevant, they are just the tool that helps to deliver the business functionality (I'm ending on the RDBMS developers' most hated list for that). For every example why RDBMS are needed and their related SQLs you can produce an XPath or XQuery statement with equivalent functionality. 
  <br />Don't get me wrong: RDBMS do a good job in abstracting/persisting/serializing/querying business data, so I wouldn't toss them out wholesale. However they are not the only way. You can see that in Domino's success being a document database and serving business needs very well. You also can see that in DB/2 where XPath is a valid option to ask for data. Check CouchDB, Cache, XMLdb, Perserve and friends for other approaches (which look suspiciously like document/object databases) 
  <br /> 
  <img alt="Emoticon smile.gif" src="/blog/images/emoticons/smile.gif" border="0" /> stw
 
							<hr style="clear : both" />
						</li> 						<li>
							posted by <b>Slawek</b> on <i>Monday 24 November 2008 AD</i>:<br /> 
  Documents certainly capture the communication (flow of information) necessary to carry on a business. They are also used to summarize and embellish the data that is the life blood of the machinery of business. 
  <br /> 
  <br />I am making a distinction between data and information. As such, I see data as machine oriented (re the machinery of business) and information as people oriented. To me the relationship between data and information is that data gets processed to become information, so that it can inform (information -&gt; in-(a)-formation). 
  <br /> 
  <br />Before it was possible to store vast quantities of data, information was derived from &quot;experience&quot;. Now we are in a position to infer information from the data that we gather as part of doing business. 
  <br /> 
  <br />UBL describes documents such as invoices, POs, etc. These are human readable documents that form part of the paper trail to record business activities. The &quot;real&quot; record of these activities is expressed as ledger entries. These entries then form the basis for planning and forecasting, the result of which is once again expressed in documents for the benefit of people.
 
							<hr style="clear : both" />
						</li> 						<li>
							posted by <b>Charles Robinson</b> on <i>Tuesday 25 November 2008 AD</i>:<br /> 
  My problem with DECS was always the initialization of keys. The ERP database I work with doesn't use primary keys (or indexes for that matter) and it can take upwards of a dozen fields to establish record uniqueness. This makes any work with this database extremely difficult. 
  <br /> 
  <br />Considering DECS in light of what I know now, I can see that with a better designed database this could certainly make a lot more sense than always coding LC LSX. 
  <br /> 
  <br />Thanks for bringing this up, I had dismissed DECS and LEI long ago since it didn't fit my needs. I'm glad you made me reconsider it. 
  <img alt="Emoticon smile.gif" src="/blog/images/emoticons/smile.gif" border="0" />
 
							<hr style="clear : both" />
						</li> 					</ol>
				</div>
				<ul class="breadcrumb pull-centre">
					<li><a href="/blog/2008/11/practical-magic-with-dxl.html"><i class="icon-hand-left"></i>Practical Magic with DXL</a>
						<span class="divider">|</span></li>
					<li><a href="/blog/"><i class="icon-hand-up"></i>Main</a></li>
					<span class="divider">|</span>
					<li><a href="/blog/2008/11/capturing-software-requirements.html">Capturing Software Requirements<i class="icon-hand-right"></i></a>
					</li>
				</ul>

			</div>
		</div>
		<ul class="breadcrumb">
  <li><a href="/blog/">Blog</a> <span class="divider">/</span></li>
  <li><a href="/blog/2008/">2008</a> <span class="divider">/</span></li>
  <li><a href="/blog/2008/11/">November</a></li>
  <li class="pull-right">
    <span class="divider">|</span><a href="/blog/categories/showntellthursday.html">Show-N-Tell Thursday</a>
  </li>
	<li class="pull-right">
	<span class="divider">|</span><a href="/blog/d6plinks/SHWL-7G5CW5" title="originally published at /blog/d6plinks/SHWL-7G5CW5">SHWL-7G5CW5</a>
	</li>
</ul>

	</div>
	<footer>
		<div class="container">
			<div class="row">
				<div class="span2">
					<h4>About Me</h4>
					<p>
						I work as "Solution Director Innovation" for HCL Software. I'm based in Singapore.
						<g:plusone size="small" href="https://wissel.net/blog/"></g:plusone>
					</p>
					<a href="//stackoverflow.com/users/131021/stwissel">
					<img src="//stackoverflow.com/users/flair/131021.png" width="208" height="58" alt="profile for stwissel at Stack Overflow, Q&amp;A for professional and enthusiast programmer" title="profile for stwissel at Stack Overflow, Q&amp;A for professional and enthusiast programmer">
				</a>
				</div>
				<div class="span2">
					<h4>Contact</h4>
					<ul>
						<li><a href="https://www.twitter.com/notessensei">Twitter</a></li>
						<li><a href="https://sg.linkedin.com/in/notessensei">LinkedIn</a></li>
						<li><a href="https://www.xing.com/profile/StephanH_Wissel">XING</a></li>
						<li><a href="https://notessensei.myspreadshop.com">NotesSensei's Spreadshirt shop</a></li>
						<li><a href="http://about.me/stephan.wissel/#" title="Another identity site, nothing much here">About Me</a></li>
						<li><a rel="me" href="https://chaos.social/@stw">Chat on Mastodon</a></li>
					</ul>
				</div>
				<div class="span8">
					<h4>Disclaimer</h4>
					<p>This site is in no way affiliated, endorsed, sanctioned,
						supported, nor enlightened by my current or previous employers.
						I may be an employee, but the opinions, theories, facts, etc.
						presented here are my own and are in now way given in any official
						capacity. In short, these are my words and this is my site, not
						my current or former employers' - and don't even begin to think otherwise.</p>
					<p>
						<b>&copy; 2003 - 2022 Stephan H. Wissel - some rights reserved</b> as
						listed here: <a rel="license"
							href="//creativecommons.org/licenses/by-nc-sa/3.0/"><img
							alt="Creative Commons License" style="border-width: 0"
							src="//licensebuttons.net/l/by-nc-sa/3.0/88x31.png" /></a>
						Unless otherwise labeled by its originating author, the content
						found on this site is made available under the terms of an <a
							href="//creativecommons.org/licenses/by-nc-sa/3.0/"
							target="_blank"
							title="Learn more about the creative commons  Attribution-ShareAlike License">Attribution/NonCommercial/ShareAlike
							Creative Commons License</a>, with the exception that no rights are
						granted -- since they are not mine to grant -- in any logo,
						graphic design, trademarks or trade names of any type. Code
						samples and code downloads on this site are, unless otherwise
						labeled, made available under an <a
							href="//www.apache.org/licenses/LICENSE-2.0.html">Apache
							2.0</a> license. Other license models are available on written
						request and written confirmation.
					</p>
				</div>
			</div>
		</div>
	</footer>

	<script type="text/javascript">
		var permaLink = "https://wissel.net/blog/2008/11/advanced-decs-usage.html";
	</script>
		<script type="text/javascript" src="/blog/js/jquery-3.6.0.min.js"></script>
	<script type="text/javascript" src="/blog/js/bootstrap.js"></script>
	<script type="text/javascript" src="/blog/js/blogmain.js"></script>
    <script type="text/javascript" src="/blog/js2/prism.js"></script>
	<script src="//www.google-analytics.com/urchin.js" type="text/javascript"></script>
	<script type="text/javascript">
		_uacct = "UA-72033-1";
		urchinTracker();
	</script>
	<script type="text/javascript" src="//feeds.feedburner.com/~s/Wisselnet?i=https://wissel.net/blog" charset="utf-8"></script>

		<script src="/blog/js2/mustache.js"></script>
	<script src="/blog/js2/blogcomments.js"></script>
	<script type="text/javascript" src="/blog/js2/Markdown.Converter.js"></script>
    <script type="text/javascript" src="/blog/js2/Markdown.Sanitizer.js"></script>
    <script type="text/javascript" src="/blog/js2/Markdown.Editor.js"></script>
	<script type="text/javascript" src="//www.google.com/recaptcha/api.js"></script>
	<script src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit" async defer></script>
	<script type="text/javascript">
		var onloadCallback = function() {
    		renderComment("6LcBxUEUAAAAACzKM8YKb-RVVaIZ3MN6F1Z8FB_4", "0EA9621F91D8BAD6482574790032FD1C");
 		};
	</script>

</body>
</html>
