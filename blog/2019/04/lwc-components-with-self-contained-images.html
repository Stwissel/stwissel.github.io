<!DOCTYPE html>
<html lang="en">
<head>
<title>LWC components with self contained images - NotesSensei's Blog</title>
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-72033-1', 'auto');
ga('send', 'pageview');
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible"  content="chrome=1" />
<meta http-equiv="Content-Language" content="en" />
<meta rel="meta" link="application/rdf+xml" content="/foaf.rdf" />
<meta property="og:title"     content="wissel.net - LWC components with self contained images" />
<meta property="og:type"      content="blog" />
<meta property="og:url"       content="https://wissel.net/blog/2019/04/lwc-components-with-self-contained-images.html" />
<meta property="og:image"     content="//www.wissel.net/blog/img/wisselnet.gif" />
<meta property="og:site_name" content="wissel.net" />
<meta name="viewport"         content="width=device-width, initial-scale=1.0" />
<meta name="ROBOTS"           content="FOLLOW, NOIMAGEINDEX" />
<meta name="DC.Title"         content="NotesSensei's Weblog - LWC components with self contained images" />
<meta name="Author"           content="Stephan H. Wissel" />
<meta name="ICBM"             content="1.2994, 103.8425" />
<meta name="Copyright"        content="2002,2020 Stephan H. Wissel - Creative commons licence" />
<meta name="twitter:site"     content="@notessensei" />
<meta name="twitter:card"     content="summary" />
<meta name="xing:author"      content="https://www.xing.com/profile/StephanH_Wissel" />
<meta name="description"
	content="LWC components with self contained images - When you create your LWC components, it is easy to include Salesforce predefined icons using lightning-icon. However once you need a custom icon, you point to an external URL, breaking the self containment. Unless you use url(data:). Here is what I did A scalable check mark For a list selection comp" />
<meta name="Keywords"
	content="Lightning,Salesforce," />
<meta name="Abstract"
	content="LWC components with self contained images - When you create your LWC components, it is easy to include Salesforce predefined icons using lightning-icon. However once you need a custom icon, you point to an external URL, breaking the self containment. Unless you use url(data:). Here is what I did A scalable check mark For a list selection comp" />
<!--[if lt IE 9]>
		<script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<link rel="stylesheet" type="text/css" href="/blog/style/bootstrap.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/responsive.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/wisselblog.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/main.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/shCore.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/shThemeMidnight.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/blogcodedisplay.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/shariff.complete.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/markdown.css" />
<link rel="stylesheet" type="text/css" href="/blog/css/admonition.css" />
<link rel="stylesheet" type="text/css" href="/blog/css/prism.css" />
<link href='//fonts.googleapis.com/css?family=Montserrat' rel='stylesheet' type='text/css' />
<link href='//fonts.googleapis.com/css?family=Ubuntu:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css' />
<link rel="icon" type="image/png" href="/blog/img/favicon-32x32.png" sizes="32x32" />
<link rel="icon" type="image/png" href="/blog/img/favicon-16x16.png" sizes="16x16" />


<link rel="alternate" type="application/rss+xml" title="RSS News Feed" href="https://feeds.feedburner.com/Wisselnetfeed" />

<meta name="Revisit-After" content="90 Days" />
</head>
<body class="line-numbers">
	<div class="navbar navbar-inverse navbar-fixed-top">
		<div class="navbar-inner">
			<a class="btn btn-navbar" data-toggle="collapse"
				data-target=".nav-collapse"> <span class="icon-bar"></span> <span
				class="icon-bar"></span> <span class="icon-bar"></span>
			</a> <a class="brand" href="/">wissel.net</a>
			<div class="nav-collapse">
				<ul class="nav">
					<li><a href="/index.html">Home</a></li>
					<li class="active"><a href="/blog/">Blog</a></li>
					<li><a href="/blog/series.html">Series</a></li>
					<li><a href="/blog/downloads/">Downloads</a></li>
					<li><a href="https://stwissel.github.io/presentations/" title="Presentations maintained on GitHub">Presentations</a></li>
					<li><a href="/blog/imprint.html">About / Imprint</a></li>
				</ul>
				<form action="//www.google.com/cse" id="cse-search-box"
					class="navbar-search pull-right">
					<div>
						<input type="hidden" name="cx"
							value="partner-pub-4562257798204150:muo14ionenw" /> <input
							type="hidden" name="ie" value="ISO-8859-1" /> <input type="text"
							name="q" class="search-query span2" placeholder="Search" />
						<!-- input type="submit" name="sa" value="Search" class="btn btn-small"/-->
					</div>
				</form>
			</div>
		</div>
	</div>
<div class="navbar-spacer"></div>

	<div class="container">
    		<br />
		<header>
			<div id="mainsmall"  class="hero-unit">
				<h2>wissel.net</h2>
				<p>Usability - Productivity - Business - The web - Singapore &amp; Twins</p>
			</div>
		</header>

    <script> 
var $buoop = {notify:{e:-0.01,f:-0.01,o:-0.01,s:-0.01,c:-0.01},insecure:true,unsupported:true,api:5}; 
function $buo_f(){ 
 var e = document.createElement("script"); 
 e.src = "//browser-update.org/update.min.js"; 
 document.body.appendChild(e);
};
try {document.addEventListener("DOMContentLoaded", $buo_f,false)}
catch(e){window.attachEvent("onload", $buo_f)}
</script>

    <ul class="breadcrumb">
  <li><a href="/blog/">Blog</a> <span class="divider">/</span></li>
  <li><a href="/blog/2019/">2019</a> <span class="divider">/</span></li>
  <li><a href="/blog/2019/04/">April</a></li>
  <li class="pull-right">
    <span class="divider">|</span><a href="/blog/categories/lightning.html">Lightning</a>
  </li>
  <li class="pull-right">
    <span class="divider">|</span><a href="/blog/categories/salesforce.html">Salesforce</a>
  </li>
</ul>

		<div class="row-fluid">
			<div class="span12">
				
				<ul class="breadcrumb pull-centre">
					<li><a href="/blog/2019/04/lightning-layouts-input-fields-and-field-level-security.html"><i class="icon-hand-left"></i>Lightning Layouts, Input Fields and Field Level Security</a>
						<span class="divider">|</span></li>
					<li><a href="/blog/"><i class="icon-hand-up"></i>Main</a></li>
					<span class="divider">|</span>
					<li><a href="/blog/2019/06/turning-a-blog-into-a-video-with-invideo.io.html">Turning a blog into a video with invideo.io<i class="icon-hand-right"></i></a>
					</li>
				</ul>

				<article class="well well-raised">
					<h1><small>LWC components with self contained images</small></h1>
					<hr />
					<div><p>When you create your LWC components, it is easy to include Salesforce predefined icons using <a href="https://developer.salesforce.com/docs/component-library/bundle/lightning-icon/example"><code>lightning-icon</code></a>. However once you need a custom icon, you point to an external URL, breaking the self containment. Unless you use <code>url(data:)</code>. Here is what I did</p> 
<h3>A scalable check mark</h3> 
<p><img src="/blog/images/2019/checkmark.png" alt="Dynamic Lookup"></p> 
<p>For a list selection component I wanted a green check mark, like the picture above, indicate a selected record (more on the component in a later post). Since LWC doesn't allow (yet?) to store image assets inside a bundle and I wanted the component to be self contained.</p> 
<p>The solution is to use <code>data:image/svg+xml</code> for a background image. The details were nicely outlined in <a href="https://css-tricks.com/using-svg/">css-tricks</a>. I tried to use <a href="https://en.wikipedia.org/wiki/Scalable_Vector_Graphics">svg</a> as source code directly, but failed to get it to work. So I resorted to use <code>base64</code>. It is an additional step, using <a href="https://www.base64encode.org/">an online Base64 encoder</a>.</p> 
<h3>Making images</h3> 
<p>SVG is just an XML based text format, so you could create your image in notepad (take that jpg!). However you probably want to use a <a href="https://www.justinmind.com/blog/11-great-free-paid-svg-editors-for-ux-designers/">graphic editor</a>. My choice here is <a href="https://www.sketch.com/">Sketch</a> (which gives me funny looks from designers: why a developer uses one of their tools). There were some steps worth to mention:</p> 
<ul> 
 <li>When using text (like the check mark), convert that to a svg path. Right click on text and select "Convert to outlines". This allows the text to scale with the rest of the image</li> 
 <li>Use the Edit-Copy-Copy SVG Code rather than use the export functionality</li> 
 <li>The resulting SVG is "talkative", you can edit and remove quite some content: 
  <ul> 
   <li>remove width and height attributes from the <code>&lt;svg&gt;</code> element, but keep the viewbox. Also remove the xlink name space</li> 
   <li>the <code>&lt;g&gt;</code> element doesn't need any attribute</li> 
   <li><code>&lt;polygon&gt;</code> only needs <code>fill</code> and <code>points</code> attribute</li> 
   <li>All numeric values have many digits. You can round them up</li> 
  </ul> </li> 
</ul><p>The resulting svg looks like this:</p> 
<pre><code class="language-xml">&lt;svg viewBox="0 0 120 240" version="1.1" 
    xmlns="http://www.w3.org/2000/svg"&gt;
    &lt;g&gt;
        &lt;polygon fill="#006600" points="0.0 0.0 120.0 0.0 120.0 120.0"&gt;&lt;/polygon&gt;
        &lt;path d="M80.3310547,56.0839844 C79.6279262,54.5410079 79.198243,53.5742207 79.0419922,53.1835938 L77.2548828,49.0527344 C76.7080051,47.7831968 76.2392598,46.7480509 75.8486328,45.9472656 L74.7646484,43.75 C72.6747942,39.6093543 70.2041158,36.6894616 67.3525391,34.9902344 C70.6923995,32.1777203 73.6708854,30.7714844 76.2880859,30.7714844 C78.0263759,30.7714844 79.3935497,31.440423 80.3896484,32.7783203 C81.3857472,34.1162176 82.235348,36.4355304 82.9384766,39.7363281 C88.016627,30.1073737 91.9716655,23.4570496 94.8037109,19.7851562 C97.3427861,16.4843585 99.515616,14.2968804 101.322266,13.2226562 C103.128915,12.1484321 105.526352,11.6113281 108.514648,11.6113281 C110.389658,11.6113281 112.420887,11.9726526 114.608398,12.6953125 C109.510717,16.0351729 103.949249,21.5233993 97.9238281,29.1601562 C91.8984074,36.7969132 86.0342082,45.7714328 80.3310547,56.0839844 Z" id="???" fill="#FFFFFF" fill-rule="nonzero"&gt;&lt;/path&gt;
    &lt;/g&gt;
&lt;/svg&gt;
</code></pre> 
<p><strong>Important note</strong>: The original image was designed 120x120 px which got reflected in the (removed) width and height attributes and the viewbox. I changed the vertical value from 120 to 240, so the svg image would only take half of the horizontal space (see the CSS below for the impact)</p> 
<h3>Putting it together with CSS</h3> 
<p>The checkmark should show up once an element has the <code>selected</code> class assigned. A little CSS does the trick:</p> 
<pre><code class="language-css">.selected {
    background-image: url('data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTIwIDI0MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8Zz48cG9seWdvbiBmaWxsPSIjMDA2NjAwIiBwb2ludHM9IjAuMCAwLjAgMTIwLjAgMC4wIDEyMC4wIDEyMC4wIj48L3BvbHlnb24+CjxwYXRoIGQ9Ik04MC4zMzEwNTQ3LDU2LjA4Mzk4NDQgQzc5LjYyNzkyNjIsNTQuNTQxMDA3OSA3OS4xOTgyNDMsNTMuNTc0MjIwNyA3OS4wNDE5OTIyLDUzLjE4MzU5MzggTDc3LjI1NDg4MjgsNDkuMDUyNzM0NCBDNzYuNzA4MDA1MSw0Ny43ODMxOTY4IDc2LjIzOTI1OTgsNDYuNzQ4MDUwOSA3NS44NDg2MzI4LDQ1Ljk0NzI2NTYgTDc0Ljc2NDY0ODQsNDMuNzUgQzcyLjY3NDc5NDIsMzkuNjA5MzU0MyA3MC4yMDQxMTU4LDM2LjY4OTQ2MTYgNjcuMzUyNTM5MSwzNC45OTAyMzQ0IEM3MC42OTIzOTk1LDMyLjE3NzcyMDMgNzMuNjcwODg1NCwzMC43NzE0ODQ0IDc2LjI4ODA4NTksMzAuNzcxNDg0NCBDNzguMDI2Mzc1OSwzMC43NzE0ODQ0IDc5LjM5MzU0OTcsMzEuNDQwNDIzIDgwLjM4OTY0ODQsMzIuNzc4MzIwMyBDODEuMzg1NzQ3MiwzNC4xMTYyMTc2IDgyLjIzNTM0OCwzNi40MzU1MzA0IDgyLjkzODQ3NjYsMzkuNzM2MzI4MSBDODguMDE2NjI3LDMwLjEwNzM3MzcgOTEuOTcxNjY1NSwyMy40NTcwNDk2IDk0LjgwMzcxMDksMTkuNzg1MTU2MiBDOTcuMzQyNzg2MSwxNi40ODQzNTg1IDk5LjUxNTYxNiwxNC4yOTY4ODA0IDEwMS4zMjIyNjYsMTMuMjIyNjU2MiBDMTAzLjEyODkxNSwxMi4xNDg0MzIxIDEwNS41MjYzNTIsMTEuNjExMzI4MSAxMDguNTE0NjQ4LDExLjYxMTMyODEgQzExMC4zODk2NTgsMTEuNjExMzI4MSAxMTIuNDIwODg3LDExLjk3MjY1MjYgMTE0LjYwODM5OCwxMi42OTUzMTI1IEMxMDkuNTEwNzE3LDE2LjAzNTE3MjkgMTAzLjk0OTI0OSwyMS41MjMzOTkzIDk3LjkyMzgyODEsMjkuMTYwMTU2MiBDOTEuODk4NDA3NCwzNi43OTY5MTMyIDg2LjAzNDIwODIsNDUuNzcxNDMyOCA4MC4zMzEwNTQ3LDU2LjA4Mzk4NDQgWiIgaWQ9IuKckyIgZmlsbD0iI0ZGRkZGRiIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+PC9nPjwvc3ZnPg==');
    background-position: top right;
    background-repeat: no-repeat;
    background-size: contain;
    background-color: #eeffee;
}
</code></pre> 
<p>What the CSS parameters do:</p> 
<ul> 
 <li><code>background-image</code> sets the background to the inline image. You can copy and paste the content into the <a href="https://www.base64decode.org/">Base64Decoder</a> to get back the original image</li> 
 <li><code>background-position</code> puts the image in the upper right corner. You could put it into the left corner when you mirror it</li> 
 <li><code>background-repeat</code> ensures that the image gets painted once only</li> 
 <li><code>background-color</code> isn't needed for the image, it is just to make clearer what exactly got selected. You might opt for a <code>border</code> property instead</li> 
 <li><code>background-size</code> defines the size of the image. SVG by nature doesn't have a size and it will fill the available height of the container. In conjunction with the viewbox value, <code>contain</code> will hence show the image exactly on half of div height. This might not work for all use cases. When your container is very long, you get a big big big check mark. There you would specify a discrete size</li> 
</ul> 
<p>Enjoy! As usual YMMV!</p></div>
					<hr />
					<p>
						Posted by <a rel="author" href="https://plus.google.com/u/0/+StephanWissel">
Stephan H Wissel</a> on 18 April 2019
<span class="divider">|</span>
<a href="/blog/2019/04/lwc-components-with-self-contained-images.html#comments">Comments (0)</a>
<span class="divider">|</span>
categories:  <a href="/blog/categories/lightning.html">Lightning</a>  <a href="/blog/categories/salesforce.html">Salesforce</a> 

						<script type="text/javascript">
							var permaLink = "https://wissel.net/blog/2019/04/lwc-components-with-self-contained-images.html";
						</script>
					</p>
				</article>
				<a name="comments"></a>
				<div class="well well-raised" style="text-align : center">
				<button class="btn btn-lg btn-info" data-toggle="collapse" data-target="#commentform_1cb1c450-619e-11e9-99c9-55bd07fdd987" type="button">
		            Add your comment...&nbsp;&nbsp;<span class="glyphicon glyphicon-comment"></span>
	            </button>
	            </div>
				<div id="commentform_1cb1c450-619e-11e9-99c9-55bd07fdd987"  class="collapse"></div>
				<div class="well well-raised">
					<h4>Comments</h4>
					<ol id="commentList">
						<li id="nocomments">
							<h5>No comments yet, be the first to comment</h5>
						</li>
					</ol>
				</div>
				<ul class="breadcrumb pull-centre">
					<li><a href="/blog/2019/04/lightning-layouts-input-fields-and-field-level-security.html"><i class="icon-hand-left"></i>Lightning Layouts, Input Fields and Field Level Security</a>
						<span class="divider">|</span></li>
					<li><a href="/blog/"><i class="icon-hand-up"></i>Main</a></li>
					<span class="divider">|</span>
					<li><a href="/blog/2019/06/turning-a-blog-into-a-video-with-invideo.io.html">Turning a blog into a video with invideo.io<i class="icon-hand-right"></i></a>
					</li>
				</ul>

			</div>
		</div>
		<ul class="breadcrumb">
  <li><a href="/blog/">Blog</a> <span class="divider">/</span></li>
  <li><a href="/blog/2019/">2019</a> <span class="divider">/</span></li>
  <li><a href="/blog/2019/04/">April</a></li>
  <li class="pull-right">
    <span class="divider">|</span><a href="/blog/categories/lightning.html">Lightning</a>
  </li>
  <li class="pull-right">
    <span class="divider">|</span><a href="/blog/categories/salesforce.html">Salesforce</a>
  </li>
</ul>

	</div>
	<footer>
		<div class="container">
			<div class="row">
				<div class="span2">
					<h4>About Me</h4>
					<p>
						I work as "Solution Director Innovation" for HCL Software. I'm based in Singapore.
						<g:plusone size="small" href="https://wissel.net/blog/"></g:plusone>
					</p>
					<a href="//stackoverflow.com/users/131021/stwissel">
					<img src="//stackoverflow.com/users/flair/131021.png" width="208" height="58" alt="profile for stwissel at Stack Overflow, Q&amp;A for professional and enthusiast programmer" title="profile for stwissel at Stack Overflow, Q&amp;A for professional and enthusiast programmer">
				</a>
				</div>
				<div class="span2">
					<h4>Contact</h4>
					<ul>
						<li><a href="https://www.twitter.com/notessensei">Twitter</a></li>
						<li><a href="https://sg.linkedin.com/in/notessensei">LinkedIn</a></li>
						<li><a href="https://www.xing.com/profile/StephanH_Wissel">XING</a></li>
						<li><a href="http://notessensei.spreadshirt.com/">NotesSensei's Spreadshirt shop</a></li>
						<li><a href="http://about.me/stephan.wissel/#" title="Another identity site, nothing much here">About Me</a></li>
					</ul>
				</div>
				<div class="span8">
					<h4>Disclaimer</h4>
					<p>This site is in no way affiliated, endorsed, sanctioned,
						supported, nor enlightened by my current or previous employers.
						I may be an employee, but the opinions, theories, facts, etc.
						presented here are my own and are in now way given in any official
						capacity. In short, these are my words and this is my site, not
						my current or former employers' - and don't even begin to think otherwise.</p>
					<p>
						<b>&copy; 2003 - 2022 Stephan H. Wissel - some rights reserved</b> as
						listed here: <a rel="license"
							href="//creativecommons.org/licenses/by-nc-sa/3.0/"><img
							alt="Creative Commons License" style="border-width: 0"
							src="//licensebuttons.net/l/by-nc-sa/3.0/88x31.png" /></a>
						Unless otherwise labeled by its originating author, the content
						found on this site is made available under the terms of an <a
							href="//creativecommons.org/licenses/by-nc-sa/3.0/"
							target="_blank"
							title="Learn more about the creative commons  Attribution-ShareAlike License">Attribution/NonCommercial/ShareAlike
							Creative Commons License</a>, with the exception that no rights are
						granted -- since they are not mine to grant -- in any logo,
						graphic design, trademarks or trade names of any type. Code
						samples and code downloads on this site are, unless otherwise
						labeled, made available under an <a
							href="//www.apache.org/licenses/LICENSE-2.0.html">Apache
							2.0</a> license. Other license models are available on written
						request and written confirmation.
					</p>
				</div>
			</div>
		</div>
	</footer>

	<script type="text/javascript">
		var permaLink = "https://wissel.net/blog/2019/04/lwc-components-with-self-contained-images.html";
	</script>
		<script type="text/javascript" src="/blog/js/jquery-3.6.0.min.js"></script>
	<script type="text/javascript" src="/blog/js/bootstrap.js"></script>
	<script type="text/javascript" src="/blog/js/blogmain.js"></script>
    <script type="text/javascript" src="/blog/js2/shCore.js"></script>
    <script type="text/javascript" src="/blog/js2/shBrushJava.js"></script>
    <script type="text/javascript" src="/blog/js2/shBrushJScript.js"></script>
    <script type="text/javascript" src="/blog/js2/shBrushXml.js"></script>
    <script type="text/javascript" src="/blog/js2/shBrushBash.js"></script>
    <script type="text/javascript" src="/blog/js2/shBrushPlain.js"></script>
    <script type="text/javascript" src="/blog/js2/shBrushVb.js"></script>
    <script type="text/javascript" src="/blog/js2/shBrushCss.js"></script>
    <script type="text/javascript" src="/blog/js2/admonition.js"></script>
    <script type="text/javascript" src="/blog/js2/prism.js"></script>
	<script src="//www.google-analytics.com/urchin.js" type="text/javascript"></script>
	<script type="text/javascript">
		_uacct = "UA-72033-1";
		urchinTracker();
	</script>
	<script type="text/javascript" src="//feeds.feedburner.com/~s/Wisselnet?i=https://wissel.net/blog" charset="utf-8"></script>
    <script type="text/javascript">
    $(document).ready(function() {
            SyntaxHighlighter.all();
    });
    </script>

		<script src="/blog/js2/mustache.js"></script>
	<script src="/blog/js2/blogcomments.js"></script>
	<script type="text/javascript" src="/blog/js2/Markdown.Converter.js"></script>
    <script type="text/javascript" src="/blog/js2/Markdown.Sanitizer.js"></script>
    <script type="text/javascript" src="/blog/js2/Markdown.Editor.js"></script>
	<script type="text/javascript" src="//www.google.com/recaptcha/api.js"></script>
	<script src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit" async defer></script>
	<script type="text/javascript">
		var onloadCallback = function() {
    		renderComment("6LcBxUEUAAAAACzKM8YKb-RVVaIZ3MN6F1Z8FB_4", "1cb1c450-619e-11e9-99c9-55bd07fdd987");
 		};
	</script>

</body>
</html>
