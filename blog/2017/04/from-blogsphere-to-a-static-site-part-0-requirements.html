<!DOCTYPE html>
<html lang="en">
<head>
<title>From Blogsphere to a Static Site (Part 0) - Requirements - NotesSensei's Blog</title>
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-72033-1', 'auto');
ga('send', 'pageview');
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible"  content="chrome=1" />
<meta http-equiv="Content-Language" content="en" />
<meta rel="meta" link="application/rdf+xml" content="/foaf.rdf" />
<meta property="og:title"     content="wissel.net - From Blogsphere to a Static Site (Part 0) - Requirements" />
<meta property="og:type"      content="blog" />
<meta property="og:url"       content="https://wissel.net/blog/2017/04/from-blogsphere-to-a-static-site-part-0-requirements.html" />
<meta property="og:image"     content="//www.wissel.net/blog/img/wisselnet.gif" />
<meta property="og:site_name" content="wissel.net" />
<meta name="viewport"         content="width=device-width, initial-scale=1.0" />
<meta name="ROBOTS"           content="FOLLOW, NOIMAGEINDEX" />
<meta name="DC.Title"         content="NotesSensei's Weblog - From Blogsphere to a Static Site (Part 0) - Requirements" />
<meta name="Author"           content="Stephan H. Wissel" />
<meta name="ICBM"             content="1.2994, 103.8425" />
<meta name="Copyright"        content="2002,2022 Stephan H. Wissel - Creative commons licence" />
<meta name="twitter:site"     content="@notessensei" />
<meta name="twitter:card"     content="summary" />
<meta name="xing:author"      content="https://www.xing.com/profile/StephanH_Wissel" />
<meta name="description"
	content="From Blogsphere to a Static Site (Part 0) - Requirements - Readers of this blog might have noticed, that blog layout and blog URLs have changed (a while ago). This blog now serves static HTML pages using a nginx web server (get used to nginx, it&#39;s coming in Connections Pink too). I will document the steps and code I used to get there. Step 0 is: define the " />
<meta name="Keywords"
	content="Blog," />
<meta name="Abstract"
	content="From Blogsphere to a Static Site (Part 0) - Requirements - Readers of this blog might have noticed, that blog layout and blog URLs have changed (a while ago). This blog now serves static HTML pages using a nginx web server (get used to nginx, it&#39;s coming in Connections Pink too). I will document the steps and code I used to get there. Step 0 is: define the " />
<!--[if lt IE 9]>
		<script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<link rel="stylesheet" type="text/css" href="/blog/style/bootstrap.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/responsive.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/wisselblog.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/main.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/blogcodedisplay.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/shariff.complete.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/markdown.css" />
<link rel="stylesheet" type="text/css" href="/blog/css/prism.css" />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Raleway&display=swap" rel="stylesheet">
<link rel="icon" type="image/png" href="/blog/img/favicon-32x32.png" sizes="32x32" />
<link rel="icon" type="image/png" href="/blog/img/favicon-16x16.png" sizes="16x16" />


<link rel="alternate" type="application/rss+xml" title="RSS News Feed" href="https://feeds.feedburner.com/Wisselnetfeed" />

<meta name="Revisit-After" content="90 Days" />
</head>
<body class="line-numbers">
	<div class="navbar navbar-inverse navbar-fixed-top">
		<div class="navbar-inner">
			<a class="btn btn-navbar" data-toggle="collapse"
				data-target=".nav-collapse"> <span class="icon-bar"></span> <span
				class="icon-bar"></span> <span class="icon-bar"></span>
			</a> <a class="brand" href="/">wissel.net</a>
			<div class="nav-collapse">
				<ul class="nav">
					<li><a href="/index.html">Home</a></li>
					<li class="active"><a href="/blog/">Blog</a></li>
					<li><a href="/blog/series.html">Series</a></li>
					<li><a href="/blog/downloads/">Downloads</a></li>
					<li><a href="https://stwissel.github.io/presentations/" title="Presentations maintained on GitHub">Presentations</a></li>
					<li><a href="/blog/imprint.html">About / Imprint</a></li>
				</ul>
				<form action="//www.google.com/cse" id="cse-search-box"
					class="navbar-search pull-right">
					<div>
						<input type="hidden" name="cx"
							value="partner-pub-4562257798204150:muo14ionenw" /> <input
							type="hidden" name="ie" value="ISO-8859-1" /> <input type="text"
							name="q" class="search-query span2" placeholder="Search" />
						<!-- input type="submit" name="sa" value="Search" class="btn btn-small"/-->
					</div>
				</form>
			</div>
		</div>
	</div>
<div class="navbar-spacer"></div>

	<div class="container">
    		<br />
		<header>
			<div id="mainsmall"  class="hero-unit">
				<h2>wissel.net</h2>
				<p>Usability - Productivity - Business - The web - Singapore &amp; Twins</p>
			</div>
		</header>

     
    <ul class="breadcrumb">
  <li><a href="/blog/">Blog</a> <span class="divider">/</span></li>
  <li><a href="/blog/2017/">2017</a> <span class="divider">/</span></li>
  <li><a href="/blog/2017/04/">April</a></li>
  <li class="pull-right">
    <span class="divider">|</span><a href="/blog/categories/blog.html">Blog</a>
  </li>
	<li class="pull-right">
	<span class="divider">|</span><a href="/blog/d6plinks/SHWL-ALCKLR" title="originally published at /blog/d6plinks/SHWL-ALCKLR">SHWL-ALCKLR</a>
	</li>
</ul>

		<div class="row-fluid">
			<div class="span12">
							<div class="well well-raised">
				<p>This article is part of a mini series. Read them all:</p>
				<h3>Blog Migration</h3>
				<ol reversed class="nav nav-list">
					<li  class="active"><a href="/blog/2017/04/from-blogsphere-to-a-static-site-part-0-requirements.html">From Blogsphere to a Static Site (Part 0) - Requirements</a></li>
					<li ><a href="/blog/2017/04/from-blogsphere-to-a-static-site-part-1-objects.html">From Blogsphere to a Static Site (Part 1) - Objects</a></li>
					<li ><a href="/blog/2017/04/from-blogsphere-to-a-static-site-part-2-cleaning-up-the-html.html">From Blogsphere to a Static Site (Part 2) - Cleaning up the HTML</a></li>
					<li ><a href="/blog/2017/05/from-blogsphere-to-a-static-site-part-3-generating-pages.html">From Blogsphere to a Static Site (Part 3) - Generating pages</a></li>
					<li ><a href="/blog/2017/05/from-blogsphere-to-a-static-site-part-4-comment-backend.html">From Blogsphere to a Static Site (Part 4) - Comment backend</a></li>
					<li ><a href="/blog/2017/07/from-blogsphere-to-a-static-site-part-5-comment-front-end.html">From Blogsphere to a Static Site (Part 5) - Comment front-end</a></li>
				</ol>
			</div>	

				<ul class="breadcrumb pull-centre">
					<li><a href="/blog/2017/04/project-deep-purple-ibm-notes-native-for-ios.html"><i class="icon-hand-left"></i>Project Deep Purple - IBM Notes Native for iOS</a>
						<span class="divider">|</span></li>
					<li><a href="/blog/"><i class="icon-hand-up"></i>Main</a></li>
					<span class="divider">|</span>
					<li><a href="/blog/2017/04/from-blogsphere-to-a-static-site-part-1-objects.html">From Blogsphere to a Static Site (Part 1) - Objects<i class="icon-hand-right"></i></a>
					</li>
				</ul>

				<article class="well well-raised">
					<h1><small>From Blogsphere to a Static Site (Part 0) - Requirements</small></h1>
					<hr />
					<div>Readers of this blog might have noticed, that blog layout and blog URLs have changed (a while ago). This blog now serves static HTML pages using a <a href="https://www.nginx.com/">nginx</a> web server (get used to nginx, it's coming in Connections Pink too). I will document the steps and code I used to get there. Step 0 is: define the requirements and evaluate the resulting constraints: 
<ul>
 <li>Export of all Blogsphere content to HTML, including the conversion of entries written in RichText</li>
 <li>No export of configuration or layout required</li>
 <li>New site structure that shows articles in year and month folders</li>
 <li>Modular templating system with includes for repeated pieces (e.g. header, footer, sidebar)</li>
 <li>Summary pages for year, month and categories</li>
 <li>Summary page for article series</li>
 <li>Existing comments to become part of the html page</li>
 <li>Repeatability: export must be able to repeat, but not overwrite a page that hasn't actually changed</li>
 <li>Storage of exported pages in a file structure as JSON files</li>
 <li>Rendering of static site from Notes or from JSON directory</li>
 <li>Redirection file, so old links get a proper redirection to the new URL</li>
 <li>Have a comment database for new comments</li>
 <li>No pagination for any of the summary pages (I might change my mind on that one)</li>
 <li>Cleanup messy HTML automatically, fix syntax and URLs to posts and images</li>
 <li>Optimized HTML, CSS and JS for speedy delivery</li>
</ul> I had a look at <a href="https://jekyllrb.com/">Jekyll</a>, which is the templating engine GitHub is using. I would have allowed me to just commit a new file and Github would render for me. Unfortunately Jekyll fell short of the article series and category overview pages.Finally I settled on the following toolset: 
<ul>
 <li>Some customizations in Blogsphere: 
  <ul>
   <li> a view listing all objects, with images first, stories later</li>
   <li>a view with documents containing richtext and a form overwrite to isolate the rendered html</li>
   <li>The new URL as entry field for an article, and an agent to prepopulate it</li>
   <li>A dropdown list, extensible, with the name of the article series</li>
  </ul> </li>
 <li>a redirection mapping file for nginx (generated by my Java application)</li>
 <li>A custom Java command line application that does export and rendering. Using a set of modules: 
  <ul>
   <li><a href="http://maven.apache.org/">Apache Maven</a>: Dependency management for Java projects</li>
   <li><a href="https://github.com/google/gson">Google gson</a>: Processing of JSON from and to Java objects</li>
   <li><a href="http://www.joda.org/joda-time/">Joda time</a>: Time handling for Java</li>
   <li><a href="https://github.com/spullara/mustache.java">Mustache for Java</a>: logic less template system. Available for <a href="http://mustache.github.io/">tons of languages</a>, so if I change the hard part - rendering - will continue to work</li>
   <li><a href="https://github.com/google/guava">Google Guava</a>: Core Java library from people way smarter than me. Especially the collection and cache stuff (Guava is also inside VoP)</li>
   <li><a href="http://commons.apache.org/">Apache Commons</a>: More core Java, mostly needed for the HTTP client and dependency of mustache</li>
   <li><a href="https://hc.apache.org/">Apache HTTP components</a>: using Domino's RichText to HTML capabilities to get some form of html</li>
   <li><a href="https://jsoup.org/">Jsoup</a>: Parser for "<i>real-world HTML</i>" (ready: messy)</li>
  </ul></li>
 <li>Some command line-fu to update the entries and commit to git (there's a backup of my blog at <a href="https://stwissel.github.io/">GitHub.io</a>)</li>
</ul> Stay tuned for more details</div>
					<hr />
					<p>
						Posted by <a rel="author" href="https://plus.google.com/u/0/+StephanWissel">
Stephan H Wissel</a> on 12 April 2017
<span class="divider">|</span>
<a href="/blog/2017/04/from-blogsphere-to-a-static-site-part-0-requirements.html#comments">Comments (0)</a>
<span class="divider">|</span>
categories:  <a href="/blog/categories/blog.html">Blog</a> 

						<script type="text/javascript">
							var permaLink = "https://wissel.net/blog/2017/04/from-blogsphere-to-a-static-site-part-0-requirements.html";
						</script>
					</p>
				</article>
				<a name="comments"></a>
				<div class="well well-raised" style="text-align : center">
				<button class="btn btn-lg btn-info" data-toggle="collapse" data-target="#commentform_612BA839A81B273C4825810000526DC0" type="button">
		            Add your comment...&nbsp;&nbsp;<span class="glyphicon glyphicon-comment"></span>
	            </button>
	            </div>
				<div id="commentform_612BA839A81B273C4825810000526DC0"  class="collapse"></div>
				<div class="well well-raised">
					<h4>Comments</h4>
					<ol id="commentList">
						<li id="nocomments">
							<h5>No comments yet, be the first to comment</h5>
						</li>
					</ol>
				</div>
				<ul class="breadcrumb pull-centre">
					<li><a href="/blog/2017/04/project-deep-purple-ibm-notes-native-for-ios.html"><i class="icon-hand-left"></i>Project Deep Purple - IBM Notes Native for iOS</a>
						<span class="divider">|</span></li>
					<li><a href="/blog/"><i class="icon-hand-up"></i>Main</a></li>
					<span class="divider">|</span>
					<li><a href="/blog/2017/04/from-blogsphere-to-a-static-site-part-1-objects.html">From Blogsphere to a Static Site (Part 1) - Objects<i class="icon-hand-right"></i></a>
					</li>
				</ul>

			</div>
		</div>
		<ul class="breadcrumb">
  <li><a href="/blog/">Blog</a> <span class="divider">/</span></li>
  <li><a href="/blog/2017/">2017</a> <span class="divider">/</span></li>
  <li><a href="/blog/2017/04/">April</a></li>
  <li class="pull-right">
    <span class="divider">|</span><a href="/blog/categories/blog.html">Blog</a>
  </li>
	<li class="pull-right">
	<span class="divider">|</span><a href="/blog/d6plinks/SHWL-ALCKLR" title="originally published at /blog/d6plinks/SHWL-ALCKLR">SHWL-ALCKLR</a>
	</li>
</ul>

	</div>
	<footer>
		<div class="container">
			<div class="row">
				<div class="span2">
					<h4>About Me</h4>
					<p>
						I work as "Solution Director Innovation" for HCL Software. I'm based in Singapore.
						<g:plusone size="small" href="https://wissel.net/blog/"></g:plusone>
					</p>
					<a href="//stackoverflow.com/users/131021/stwissel">
					<img src="//stackoverflow.com/users/flair/131021.png" width="208" height="58" alt="profile for stwissel at Stack Overflow, Q&amp;A for professional and enthusiast programmer" title="profile for stwissel at Stack Overflow, Q&amp;A for professional and enthusiast programmer">
				</a>
				</div>
				<div class="span2">
					<h4>Contact</h4>
					<ul>
						<li><a rel="me" href="https://chaos.social/@stw">Chat on Mastodon</a></li>
						<li><a href="https://sg.linkedin.com/in/notessensei">LinkedIn</a></li>
						<li><a href="https://notessensei.myspreadshop.com">NotesSensei's Spreadshirt shop</a></li>
						<li><a href="http://about.me/stephan.wissel/#" title="Another identity site, nothing much here">About Me</a></li>
						<li><a href="https://www.stickermule.com/unlock?ref_id=7600480701&utm_medium=link&utm_source=invite">Stickers by Stickermule</a></li>
						<li><a href="https://www.twitter.com/notessensei">Twitter</a></li>
					</ul>
				</div>
				<div class="span8">
					<h4>Disclaimer</h4>
					<p>This site is in no way affiliated, endorsed, sanctioned,
						supported, nor enlightened by my current or previous employers.
						I may be an employee, but the opinions, theories, facts, etc.
						presented here are my own and are in now way given in any official
						capacity. In short, these are my words and this is my site, not
						my current or former employers' - and don't even begin to think otherwise.</p>
					<p>
						<b>&copy; 2003 - 2022 Stephan H. Wissel - some rights reserved</b> as
						listed here: <a rel="license"
							href="//creativecommons.org/licenses/by-nc-sa/3.0/"><img
							alt="Creative Commons License" style="border-width: 0"
							src="//licensebuttons.net/l/by-nc-sa/3.0/88x31.png" /></a>
						Unless otherwise labeled by its originating author, the content
						found on this site is made available under the terms of an <a
							href="//creativecommons.org/licenses/by-nc-sa/3.0/"
							target="_blank"
							title="Learn more about the creative commons  Attribution-ShareAlike License">Attribution/NonCommercial/ShareAlike
							Creative Commons License</a>, with the exception that no rights are
						granted -- since they are not mine to grant -- in any logo,
						graphic design, trademarks or trade names of any type. Code
						samples and code downloads on this site are, unless otherwise
						labeled, made available under an <a
							href="//www.apache.org/licenses/LICENSE-2.0.html">Apache
							2.0</a> license. Other license models are available on written
						request and written confirmation.
					</p>
				</div>
			</div>
		</div>
	</footer>

	<script type="text/javascript">
		var permaLink = "https://wissel.net/blog/2017/04/from-blogsphere-to-a-static-site-part-0-requirements.html";
	</script>
		<script type="text/javascript" src="/blog/js/jquery-3.6.0.min.js"></script>
	<script type="text/javascript" src="/blog/js/bootstrap.js"></script>
	<script type="text/javascript" src="/blog/js/blogmain.js"></script>
    <script type="text/javascript" src="/blog/js2/prism.js"></script>
	<script src="//www.google-analytics.com/urchin.js" type="text/javascript"></script>
	<script type="text/javascript">
		_uacct = "UA-72033-1";
		urchinTracker();
	</script>
	<script type="text/javascript" src="//feeds.feedburner.com/~s/Wisselnet?i=https://wissel.net/blog" charset="utf-8"></script>

		<script src="/blog/js2/mustache.js"></script>
	<script src="/blog/js2/blogcomments.js"></script>
	<script type="text/javascript" src="/blog/js2/Markdown.Converter.js"></script>
    <script type="text/javascript" src="/blog/js2/Markdown.Sanitizer.js"></script>
    <script type="text/javascript" src="/blog/js2/Markdown.Editor.js"></script>
	<script type="text/javascript" src="//www.google.com/recaptcha/api.js"></script>
	<script src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit" async defer></script>
	<script type="text/javascript">
		var onloadCallback = function() {
    		renderComment("6LcBxUEUAAAAACzKM8YKb-RVVaIZ3MN6F1Z8FB_4", "612BA839A81B273C4825810000526DC0");
 		};
	</script>

</body>
</html>
