<!DOCTYPE html>
<html lang="en">
<head>
<title>404 on NotesSensei's Blog</title>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
		<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
<meta name="ROBOTS" content="FOLLOW, NOIMAGEINDEX" />
<meta name="DC.Title" content="NotesSensei's Weblog - " />
<meta name="Author" content="Stephan H. Wissel" />
<meta rel="meta" link="application/rdf+xml" content="/foaf.rdf" />
<meta name="description"
	content="Thoughts, Insights and Opinions of Stephan H. Wissel. Topics included: IBM Lotus Notes and Domino, IBM Websphere, other IBM Lotus stuff,  J2EE, .Net, Software Archtecture, Personcentric Development, Agile Software, SDLC, Singapore and my Twins" />
<meta name="Keywords"
	content="lotus,domino,quickplace,sametime,blog,template,blogging,blogger,notes,r6,r5,raven,k-station,nsf,ntf,websphere,agile,sdlc,j2ee,.net,personcentric,singapore,twins" />
<meta name="Abstract"
	content="Thoughts, Insights and Opinions of Stephan H. Wissel. Topics included: IBM Lotus Notes and Domino, IBM Websphere, other IBM Lotus stuff,  J2EE, .Net, Software Archtecture, Personcentric Development, Agile Software, SDLC, Singapore and my Twins" />
<meta name="ICBM" content="1.2994, 103.8425" />
<meta name="Copyright"
	content=",2015 Stephan H. Wissel - Creative commons licence" />
<meta HTTP-EQUIV="Content-Language" content="en" />
<meta property="fb:admins" content="567103136" />
<meta property="fb:app_id" content="219323514774289">
<meta property="og:title"
	content="wissel.net - " />
<meta property="og:type" content="blog" />
<meta property="og:url" content="http://www.wissel.net/blog" />
<meta property="og:image"
	content="http://www.wissel.net/blog/skin/OrangeKeys.css/$File/wisselnet.gif" />
<meta property="og:site_name" content="wissel.net" />
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<meta name="twitter:site" content="@notessensei" />
<meta name="twitter:card" content="summary" />
<meta name="xing:author"
	content="https://www.xing.com/profile/StephanH_Wissel" />

<link rel="stylesheet" type="text/css" href="/blog/css/bootstrap.css" />
<link rel="stylesheet" type="text/css" href="/blog/css/responsive.css" />
<link rel="stylesheet" type="text/css" href="/blog/css/wisselblog.css" />
<link rel="stylesheet" type="text/css" href="/blog/css/main.css" />
<link rel="stylesheet" type="text/css" href="/blog/css/shCore.css" />
<link rel="stylesheet" type="text/css" href="/blog/css/shThemeMidnight.css" />
<link rel="stylesheet" type="text/css" href="/blog/css/blogcodedisplay.css" />
<link rel="stylesheet" type="text/css" href="/blog/css/shariff.complete.css" />
<!-- link href='http://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet' type='text/css' / -->
<link href='http://fonts.googleapis.com/css?family=Ubuntu:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css' />


<link rel="alternate" type="application/rss+xml" title="RSS News Feed" href="http://feeds.feedburner.com/Wisselnet" />
<link rel="alternate" type="application/rss+xml" title="RSS Comments Feed" href="http://feeds.feedburner.com/Wisselnet-Comments" />

</head>
<body>
	<div class="navbar navbar-inverse navbar-fixed-top">
		<div class="navbar-inner">
			<a class="btn btn-navbar" data-toggle="collapse"
				data-target=".nav-collapse"> <span class="icon-bar"></span> <span
				class="icon-bar"></span> <span class="icon-bar"></span>
			</a> <a class="brand" href="/">wissel.net</a>
			<div class="nav-collapse">
				<ul class="nav">
					<li><a href="/index.html">Home</a></li>
					<li><a href="/blog">Blog</a></li>
					<li><a href="/blog/series.html">Series</a></li>
					<li><a href="/blog/downloads/">Downloads</a></li>
					<li><a href="/blog/categories/Cycling.html">Cycling</a></li>
					<li><a href="/blog/imprint.html">About / Imprint</a></li>
				</ul>
				<form action="http://www.google.com/cse" id="cse-search-box"
					class="navbar-search pull-right">
					<div>
						<input type="hidden" name="cx"
							value="partner-pub-4562257798204150:muo14ionenw" /> <input
							type="hidden" name="ie" value="ISO-8859-1" /> <input type="text"
							name="q" class="search-query span2" placeholder="Search" />
						<!-- input type="submit" name="sa" value="Search" class="btn btn-small"/-->
					</div>
				</form>
			</div>
		</div>
	</div>
<div class="navbar-spacer"></div>

	<div class="container">
    		<!-- Masthead
		================================================== -->
		<br />
		<header>
			<div id="main" class="hero-unit">
				<h1 id="jumbotron">wissel.net</h1>
				<p class="lead">Usability - Productivity - Business - The web -
					Singapore &amp; Twins</p>
			</div>
		</header>

    <!--[if lt IE 10]>
  <div style='border: 1px solid #F7941D; background: #FEEFDA; text-align: center; clear: both; height: 75px; position: relative;'>
    <div style='position: absolute; right: 3px; top: 3px; font-family: courier new; font-weight: bold;'><a href='#' onclick='javascript:this.parentNode.parentNode.style.display="none"; return false;'><img src='http://www.ie6nomore.com/files/theme/ie6nomore-cornerx.jpg' style='border: none;' alt='Close this notice'/></a></div>
    <div style='width: 640px; margin: 0 auto; text-align: left; padding: 0; overflow: hidden; color: black;'>
      <div style='width: 75px; float: left;'><img src='http://www.ie6nomore.com/files/theme/ie6nomore-warning.jpg' alt='Warning!'/></div>
      <div style='width: 275px; float: left; font-family: Arial, sans-serif;'>
        <div style='font-size: 14px; font-weight: bold; margin-top: 12px;'>You are using an outdated browser</div>
        <div style='font-size: 12px; margin-top: 6px; line-height: 12px;'>For a better experience using this site, please upgrade to a modern web browser.</div>
      </div>
      <div style='width: 75px; float: left;'><a href='http://www.firefox.com' target='_blank'><img src='http://www.ie6nomore.com/files/theme/ie6nomore-firefox.jpg' style='border: none;' alt='Get Firefox'/></a></div>
      <div style='width: 75px; float: left;'><a href='http://www.browserforthebetter.com/download.html' target='_blank'><img src='http://www.ie6nomore.com/files/theme/ie6nomore-ie8.jpg' style='border: none;' alt='Get Internet Explorer 11'/></a></div>
      <div style='width: 73px; float: left;'><a href='http://www.apple.com/safari/download/' target='_blank'><img src='http://www.ie6nomore.com/files/theme/ie6nomore-safari.jpg' style='border: none;' alt='Get Safari'/></a></div>
      <div style='float: left;'><a href='http://www.google.com/chrome' target='_blank'><img src='http://www.ie6nomore.com/files/theme/ie6nomore-chrome.jpg' style='border: none;' alt='Get Google Chrome'/></a></div>
    </div>
  </div>
<![endif]-->

		<div class="row-fluid">
			<div class="span12">
				<div class="hero-unit">
					<h1>404 - Something went wrong</h1>
					<p>I try to keep links nice and tidy around here, but stuff can
						happen.</p>
					<p>Why not try one of the links below, or check the latest
						entries</p>
				</div>
			</div>
		</div>
		<div class="row-fluid">
			<div class="well well-raised span2">
				<ul class="nav nav-list">
					<li class="nav-header">Archives</li> 					<li><a href="/blog/2003">2003</a></li> 					<li><a href="/blog/2004">2004</a></li> 					<li><a href="/blog/2005">2005</a></li> 					<li><a href="/blog/2006">2006</a></li> 					<li><a href="/blog/2007">2007</a></li> 					<li><a href="/blog/2008">2008</a></li> 					<li><a href="/blog/2009">2009</a></li> 					<li><a href="/blog/2010">2010</a></li> 					<li><a href="/blog/2011">2011</a></li> 					<li><a href="/blog/2012">2012</a></li> 					<li><a href="/blog/2013">2013</a></li> 					<li><a href="/blog/2014">2014</a></li> 					<li><a href="/blog/2015">2015</a></li> 
				</ul>
				<hr />
					<a href="/blog/categories/After hours">after hours</a>
					<a href="/blog/categories/angular.js">angular.js</a>
					<a href="/blog/categories/Apache">apache</a>
					<a href="/blog/categories/Blog">blog</a>
					<a href="/blog/categories/Bluemix">bluemix</a>
					<a href="/blog/categories/Buddhakids">buddhakids</a>
					<a href="/blog/categories/Business">business</a>
					<a href="/blog/categories/Buying Broadband">buying broadband</a>
					<a href="/blog/categories/Cloud Computing">cloud computing</a>
					<a href="/blog/categories/CouchDB">couchdb</a>
					<a href="/blog/categories/Coursera">coursera</a>
					<a href="/blog/categories/Cycling">cycling</a>
					<a href="/blog/categories/DXLMagic">dxlmagic</a>
					<a href="/blog/categories/eLearning">elearning</a>
					<a href="/blog/categories/eMailComparison">emailcomparison</a>
					<a href="/blog/categories/Gone Phisching">gone phisching</a>
					<a href="/blog/categories/GTD">gtd</a>
					<a href="/blog/categories/IBM">ibm</a>
					<a href="/blog/categories/IBM - Lotus">ibm - lotus</a>
					<a href="/blog/categories/IBM Connections">ibm connections</a>
					<a href="/blog/categories/IBM Notes">ibm notes</a>
					<a href="/blog/categories/Intercultural">intercultural</a>
					<a href="/blog/categories/Java">java</a>
					<a href="/blog/categories/Learning">learning</a>
					<a href="/blog/categories/Learningbox">learningbox</a>
					<a href="/blog/categories/Linux">linux</a>
					<a href="/blog/categories/Lotus">lotus</a>
					<a href="/blog/categories/Lotus Connections">lotus connections</a>
					<a href="/blog/categories/Lotus Notes">lotus notes</a>
					<a href="/blog/categories/Lotus Quickr">lotus quickr</a>
					<a href="/blog/categories/LotusLive">lotuslive</a>
					<a href="/blog/categories/Lotusphere2006">lotusphere2006</a>
					<a href="/blog/categories/Lotusphere2007">lotusphere2007</a>
					<a href="/blog/categories/Lotusphere2008">lotusphere2008</a>
					<a href="/blog/categories/Lotusphere2009">lotusphere2009</a>
					<a href="/blog/categories/Lotusphere2010">lotusphere2010</a>
					<a href="/blog/categories/Lotusphere2011">lotusphere2011</a>
					<a href="/blog/categories/Lotusphere2012">lotusphere2012</a>
					<a href="/blog/categories/Mac">mac</a>
					<a href="/blog/categories/Mobile">mobile</a>
					<a href="/blog/categories/nginx">nginx</a>
					<a href="/blog/categories/Nokia">nokia</a>
					<a href="/blog/categories/Omnisophie">omnisophie</a>
					<a href="/blog/categories/OpenSource">opensource</a>
					<a href="/blog/categories/Prototyping">prototyping</a>
					<a href="/blog/categories/Rotary">rotary</a>
					<a href="/blog/categories/Sametime">sametime</a>
					<a href="/blog/categories/Show-N-Tell Thursday">show-n-tell thursday</a>
					<a href="/blog/categories/Singapore">singapore</a>
					<a href="/blog/categories/SocialBusiness">socialbusiness</a>
					<a href="/blog/categories/Software">software</a>
					<a href="/blog/categories/SYWTBADD">sywtbadd</a>
					<a href="/blog/categories/Technology">technology</a>
					<a href="/blog/categories/Thoughts">thoughts</a>
					<a href="/blog/categories/Travel">travel</a>
					<a href="/blog/categories/Twins">twins</a>
					<a href="/blog/categories/UMsys">umsys</a>
					<a href="/blog/categories/vert.x">vert.x</a>
					<a href="/blog/categories/Workflow">workflow</a>
					<a href="/blog/categories/Writing Chinese">writing chinese</a>
					<a href="/blog/categories/XPages">xpages</a>
			</div>
			<div id="wordcloud" class="well well-raised span8"
				style="border: 1px solid #f00; height: 600px; width: 800px;">
 <a data-weight="187" href="/blog/categories/After hours.html">after hours</a>
 <a data-weight="1" href="/blog/categories/angular.js.html">angular.js</a>
 <a data-weight="1" href="/blog/categories/Apache.html">apache</a>
 <a data-weight="4" href="/blog/categories/Blog.html">blog</a>
 <a data-weight="7" href="/blog/categories/Bluemix.html">bluemix</a>
 <a data-weight="4" href="/blog/categories/Buddhakids.html">buddhakids</a>
 <a data-weight="69" href="/blog/categories/Business.html">business</a>
 <a data-weight="29" href="/blog/categories/Buying Broadband.html">buying broadband</a>
 <a data-weight="2" href="/blog/categories/Cloud Computing.html">cloud computing</a>
 <a data-weight="2" href="/blog/categories/CouchDB.html">couchdb</a>
 <a data-weight="1" href="/blog/categories/Coursera.html">coursera</a>
 <a data-weight="2" href="/blog/categories/Cycling.html">cycling</a>
 <a data-weight="8" href="/blog/categories/DXLMagic.html">dxlmagic</a>
 <a data-weight="8" href="/blog/categories/eLearning.html">elearning</a>
 <a data-weight="1" href="/blog/categories/eMailComparison.html">emailcomparison</a>
 <a data-weight="4" href="/blog/categories/Gone Phisching.html">gone phisching</a>
 <a data-weight="7" href="/blog/categories/GTD.html">gtd</a>
 <a data-weight="12" href="/blog/categories/IBM.html">ibm</a>
 <a data-weight="30" href="/blog/categories/IBM - Lotus.html">ibm - lotus</a>
 <a data-weight="6" href="/blog/categories/IBM Connections.html">ibm connections</a>
 <a data-weight="147" href="/blog/categories/IBM Notes.html">ibm notes</a>
 <a data-weight="15" href="/blog/categories/Intercultural.html">intercultural</a>
 <a data-weight="2" href="/blog/categories/Java.html">java</a>
 <a data-weight="1" href="/blog/categories/Learning.html">learning</a>
 <a data-weight="1" href="/blog/categories/Learningbox.html">learningbox</a>
 <a data-weight="24" href="/blog/categories/Linux.html">linux</a>
 <a data-weight="6" href="/blog/categories/Lotus.html">lotus</a>
 <a data-weight="5" href="/blog/categories/Lotus Connections.html">lotus connections</a>
 <a data-weight="114" href="/blog/categories/Lotus Notes.html">lotus notes</a>
 <a data-weight="2" href="/blog/categories/Lotus Quickr.html">lotus quickr</a>
 <a data-weight="1" href="/blog/categories/LotusLive.html">lotuslive</a>
 <a data-weight="18" href="/blog/categories/Lotusphere2006.html">lotusphere2006</a>
 <a data-weight="13" href="/blog/categories/Lotusphere2007.html">lotusphere2007</a>
 <a data-weight="5" href="/blog/categories/Lotusphere2008.html">lotusphere2008</a>
 <a data-weight="17" href="/blog/categories/Lotusphere2009.html">lotusphere2009</a>
 <a data-weight="3" href="/blog/categories/Lotusphere2010.html">lotusphere2010</a>
 <a data-weight="2" href="/blog/categories/Lotusphere2011.html">lotusphere2011</a>
 <a data-weight="6" href="/blog/categories/Lotusphere2012.html">lotusphere2012</a>
 <a data-weight="2" href="/blog/categories/Mac.html">mac</a>
 <a data-weight="2" href="/blog/categories/Mobile.html">mobile</a>
 <a data-weight="1" href="/blog/categories/nginx.html">nginx</a>
 <a data-weight="3" href="/blog/categories/Nokia.html">nokia</a>
 <a data-weight="6" href="/blog/categories/Omnisophie.html">omnisophie</a>
 <a data-weight="4" href="/blog/categories/OpenSource.html">opensource</a>
 <a data-weight="1" href="/blog/categories/Prototyping.html">prototyping</a>
 <a data-weight="2" href="/blog/categories/Rotary.html">rotary</a>
 <a data-weight="2" href="/blog/categories/Sametime.html">sametime</a>
 <a data-weight="191" href="/blog/categories/Show-N-Tell Thursday.html">show-n-tell thursday</a>
 <a data-weight="73" href="/blog/categories/Singapore.html">singapore</a>
 <a data-weight="3" href="/blog/categories/SocialBusiness.html">socialbusiness</a>
 <a data-weight="180" href="/blog/categories/Software.html">software</a>
 <a data-weight="8" href="/blog/categories/SYWTBADD.html">sywtbadd</a>
 <a data-weight="33" href="/blog/categories/Technology.html">technology</a>
 <a data-weight="37" href="/blog/categories/Thoughts.html">thoughts</a>
 <a data-weight="24" href="/blog/categories/Travel.html">travel</a>
 <a data-weight="28" href="/blog/categories/Twins.html">twins</a>
 <a data-weight="6" href="/blog/categories/UMsys.html">umsys</a>
 <a data-weight="4" href="/blog/categories/vert.x.html">vert.x</a>
 <a data-weight="2" href="/blog/categories/Workflow.html">workflow</a>
 <a data-weight="4" href="/blog/categories/Writing Chinese.html">writing chinese</a>
 <a data-weight="119" href="/blog/categories/XPages.html">xpages</a>
			</div>
			<article class="well well-raised span8">
				<h1>
					<small><a href="/blog/2015/07/validating-json-object.html">Validating JSON object</a></small>
				</h1>
				<hr />
				<div>One of the nice tools for rapid application development in Bluemix is 
<a href="http://nodered.org/">Node-RED</a> which escapted from IBM research. One passes a 
<code>msg</code> JSON object between nodes that process (mostly) the 
<code>msg.payload</code> property. A feature I like a lot is the ability to use a http input node that can listen to a 
<code>POST</code> on an URL and automatically translates the posted form into a JSON object. 
<br /> The conversion runs non-discriminatory, so any field that is added to the form will end up in the JSON object. 
<br /> In a real world application that's not a good idea, an object shouldn't have unexpected properties. I had 
<a href="http://stackoverflow.com/questions/23593878/node-js-equivalent-for-gson-json-creation">asked before</a>, so it wasn't too hard to derive a function I could use in Node-RED: 
<br /> 
<img src="/blog/images/2015/CleanerFlow2.png" border="0" alt="Cleaning up an incoming object - properties" /> 
<br /> 
<pre class="brush : js">
this.deepclean = function(template, candidate, hasBeenCleaned) {
			var cleandit = false;
			
			for (var prop in candidate) {
				
				if (template.hasOwnProperty(prop)) {
					// We need to check strict clean and recursion
					var tProp = template[prop];
					var cProp = candidate[prop];
					
					// Case 1: strict checking and types are different
					if (this.strictclean &amp;&amp; ((typeof tProp) !== (typeof cProp))) {
						delete candidate[prop];
						cleandit = true;
						
					// Case 2: both are objects - recursion needed	
					} else if (((typeof tProp) === &quot;object&quot;) &amp;&amp; ((typeof cProp) === &quot;object&quot;)) {
						cleandit = node.deepclean(tProp, cProp, (hasBeenCleaned || cleandit));
						candidate[prop] = cProp;
					}
				
				// Case 3: property is not there	
				} else {
					delete candidate[prop];
					cleandit = true;
				}
			}
			
			return (hasBeenCleaned || cleandit);			
		}
</pre> The function is called with the template object and the incoming object and the initial parameter 
<code>false</code>. While the function could be easily used inside a function node, the better option is to wrap it into a node of its own, so it is easy to use anywhere. The details how to do that 
<a href="http://nodered.org/docs/creating-nodes/">can be found</a> on the Node-RED website. The easiest way to try the function: add your Node-RED project to version control, download 
<a href="/blog/downloads/2015/objectcleaner.zip">the object cleaner node</a> and unzip it into the nodes directory. Works in Bluemix and in a local Node-RED installation. 
<br /></div>
				<hr />
				 <a href="/blog/2015/07/validating-json-object.html">Read more</a> 
				<p>
						Posted by <a rel="author" href="https://plus.google.com/u/0/+StephanWissel">
Stephan H Wissel</a> on 2015-07-12 01:45
<span class="divider">|</span>
<a href="/blog/2015/07/validating-json-object.html#comments">Comments (0)</a>
<span class="divider">|</span>
categories:  <a href="/blog/categories/Bluemix.html">Bluemix</a> 

						<div class="shariff" data-lang="en" data-url="http://www.notessensei.com/blog/2015/07/validating-json-object.html" data-services="[&quot;whatsapp&quot;,&quot;facebook&quot;,&quot;twitter&quot;,&quot;googleplus&quot;]" data-title="Validating JSON object"></div>
						<script type="text/javascript">
							var permaLink = "http://www.notessensei.com/blog/2015/07/validating-json-object.html";
						</script>
					</p>

			</article>
			<article class="well well-raised span8">
				<h1>
					<small><a href="/blog/2015/06/random-insights-in-bluemix-development.html">Random insights in Bluemix development (a.k.a Die Leiden des Jungen W)</a></small>
				</h1>
				<hr />
				<div>Each platform comes with it's own little challenges, things that work differently than you expect. Those little things can easily steal a few hours. This post collects some of my random insights: 
<ul> 
 <li><h3>Development cycle</h3> I'm a big fan of <a href="/blog/d6plinks/SHWL-9TS9C3?Open">offline development</a>. My preferred way is to use a local git repository and push my code to <a href="https://hub.jazz.net/">Bluemix DevOps service</a> to handle compilation and deployment. It comes with a few caveats 
  <ul> 
   <li>When you do anything beyond basic <b>Java</b>, you want to use <a href="http://maven.apache.org">Apache Maven</a>. The dependency management is worth the learning curve. If you started with the Java boilerplate, you end up with an ANT project. Take some time, to not only mavenize it, but adjust the directories to follow the maven standards. This involves shuffling a few files around (<code>/src</code> vs. <code>/src/main/java</code> and <code>/bin</code> vs. <code>/target/main/java</code> for starters) and edit the pom.xml to remove the custom path</li> 
   <li>Make sure you clear out the path in the build job on Devops, maven already deploys to target. If you have specified target in Devops, you end with the code in target/target and the deploy task won't find anything</li> 
   <li>Learn about the <a href="https://developer.ibm.com/wasdev/websphere-liberty/">liberty profile</a> and its available feature, so you can properly specify <code>&lt;scope&gt;provided&lt;/scope&gt;</code> in the POM.xml</li> 
   <li>In node.js, when you manually install a module in <code>node_modules</code>, that isn't pulled from a repository through an entry in <code>package.json</code>, that module will not be visible to standard build and deploy, since (surprise surprise) node_modules are excluded from version control and build checkout.<br /> Now there are a bunch of workarounds described, but I'll sum it up: don't bother. Either you move your module into a repository DevOps can reach or you build the application locally and use <code>cf push</code></li> 
   <li><code>manifest.yml</code> is your friend. Learn about it. Especially the path command. When deploying a maven build your path will be <code>/target/[name-of-app]-[maven-version].war</code></li> 
   <li>You can specify a buildpack and environment parameters in a manifest. Works like a charm. However removing them from the manifest has no effect. You have to manually unset the values using the cf tool. Also the buildpack needs to be reset manually, so be careful there!</li> 
  </ul> </li> 
 <li><h3>Services</h3> The <i>automagical</i> configuration of services is one of the things to love in Bluemix. This especially holds true for Java 
  <ul> 
   <li>The samples suggest to use the <code>VCAP_SERVICES</code> environment variable to get credentials and urls for your services. In short: don't. The Java Liberty build pack does a nice job making the values available though JNDI or Spring. So simply use those. To make sure that <code>Java:comp/env</code> can see them properly, don't forget to reference them in <code>web.xml</code></li> 
   <li>In diversion from this: I found the <a href="https://developer.ibm.com/messaging/2015/05/22/getting-started-with-java-apps-using-the-mq-light-service-for-bluemix/">mqLite Java classes</a> less stressful that configuring JMS via JNDI. The developers did a good job making that library too work automagical on Bluemix.</li> 
   <li>For some services (e.g. JAX-RS 2.0 client; <a href="">BlueMix SSO</a>) you do have to touch the server.xml.<br /> The two methods are <a href="https://www.ng.bluemix.net/docs/starters/liberty/index.html#optionsforpushinglibertyapplications__PackagedServer">a packaged server</a> or <a href="https://www.ng.bluemix.net/docs/starters/liberty/index.html#optionsforpushinglibertyapplications__ServerDirectory">a server directory</a>. The former requires a local liberty profile installed, so I prefer the later. It is actually easier than it sounds. In your (Maven) project, you create new directories <code>DefaultServer</code> and <code>DefaultServer/apps</code> (case sensitive!). You create/edit the server.xml in the DefaultServer directory. Then check for your maven plugin in <code>pom.xml</code> and change the output directory (in bold):<br /> <pre class="brush:xml">
&lt;plugin&gt;
  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
  &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;
  &lt;version&gt;2.3&lt;/version&gt;
  &lt;configuration&gt;
    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;
    &lt;warName&gt;${artifactId}&lt;/warName&gt;
    <b>&lt;outputDirectory&gt;${basedir}/defaultServer/apps&lt;/outputDirectory&gt;</b>
  &lt;/configuration&gt;
&lt;/plugin&gt;
</pre><br /> Then you can deploy your application using <code>mvn install</code> and <code>cf push [appname] -p defaultServer</code>. These two commands work in DevOps too! </li> 
   <li>The SSO service is &quot;Single Sign <b>On</b>&quot;, there is no real &quot;Single Sign <b>Out</b>&quot;. That's not an issue specific to Bluemix, but something all SSO solutions struggle with, just to be clear what to expect. The login dialog is ugly, but fully customizable. The nature of SSO (Corporate and/or a public provider) makes it a minimal provider: identity only, no roles, attributes or groups. In the spirit of micro services: build a rest based service for that</li> 
  </ul> </li> 
 <li><h3>Node-RED</h3> While it is advertised as IoT tool, there is much more to this little gem 
  <ul> 
   <li>Node-RED runs on Bluemix, your local PC or even a Rasberry Pi. For the later head over to <a href="http://thethingbox.io/">The Thingbox</a> to get your ready OS image</li> 
   <li>Node-RED can be easily expanded, there are tons of ready modules at <a href="http://flows.nodered.org/">Node-RED flows</a>. Not all are suitable for Bluemix (e.g. the ones talking Bluetooth), but a local Node-RED can easily talk to a Bluemix Node-RED making it easy for applications to run distributed</li> 
   <li>My little favourite: connect a HTTP post input directly to a Cloudant output. Node-RED converts the encoded form into a JSON object you can drop into the database as is. You might want to add a small <a href="http://stackoverflow.com/questions/23593878/node-js-equivalent-for-gson-json-creation">filter</a> (a compute node) to avoid data contamination</li> 
  </ul> </li> 
 <!--
<li><h3></h3>
<ul>
<li></li>
<li></li>
</ul>
</li>
--> 
</ul> As usual YMMV</div>
				<hr />
				
				<p>
						Posted by <a rel="author" href="https://plus.google.com/u/0/+StephanWissel">
Stephan H Wissel</a> on 2015-06-29 03:31
<span class="divider">|</span>
<a href="/blog/2015/06/random-insights-in-bluemix-development.html#comments">Comments (1)</a>
<span class="divider">|</span>
categories:  <a href="/blog/categories/Bluemix.html">Bluemix</a> 

						<div class="shariff" data-lang="en" data-url="http://www.notessensei.com/blog/2015/06/random-insights-in-bluemix-development.html" data-services="[&quot;whatsapp&quot;,&quot;facebook&quot;,&quot;twitter&quot;,&quot;googleplus&quot;]" data-title="Random insights in Bluemix development (a.k.a Die Leiden des Jungen W)"></div>
						<script type="text/javascript">
							var permaLink = "http://www.notessensei.com/blog/2015/06/random-insights-in-bluemix-development.html";
						</script>
					</p>

			</article>
			<article class="well well-raised span8">
				<h1>
					<small><a href="/blog/2015/06/investigating-jndi.html">Investigating JNDI</a></small>
				</h1>
				<hr />
				<div>When developing Java, locally or for 
<a href="http://www.bluemix.net/">Bluemix</a> a best practise is to use 
<a href="https://en.wikipedia.org/wiki/Java_Naming_and_Directory_Interface">JNDI</a> to access resources and services you use. In Cloud Foundry all services are listed in the 
<a href="http://docs.run.pivotal.io/devguide/deploy-apps/environment-variable.html#VCAP-SERVICES"><code>VCAP_SERVICES</code></a> environment variable and could be parsed as JSON string. However this would make the application platform dependent, which is something you want to avoid. 
<br /> Typically a JNDI service requires to edit the server.xml to point to the right service. However editing the server.xml in Bluemix is something you do want to avoid as much as possible. Luckily the 
<a href="https://github.com/cloudfoundry/ibm-websphere-liberty-buildpack">Websphere Java Liberty Buildpack</a>, which is the one Bluemix uses for Java by default, does handle that for you 
<i>automagic</i> and all Bluemix services turn into discoverable JNDI objects. So far in theory. I found myself in the tricky situation to check what services are actually there. So I wrote some code that turns the available JNDI objects into a JSON string. 
<br /> 
<pre class="brush:java">
    @GET
    @Path(&quot;/jndi&quot;)
    @Produces(MediaType.APPLICATION_JSON)
    public Response getJndi() {
        StringBuilder b = new StringBuilder();
        b.append(&quot;{ \&quot;java:comp\&quot; : [&quot;);
        this.renderJndi(&quot;java:comp&quot;, b);
        b.append(&quot;]}&quot;);

        return Response.status(Status.OK).entity(b.toString()).build();
    }

    private void renderJndi(String prefix, StringBuilder b) {
        boolean isFirst = true;

        try {
            InitialContext ic = new InitialContext();
            NamingEnumerationlt;NameClassPairgt; list = ic.list(prefix);
            while (list.hasMore()) {
                if (!isFirst) {
                    b.append(&quot;, \n&quot;);
                }

                NameClassPair ncp = list.next();
                String theName = ncp.getName();
                String className = ncp.getClassName();

                b.append(&quot;{\&quot;name\&quot; : \&quot;&quot;);
                b.append(theName);
                b.append(&quot;\&quot;,&quot;);
                b.append(&quot;\&quot;javaClass\&quot; : \&quot;&quot;);

                b.append(className);
                b.append(&quot;\&quot;&quot;);
                if (&quot;javax.naming.Context&quot;.equals(className)) {
                    b.append(&quot;, \&quot;children\&quot; : [&quot;);
                    this.renderJndi(prefix + (prefix.endsWith(&quot;:&quot;) ? &quot;&quot; : &quot;/&quot;) + theName, b);
                    b.append(&quot;]&quot;);
                }
                b.append(&quot;}&quot;);
                isFirst = false;
            }
        } catch (Exception e) {
            e.printStackTrace();
            b.append(&quot;\&quot;&quot;);
            b.append(e.getMessage());
            b.append(&quot;\&quot;&quot;);
        }

    }
</pre> 
<br /> Enjoy - As usual you YMMV</div>
				<hr />
				
				<p>
						Posted by <a rel="author" href="https://plus.google.com/u/0/+StephanWissel">
Stephan H Wissel</a> on 2015-06-18 04:18
<span class="divider">|</span>
<a href="/blog/2015/06/investigating-jndi.html#comments">Comments (0)</a>
<span class="divider">|</span>
categories:  <a href="/blog/categories/Bluemix.html">Bluemix</a>  <a href="/blog/categories/Java.html">Java</a> 

						<div class="shariff" data-lang="en" data-url="http://www.notessensei.com/blog/2015/06/investigating-jndi.html" data-services="[&quot;whatsapp&quot;,&quot;facebook&quot;,&quot;twitter&quot;,&quot;googleplus&quot;]" data-title="Investigating JNDI"></div>
						<script type="text/javascript">
							var permaLink = "http://www.notessensei.com/blog/2015/06/investigating-jndi.html";
						</script>
					</p>

			</article>
			<article class="well well-raised span8">
				<h1>
					<small><a href="/blog/2015/06/adventures-with-node-red.html">Adventures with Node-RED</a></small>
				</h1>
				<hr />
				<div><a href="http://nodered.org/">Node-RED</a> is a project that succesfully escaped &quot;ET&quot; - not the alien but IBM's 
<a href="ibm.com/blogs/et">Emerging Technology</a> group. Build on top of node.js, Node-RED runs in many places, including the 
<a href="http://thethingbox.io/">Rasberry PI</a> and IBM 
<a href="http://www.bluemix.net/">Bluemix</a>. 
<br /> In Node-RED the flow between nodes is graphically represented by lines you drag between them, requiring just a little scripting to get them going. 
<br /> The interesting part are the nodes that 
<a href="https://www.npmjs.com/browse/keyword/node-red">are available</a> (unless you fancy to write 
<a href="http://nodered.org/docs/creating-nodes/">your own</a>): A large array of 
<a href="http://flows.nodered.org/">ready made flows</a> with nodes and sample applications makes Node-RED extremly flexible (I wonder if it would make sense to build a workflow engine with it). In case you don't find a node you fancy, you can 
<a href="http://nodered.org/docs/creating-nodes/">build your own</a>. Not all nodes are created equal, so you need to check what works. When you run Node-RED on Bluemix, you won't get access to hardware like serial port or Bluetooth, but you gain a DNS addressable IP endpoint (you are not limited to http(s)). Furthermore, IBM provides direct access to the IBM IoT cloud, that takes the headache out of device configuration by providing an 
<a href="https://developer.ibm.com/iotfoundation/">extensive library</a> of device libraries. 
<br /> So how to 
<a href="http://nodered.org/docs/getting-started/adding-nodes.html">get additional nodes</a>, own or others, onto Bluemix? Here are the steps: 
<ol> 
 <li>create a new application with the IoT Boilerplate</li> 
 <li>link that application to version control on <a href="https://hub.jazz.net/">hub.jazz.net</a></li> 
 <li>clone the repository locally <code>git clone ...</code></li> 
 <li>edit the package.json and add the item you would like to add</li> 
 <li>commit and push the changes back to jazzhub and let &quot;build and deploy&quot; sort it out</li> 
</ol></div>
				<hr />
				 <a href="/blog/2015/06/adventures-with-node-red.html">Read more</a> 
				<p>
						Posted by <a rel="author" href="https://plus.google.com/u/0/+StephanWissel">
Stephan H Wissel</a> on 2015-06-02 06:42
<span class="divider">|</span>
<a href="/blog/2015/06/adventures-with-node-red.html#comments">Comments (0)</a>
<span class="divider">|</span>
categories:  <a href="/blog/categories/Bluemix.html">Bluemix</a> 

						<div class="shariff" data-lang="en" data-url="http://www.notessensei.com/blog/2015/06/adventures-with-node-red.html" data-services="[&quot;whatsapp&quot;,&quot;facebook&quot;,&quot;twitter&quot;,&quot;googleplus&quot;]" data-title="Adventures with Node-RED"></div>
						<script type="text/javascript">
							var permaLink = "http://www.notessensei.com/blog/2015/06/adventures-with-node-red.html";
						</script>
					</p>

			</article>
			<article class="well well-raised span8">
				<h1>
					<small><a href="/blog/2015/05/your-api-needs-a-plan-aka-api-management.html">Your API needs a plan (a.k.a. API Management)</a></small>
				</h1>
				<hr />
				<div>You drank the 
<a href="http://www.forbes.com/sites/ciocentral/2012/08/29/welcome-to-the-api-economy/">API Economy</a> cool aid and created some neat https addressable calls using 
<a href="https://www.npmjs.com/package/restify">Restify</a> or 
<a href="https://jax-rs-spec.java.net/">JAX-RS</a>. Digging deeper into the concept of 
<a href="http://microservices.io/">micro services</a> you realize, a https callable endpoint doesn't make it an API. There are a few more steps involved. 
<br /> O'Reilly provides a nice summary in the book 
<a href="http://amzn.to/1KiMq3j">Building Microservices</a>, so you might want to add that to your reading list. In a nutshell: 
<ul> 
 <li>You need to <b>document</b> your APIs. The most popular tool here seems to be <a href="http://swagger.io/">Swagger</a> and <a href="http://www.w3.org/TR/wsdl20/">WSDL 2.0</a> (I also like <a href="https://apiary.io/">Apiary</a>)</li> 
 <li>You need to manage <b>who</b> is calling your API. The established mechanism is to use <a href="http://en.wikipedia.org/wiki/Application_programming_interface_key">API keys</a>. Those need to be issued, managed and monitored</li> 
 <li>You need to manage <b>when</b> your API is called. Depending on the ability of your infrastructure (or your ability to pay for scale out) you need to limit the rate your API is called by second, hour or billing period</li> 
 <li>You need to manage <b>how</b> your API is called. In which sequence, is the call clean, where does it come from</li> 
 <li>You need to manage <b>versions</b> of your API, so innovations and improvements don't break existing code</li> 
 <li>You need to manage <b>grouping</b> of your endpoints into &quot;packages&quot; like: free API, fremium API, partner API, pro API etc. Since the calls will overlap, building code for the bundles would lead to duplicates</li> 
</ul> And of course, all of this need statistics and monitoring. Adding that to you code will create quite some overhead, so I would suggest: use a service for that. 
<br /> In IBM Bluemix there is the 
<a href="https://console.ng.bluemix.net/?ace_base=true/#/store/cloudOEPaneId=store&amp;serviceOfferingGuid=a9f6bd74-2328-40eb-a596-4b0a0398476e&amp;fromCatalog=true">API Management</a> service. This service isn't a new invention, but the existing 
<a href="http://www.ibm.com/cloud-computing/us/en/">IBM Cloud</a> API management made available in a consumption based pricing model. 
<br /> Your first 5000 calls are free, as is your first developer account. After that is is less than 6USD (pricing as of May 2015) for 100,000 calls. This provides a low investment way to evaluate the power of 
<a href="http://www-03.ibm.com/software/products/en/api-management">IBM API Management</a>. 
<br /> 
<img src="/blog/images/2015/APIManagement.jpg" border="0" alt="API Management IBM Style" /> 
<br /> The diagram shows the general structure. Your APIs only need to talk to the IBM cloud, removing the headache of security, packet monitoring etc. 
<br /> Once you build your API you then expose it back to Bluemix as a custom service. It will appear like any other service in your catalogue. The purpose of this is to make it simple using those APIs from Bluemix - you just read your 
<code>VCAP_SERVICES</code>. 
<br /> But you are not limited to use these APIs from Bluemix. You can call the IBM API management directly (your API partners/customers will like that) from whatever has access to the 
<a href="http://www.yourdictionary.com/intertubes">Intertubes</a>. 
<br /> There are excellent resources published to get you started. Now that you know 
<b>why</b>, check out the 
<b>how</b>: 
<ul> 
 <li><a href="http://heidloff.net/nh/home.nsf/article.xsp?id=12.03.2015142254NHEHPV.htm">Manage your APIs with the new IBM Bluemix Service</a></li> 
 <li><a href="https://developer.ibm.com/bluemix/2015/04/06/getting-started-bluemix-api-management-service/">Getting started with the Bluemix API Management Service</a></li> 
 <li><a href="https://www.ng.bluemix.net/docs/#services/APIManagement/index.html#gettingstartedapim">Getting started with the API Management service</a> (Official Bluemix documentation)</li> 
 <li><a href="http://www-01.ibm.com/support/knowledgecenter/SSZFB2_3.0.1/mapfiles/ic_service_home.html">IBM API Management Service documentation</a> (IBM Knowledge base)</li> 
</ul> If you not sure about that whole micro services thing, check out Chris' 
<a href="https://github.com/cer/event-sourcing-examples">example code</a>. 
<br /> As usual YMMV</div>
				<hr />
				
				<p>
						Posted by <a rel="author" href="https://plus.google.com/u/0/+StephanWissel">
Stephan H Wissel</a> on 2015-05-20 08:12
<span class="divider">|</span>
<a href="/blog/2015/05/your-api-needs-a-plan-aka-api-management.html#comments">Comments (0)</a>
<span class="divider">|</span>
categories:  <a href="/blog/categories/Bluemix.html">Bluemix</a> 

						<div class="shariff" data-lang="en" data-url="http://www.notessensei.com/blog/2015/05/your-api-needs-a-plan-aka-api-management.html" data-services="[&quot;whatsapp&quot;,&quot;facebook&quot;,&quot;twitter&quot;,&quot;googleplus&quot;]" data-title="Your API needs a plan (a.k.a. API Management)"></div>
						<script type="text/javascript">
							var permaLink = "http://www.notessensei.com/blog/2015/05/your-api-needs-a-plan-aka-api-management.html";
						</script>
					</p>

			</article>
		</div>
	</div>
	<!-- Footer	================================================== -->
		<footer>
		<div class="container">
			<div class="row">
				<div class="span2">
					<h4>About Me</h4>
					<p>
						I am the "IBM Cloud Development Advocate" for IBM
						Asean. I'm based in Singapore.
						<g:plusone size="small" href="http://www.wissel.net/blog"></g:plusone>
					</p>
					<script
						src="http://stackoverflow.com/users/flair/131021.js?theme=default"
						type="text/javascript"></script>
				</div>
				<div class="span2">
					<h4>Contact</h4>
					<ul>
						<li><a href="https://www.twitter.com/notessensei">Twitter</a></li>
						<li><a href="https://plus.google.com/+StephanWissel/about" rel="author" style="text-decoration: none;">
						    <img src="https://ssl.gstatic.com/images/icons/gplus-16.png" alt="" style="border: 0; width: 16px; height: 16px;" /> Google+</a>
						   (<a href="https://plus.google.com/+StephanWissel/posts">posts</a>)</li>
						<li><a href="skype//:notessensei?chat">Skype</a></li>
						<li><a href="/blog/2010/04/communicating-with-ibmers-and-lotus-professionals-using-sametime.html"
							   title="Many ways to use Sametime, no own Sametime server required">Sametime</a></li>
						<li><a href="http://www.ibm.com/contact/employees/servlets/lookup?lastname=Wissel&firstname=Stephan">IBM</a></li>
						<li><a href="https://sg.linkedin.com/in/notessensei">LinkedIn</a></li>
						<li><a href="https://www.xing.com/profile/StephanH_Wissel">XING</a></li>
						<li><a href="https://astore.amazon.com/wissenetblog-20">Amazon Store</a></li>
						<li><a href="https://kindle.amazon.com/profile/Stephan-H--Wissel/1659300">Amazon Kindle</a></li>
						<li><a href="http://notessensei.spreadshirt.com/">NotesSensei's Spreadshirt shop</a></li>
						<li><a href="http://about.me/stephan.wissel/#" title="Another identity site, nothing much here">About Me</a></li>
					</ul>
				</div>
				<div class="span8">
					<h4>Disclaimer</h4>
					<p>This site is in no way affiliated, endorsed, sanctioned,
						supported, nor enlightened by Lotus Software nor IBM Corporation.
						I may be an employee, but the opinions, theories, facts, etc.
						presented here are my own and are in now way given in any official
						capacity. In short, these are my words and this is my site, not
						IBM's - and don't even begin to think otherwise.</p>
					<p>
						<b>&copy; 2003 - 2015 Stephan H. Wissel - some rights reserved</b> as
						listed here: <a rel="license"
							href="http://creativecommons.org/licenses/by-nc-sa/3.0/"><img
							alt="Creative Commons License" style="border-width: 0"
							src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" /></a>
						Unless otherwise labeled by its originating author, the content
						found on this site is made available under the terms of an <a
							href="http://creativecommons.org/licenses/by-nc-sa/3.0/"
							target="_blank"
							title="Learn more about the creative commons  Attribution-ShareAlike License">Attribution/NonCommercial/ShareAlike
							Creative Commons License</a>, with the exception that no rights are
						granted -- since they are not mine to grant -- in any logo,
						graphic design, trademarks or trade names of any type. Code
						samples and code downloads on this site are, unless otherwise
						labeled, made available under an <a
							href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache
							2.0</a> license. Other license models are available on written
						request and written confirmation.
					</p>
				</div>
			</div>
		</div>
	</footer>

		<script type="text/javascript" src="/blog/js/jquery.min.js"></script>
	<script type="text/javascript" src="/blog/js/bootstrap.js"></script>
	<script type="text/javascript" src="/blog/js/shariff.min.js"></script>
	<script type="text/javascript" src="/blog/js/jquery.fittext.js"></script>
	<script type="text/javascript" src="/blog/js/main.js"></script>
    <script type="text/javascript" src="/blog/js2/shCore.js"></script>
    <script type="text/javascript" src="/blog/js2/shBrushJava.js"></script>
    <script type="text/javascript" src="/blog/js2/shBrushJScript.js"></script>
    <script type="text/javascript" src="/blog/js2/shBrushXml.js"></script>
    <script type="text/javascript" src="/blog/js2/shBrushBash.js"></script>
    <script type="text/javascript" src="/blog/js2/shBrushPlain.js"></script>
    <script type="text/javascript" src="/blog/js2/shBrushVb.js"></script>  
    <script type="text/javascript">
		SyntaxHighlighter.all();
    </script>
	<script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script>
	<script type="text/javascript">
	
		_uacct = "UA-72033-1";
		urchinTracker();
	</script>
	<script type="text/javascript" src="http://feeds.feedburner.com/~s/Wisselnet?i=http://www.wissel.net/blog" charset="utf-8"></script>

	<script src="/blog/js2/jquery.awesomeCloud-0.2.min.js" type="text/javascript"></script>
	<script type="text/javascript">
		var settings = {
			"size" : {
				"grid" : 16
			},
			"options" : {
				"color" : "random-dark",
				"printMultiplier" : 1
			},
			"font" : "Futura, Helvetica, sans-serif",
			"shape" : "square"
		}
		$("#wordcloud").awesomeCloud(settings);
	</script>
</body>
</html>
