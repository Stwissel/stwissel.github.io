<!DOCTYPE html>
<html lang="en">
<head>
<title>Hexagonal Architecture meets Maven - NotesSensei's Blog</title>
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-72033-1', 'auto');
ga('send', 'pageview');
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible"  content="chrome=1" />
<meta http-equiv="Content-Language" content="en" />
<meta rel="meta" link="application/rdf+xml" content="/foaf.rdf" />
<meta property="og:title"     content="wissel.net - Hexagonal Architecture meets Maven" />
<meta property="og:type"      content="blog" />
<meta property="og:url"       content="https://wissel.net/blog/2024/07/hexagonal-architecture-meets-maven.html" />
<meta property="og:image"     content="//www.wissel.net/blog/img/wisselnet.gif" />
<meta property="og:site_name" content="wissel.net" />
<meta name="viewport"         content="width=device-width, initial-scale=1.0" />
<meta name="ROBOTS"           content="FOLLOW, NOIMAGEINDEX" />
<meta name="DC.Title"         content="NotesSensei's Weblog - Hexagonal Architecture meets Maven" />
<meta name="Author"           content="Stephan H. Wissel" />
<meta name="ICBM"             content="1.2994, 103.8425" />
<meta name="Copyright"        content="2002,2022 Stephan H. Wissel - Creative commons licence" />
<meta name="twitter:site"     content="@notessensei" />
<meta name="twitter:card"     content="summary" />
<meta name="xing:author"      content="https://www.xing.com/profile/StephanH_Wissel" />
<meta name="description"
	content="Hexagonal Architecture meets Maven - Know your patterns, so you don&#39;t re-invent the wheel. Patterns are like LEGO: You can combine them to larger patterns. One of those is the Hexagonal Achitecture officially called: Ports and Adapters proposed by Alistair Cockburn, one of the co-signers of the Agile Manifesto. I&#39;ve written about his w" />
<meta name="Keywords"
	content="Java,Maven,WebDevelopment," />
<meta name="Abstract"
	content="Hexagonal Architecture meets Maven - Know your patterns, so you don&#39;t re-invent the wheel. Patterns are like LEGO: You can combine them to larger patterns. One of those is the Hexagonal Achitecture officially called: Ports and Adapters proposed by Alistair Cockburn, one of the co-signers of the Agile Manifesto. I&#39;ve written about his w" />
<!--[if lt IE 9]>
		<script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<link rel="stylesheet" type="text/css" href="/blog/style/bootstrap.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/responsive.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/wisselblog.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/main.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/blogcodedisplay.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/shariff.complete.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/markdown.css" />
<link rel="stylesheet" type="text/css" href="/blog/css/prism.css" />
<link rel="stylesheet" type="text/css" href="/blog/css/admonition.css" />
<link rel="icon" type="image/png" href="/blog/img/favicon-32x32.png" sizes="32x32" />
<link rel="icon" type="image/png" href="/blog/img/favicon-16x16.png" sizes="16x16" />


<link rel="alternate" type="application/rss+xml" title="RSS News Feed" href="https://feeds.feedburner.com/Wisselnetfeed" />

<meta name="Revisit-After" content="90 Days" />
</head>
<body class="line-numbers">
	<div class="navbar navbar-inverse navbar-fixed-top">
		<div class="navbar-inner">
			<a class="btn btn-navbar" data-toggle="collapse"
				data-target=".nav-collapse"> <span class="icon-bar"></span> <span
				class="icon-bar"></span> <span class="icon-bar"></span>
			</a> <a class="brand" href="/">wissel.net</a>
			<div class="nav-collapse">
				<ul class="nav">
					<li><a href="/index.html">Home</a></li>
					<li class="active"><a href="/blog/">Blog</a></li>
					<li><a href="/blog/series.html">Series</a></li>
					<li><a href="/blog/downloads/">Downloads</a></li>
					<li><a href="https://stwissel.github.io/presentations/" title="Presentations maintained on GitHub">Presentations</a></li>
					<li><a href="/blog/imprint.html">About / Imprint</a></li>
					<li><a href="/mealplan.html">Food</a></li>
				</ul>
				<form action="//www.google.com/cse" id="cse-search-box"
					class="navbar-search pull-right">
					<div>
						<input type="hidden" name="cx"
							value="partner-pub-4562257798204150:muo14ionenw" /> <input
							type="hidden" name="ie" value="ISO-8859-1" /> <input type="text"
							name="q" class="search-query span2" placeholder="Search" />
						<!-- input type="submit" name="sa" value="Search" class="btn btn-small"/-->
					</div>
				</form>
			</div>
		</div>
	</div>
<div class="navbar-spacer"></div>

	<div class="container">
    		<br />
		<header>
			<div id="mainsmall"  class="hero-unit">
				<h2>wissel.net</h2>
				<p>Usability - Productivity - Business - The web - Singapore &amp; Twins</p>
			</div>
		</header>

     
    <ul class="breadcrumb">
  <li><a href="/blog/">Blog</a> <span class="divider">/</span></li>
  <li><a href="/blog/2024/">2024</a> <span class="divider">/</span></li>
  <li><a href="/blog/2024/07/">July</a></li>
  <li class="pull-right">
    <span class="divider">|</span><a href="/blog/categories/java.html">Java</a>
  </li>
  <li class="pull-right">
    <span class="divider">|</span><a href="/blog/categories/maven.html">Maven</a>
  </li>
  <li class="pull-right">
    <span class="divider">|</span><a href="/blog/categories/webdevelopment.html">WebDevelopment</a>
  </li>
</ul>

		<div class="row-fluid">
			<div class="span12">
				
				<ul class="breadcrumb pull-centre">
					<li><a href="/blog/2024/06/how-deep-do-you-authenticate.html"><i class="icon-hand-left"></i>How deep do you authenticate?</a>
						<span class="divider">|</span></li>
					<li><a href="/blog/"><i class="icon-hand-up"></i>Main</a></li>
					<span class="divider">|</span>
					<li><a href="/blog/2024/08/simplify-junit-tests-with-custom-annotations.html">Simplify JUnit tests with custom annotations<i class="icon-hand-right"></i></a>
					</li>
				</ul>

				<article class="well well-raised">
					<h1><small>Hexagonal Architecture meets Maven</small></h1>
					<hr />
					<div><p>Know your <a href="https://www.geeksforgeeks.org/java-design-patterns/">patterns</a>, so you don't re-invent the wheel. Patterns are like <a href="https://www.lego.com/en-us/categories/adults-welcome">LEGO</a>: You can combine them to larger patterns. One of those is the <a href="https://en.wikipedia.org/wiki/Hexagonal_architecture_(software)">Hexagonal Achitecture</a> officially called:</p>
<h3>Ports and Adapters</h3>
<p>proposed by <a href="https://alistaircockburn.com/">Alistair Cockburn</a>, one of the co-signers of the <a href="https://agilemanifesto.org/">Agile Manifesto</a>.</p>
<p>I've written about <a href="/blog/2005/07/crystal-clear.html">his work before</a> and can highly recommend his latest book "<a href="https://amzn.to/4bU6Bnz">Hexagonal Architecture Explained</a>" (or for that matter <a href="https://amzn.to/3LC5yhy">any of his writings</a>).</p>
<p>In a nushell, <em>Ports and Adapters</em> proposes an approach that leads to loosely coupled systems, that separates business logic from the software environment (think I/O, databses, API and UI) to facilitate clarity and ease of testing.</p>
<p>This post doesn't aim to explain it, for that you can refer to the <a href="https://en.wikipedia.org/wiki/Hexagonal_architecture_(software)">Wikipedia article</a> or, better, <a href="https://amzn.to/4bU6Bnz">read the book</a> but trying to describe how to apply it to Java in a <a href="https://maven.apache.org/">Maven</a> project.</p><h3>Context</h3>
<p>In chapter 3 of <a href="https://amzn.to/4bU6Bnz">the book</a> Alistair provides code samples, but without file name or locations, while in chapter 3.3 pointing to the <a href="https://github.com/HexArchBook">Bluezone example</a>, a Java example contributed by his co-author, the late Juan Manuel Garrido de Paz.</p>
<p>I liked the code, I didn't like the maven structure, since it deviates quite a bit from a standard maven project structure. This isn't just a matter of taste, but complexity. All maven plugins presume, unless told otherwise, a specific structure. Reconfiguring each of them is unneccesary work when following the standard layout. In German we <a href="https://www.dwds.de/wb/etw.%20gegen%20den%20Strich%20b%C3%BCrsten">would say</a>: "Man b√ºrstet eine Katze nicht gegen den Strich".</p>
<p>So I devised a <a href="https://github.com/Stwissel/hexagonal-maven">simple example</a>, trying to be more in line with maven expectations.</p>
<h3>Constrains</h3>
<p>In the hexagonal architecture we have ports, expressed in Java as interfaces, the app using driving and driven ports and the adapters to be able to adjust ins and outs of the application with its surroundings as necessary.</p>
<p>A concrete implementation of a port <strong>must not</strong> depend on the app or adapter, the app <strong>must not</strong> depend on a concrete implementation, but only the interfaces.</p>
<p>Maven has an expected directory structure, with dependencies defined by their <code>pom.xml</code> (and availability in <a href="https://central.sonatype.com/">Maven central</a> or any reachable registry). To simplify the example, I used an <a href="https://www.baeldung.com/maven-multi-module">aggregator pom</a> which eliminates the need of uploading the individual modules to the registry for the example.</p>
<p>Another detail: the maven structure sharply distinguishes between application code (<code>src/main</code>) and test code ( <code>src/test</code>). While you can reconfigure all of this, I'd like to save you <a href="https://www.tiktok.com/@marshmallowmoney/video/7394976984385834271">gentle reader</a> from that pain.</p>
<h3>Project layout</h3>
<p><img src="/blog/images/2024/hexagoonal_maven.png" alt="Project layout tree"></p>
<pre><code class="language-puml">@startwbs
*: &lt;&amp;flag&gt; Project root
pom.xml;
**: &lt;&amp;globe&gt; module adapters
pom.xml;
*** src/main/java
*** src/test/java
**: &lt;&amp;globe&gt; module app
pom.xml;
*** src/main/java
*** src/test/java
**: &lt;&amp;globe&gt; module ports
pom.xml;
*** src/main/java
@endwbs
</code></pre>
<h3>Class &amp; package structure</h3>
<p>The architecture destinguishes between primary or driving ports and secondary or driven ports. Primsry ports are the ones implemented by the app, while secondary ports are the interfaces the app interacts with, provided by some form of <a href="https://en.wikipedia.org/wiki/Dependency_injection">dependency injection</a>. Thus the ports have two packages:</p>
<ul>
 <li><code>package com.notessensei.primaryports;</code></li>
 <li><code>package com.notessensei.secondaryports;</code></li>
</ul>
<p>The tests for the application, including the mock objects implementing the ports, live with the app in <code>package com.notessensei.app;</code> separated in <code>main</code> and <code>test</code> directories, but featuring the same package hierarchy.</p>
<h3>Variations</h3>
<ul>
 <li>Change <code>primaryports</code> to <code>drivingports</code> and/or <code>secondaryports</code> to <code>drivenports</code></li>
 <li>Reflect the "portness" in the package hierachy: <code>package com.notessensei.ports.driving</code></li>
</ul>
<h3>Conclusion</h3>
<ul>
 <li>Maven and Hexagonal Architecture go well together.</li>
 <li>Sticking with the default Maven directory layout works .</li>
 <li>Maven modules are a suitable tool to separate dependencies.</li>
 <li>Keeping <code>main</code> and <code>test</code> apart works well with default settings for test automation like <code>mvn test</code></li>
</ul>
<p>Go <a href="https://github.com/Stwissel/hexagonal-maven">check it out</a>, as usual: YMMV</p></div>
					<hr />
					<p>
						Posted by <a rel="author" href="https://plus.google.com/u/0/+StephanWissel">
Stephan H Wissel</a> on 24 July 2024
<span class="divider">|</span>
<a href="/blog/2024/07/hexagonal-architecture-meets-maven.html#comments">Comments (0)</a>
<span class="divider">|</span>
categories:  <a href="/blog/categories/java.html">Java</a>  <a href="/blog/categories/maven.html">Maven</a>  <a href="/blog/categories/webdevelopment.html">WebDevelopment</a> 

						<script type="text/javascript">
							var permaLink = "https://wissel.net/blog/2024/07/hexagonal-architecture-meets-maven.html";
						</script>
					</p>
				</article>
				<a name="comments"></a>
				<div class="well well-raised" style="text-align : center">
				<button class="btn btn-lg btn-info" data-toggle="collapse" data-target="#commentform_5fd95100-499f-11ef-a97e-ad07a9c29136" type="button">
		            Add your comment...&nbsp;&nbsp;<span class="glyphicon glyphicon-comment"></span>
	            </button>
	            </div>
				<div id="commentform_5fd95100-499f-11ef-a97e-ad07a9c29136"  class="collapse"></div>
				<div class="well well-raised">
					<h4>Comments</h4>
					<ol id="commentList">
						<li id="nocomments">
							<h5>No comments yet, be the first to comment</h5>
						</li>
					</ol>
				</div>
				<ul class="breadcrumb pull-centre">
					<li><a href="/blog/2024/06/how-deep-do-you-authenticate.html"><i class="icon-hand-left"></i>How deep do you authenticate?</a>
						<span class="divider">|</span></li>
					<li><a href="/blog/"><i class="icon-hand-up"></i>Main</a></li>
					<span class="divider">|</span>
					<li><a href="/blog/2024/08/simplify-junit-tests-with-custom-annotations.html">Simplify JUnit tests with custom annotations<i class="icon-hand-right"></i></a>
					</li>
				</ul>

			</div>
		</div>
		<ul class="breadcrumb">
  <li><a href="/blog/">Blog</a> <span class="divider">/</span></li>
  <li><a href="/blog/2024/">2024</a> <span class="divider">/</span></li>
  <li><a href="/blog/2024/07/">July</a></li>
  <li class="pull-right">
    <span class="divider">|</span><a href="/blog/categories/java.html">Java</a>
  </li>
  <li class="pull-right">
    <span class="divider">|</span><a href="/blog/categories/maven.html">Maven</a>
  </li>
  <li class="pull-right">
    <span class="divider">|</span><a href="/blog/categories/webdevelopment.html">WebDevelopment</a>
  </li>
</ul>

	</div>
	<footer>
		<div class="container">
			<div class="row">
				<div class="span2">
					<h4>About Me</h4>
					<p>
						I work as "Solution Director Innovation" for HCL Software. I'm based in ASEAN.
						<g:plusone size="small" href="https://wissel.net/blog/"></g:plusone>
					</p>
					<a href="//stackoverflow.com/users/131021/stwissel">
					<img src="//stackoverflow.com/users/flair/131021.png" width="208" height="58" alt="profile for stwissel at Stack Overflow, Q&amp;A for professional and enthusiast programmer" title="profile for stwissel at Stack Overflow, Q&amp;A for professional and enthusiast programmer">
				</a>
				</div>
				<div class="span2">
					<h4>Contact</h4>
					<ul>
						<li><a rel="me" href="https://chaos.social/@stw">Chat on Mastodon</a></li>
						<li><a href="https://sg.linkedin.com/in/notessensei">LinkedIn</a></li>
						<li><a href="https://notessensei.myspreadshop.com">NotesSensei's Spreadshirt shop</a></li>
						<li><a href="https://www.stickermule.com/u/43c09fe6343315f">Stickers from Stickermule</a></li>
						<li><a href="https://github.com/Stwissel">GitHub</a></li>
						<li><a href="https://bitbucket.org/stwissel/">Bitbucket</a></li>
						<li><a href="https://bsky.app/profile/stwissel.bsky.social">Bluesky</a></li>
					</ul>
				</div>
				<div class="span8">
					<h4>Disclaimer</h4>
					<p>This site is in no way affiliated, endorsed, sanctioned,
						supported, nor enlightened by my current or previous employers.
						I may be an employee, but the opinions, theories, facts, etc.
						presented here are my own and are in now way given in any official
						capacity. In short, these are my words and this is my site, not
						my current or former employers' - and don't even begin to think otherwise.</p>
					<p>
						<b>&copy; 2003 - 2026 Stephan H. Wissel - some rights reserved</b> as
						listed here: <a rel="license"
							href="//creativecommons.org/licenses/by-nc-sa/3.0/"><img
							alt="Creative Commons License" style="border-width: 0"
							src="//licensebuttons.net/l/by-nc-sa/3.0/88x31.png" /></a>
						Unless otherwise labeled by its originating author, the content
						found on this site is made available under the terms of an <a
							href="//creativecommons.org/licenses/by-nc-sa/3.0/"
							target="_blank"
							title="Learn more about the creative commons  Attribution-ShareAlike License">Attribution/NonCommercial/ShareAlike
							Creative Commons License</a>, with the exception that no rights are
						granted -- since they are not mine to grant -- in any logo,
						graphic design, trademarks or trade names of any type. Code
						samples and code downloads on this site are, unless otherwise
						labeled, made available under an <a
							href="//www.apache.org/licenses/LICENSE-2.0.html">Apache
							2.0</a> license. Other license models are available on written
						request and written confirmation.
					</p>
				</div>
			</div>
		</div>
	</footer>

	<script type="text/javascript">
		var permaLink = "https://wissel.net/blog/2024/07/hexagonal-architecture-meets-maven.html";
	</script>
		<script type="text/javascript" src="/blog/js/jquery-3.6.0.min.js"></script>
	<script type="text/javascript" src="/blog/js/bootstrap.js"></script>
	<script type="text/javascript" src="/blog/js/blogmain.js"></script>
    <script type="text/javascript" src="/blog/js2/prism.js"></script>
	<script type="text/javascript" src="/blog/js2/admonition.js"></script>
	<script src="//www.google-analytics.com/urchin.js" type="text/javascript"></script>
	<script type="text/javascript">
		_uacct = "UA-72033-1";
		urchinTracker();
	</script>
	<script type="text/javascript" src="//feeds.feedburner.com/~s/Wisselnet?i=https://wissel.net/blog" charset="utf-8"></script>

		<script src="/blog/js2/mustache.js"></script>
	<script src="/blog/js2/blogcomments.js"></script>
	<script type="text/javascript" src="/blog/js2/Markdown.Converter.js"></script>
    <script type="text/javascript" src="/blog/js2/Markdown.Sanitizer.js"></script>
    <script type="text/javascript" src="/blog/js2/Markdown.Editor.js"></script>
	<script type="text/javascript" src="//www.google.com/recaptcha/api.js"></script>
	<script src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit" async defer></script>
	<script type="text/javascript">
		var onloadCallback = function() {
    		renderComment("6LcBxUEUAAAAACzKM8YKb-RVVaIZ3MN6F1Z8FB_4", "5fd95100-499f-11ef-a97e-ad07a9c29136");
 		};
	</script>

</body>
</html>
