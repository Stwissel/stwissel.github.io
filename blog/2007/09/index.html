<!DOCTYPE html>
<html lang="en">
<head>
<title>NotesSensei's Blog by month: By Date: September 2007</title>
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-72033-1', 'auto');
ga('send', 'pageview');
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible"  content="chrome=1" />
<meta http-equiv="Content-Language" content="en" />
<meta rel="meta" link="application/rdf+xml" content="/foaf.rdf" />
<meta property="og:title"     content="wissel.net - " />
<meta property="og:type"      content="blog" />
<meta property="og:url"       content="https://wissel.net/blog/" />
<meta property="og:image"     content="//www.wissel.net/blog/img/wisselnet.gif" />
<meta property="og:site_name" content="wissel.net" />
<meta name="viewport"         content="width=device-width, initial-scale=1.0" />
<meta name="ROBOTS"           content="FOLLOW, NOIMAGEINDEX" />
<meta name="DC.Title"         content="NotesSensei's Weblog - " />
<meta name="Author"           content="Stephan H. Wissel" />
<meta name="ICBM"             content="1.2994, 103.8425" />
<meta name="Copyright"        content="2002,2020 Stephan H. Wissel - Creative commons licence" />
<meta name="twitter:site"     content="@notessensei" />
<meta name="twitter:card"     content="summary" />
<meta name="xing:author"      content="https://www.xing.com/profile/StephanH_Wissel" />
<meta name="description"
	content="Thoughts, Insights and Opinions of Stephan H. Wissel. Topics included:  Salesforce, IBM, JEE, .Net, Software Archtecture, Personcentric Development, Agile Software, SDLC, Singapore and my Twins" />
<meta name="Keywords"
	content="lotus,domino,quickplace,sametime,blog,template,blogging,blogger,hcl,notes,r11,r10,r9,verse,r8,r7,r6,r5,raven,k-station,nsf,ntf,agile,sdlc,jee,ml,salesforce,.net,personcentric,singapore,twins,JavaScript,vertx, nodejs, salesforce, apex, webcomponents" />
<meta name="Abstract"
	content=" Thoughts, Insights and Opinions of Stephan H. Wissel. Topics included: Salesforce, IBM, HCL, JEE, NodeJS, ML, .Net, Vert.x, Software Archtecture, Personcentric Development, Agile Software, SDLC, Singapore and my Twins" />
<!--[if lt IE 9]>
		<script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<link rel="stylesheet" type="text/css" href="/blog/style/bootstrap.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/responsive.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/wisselblog.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/main.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/blogcodedisplay.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/shariff.complete.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/markdown.css" />
<link rel="stylesheet" type="text/css" href="/blog/css/prism.css" />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Raleway&display=swap" rel="stylesheet">
<link rel="icon" type="image/png" href="/blog/img/favicon-32x32.png" sizes="32x32" />
<link rel="icon" type="image/png" href="/blog/img/favicon-16x16.png" sizes="16x16" />


<link rel="alternate" type="application/rss+xml" title="RSS News Feed" href="https://feeds.feedburner.com/Wisselnetfeed" />

<meta name="Revisit-After" content="90 Days" />
</head>
<body>
	<div class="navbar navbar-inverse navbar-fixed-top">
		<div class="navbar-inner">
			<a class="btn btn-navbar" data-toggle="collapse"
				data-target=".nav-collapse"> <span class="icon-bar"></span> <span
				class="icon-bar"></span> <span class="icon-bar"></span>
			</a> <a class="brand" href="/">wissel.net</a>
			<div class="nav-collapse">
				<ul class="nav">
					<li><a href="/index.html">Home</a></li>
					<li><a href="/blog/">Blog</a></li>
					<li><a href="/blog/series.html">Series</a></li>
					<li><a href="/blog/downloads/">Downloads</a></li>
					<li><a href="https://stwissel.github.io/presentations/" title="Presentations maintained on GitHub">Presentations</a></li>
					<li><a href="/blog/imprint.html">About / Imprint</a></li>
				</ul>
				<form action="//www.google.com/cse" id="cse-search-box"
					class="navbar-search pull-right">
					<div>
						<input type="hidden" name="cx"
							value="partner-pub-4562257798204150:muo14ionenw" /> <input
							type="hidden" name="ie" value="ISO-8859-1" /> <input type="text"
							name="q" class="search-query span2" placeholder="Search" />
						<!-- input type="submit" name="sa" value="Search" class="btn btn-small"/-->
					</div>
				</form>
			</div>
		</div>
	</div>
<div class="navbar-spacer"></div>


	<div class="container">

    		<br />
		<header>
			<div id="main" class="hero-unit">
				<h1 id="jumbotron">wissel.net
				</h1>
				<p class="lead">Usability - Productivity - Business - The web -
					Singapore &amp; Twins</p>
			</div>
		</header>

     
		<div class="row-fluid">
			<div class="span9">
				<ul class="breadcrumb pull-centre">
					<li><a href="/blog/2007/08/index.html"><i class="icon-hand-left"></i>By Date: August 2007</a>
						<span class="divider">|</span></li>
					<li><a href="/blog/"><i class="icon-hand-up"></i>Main</a></li>
					<span class="divider">|</span>
					<li><a href="/blog/2007/10/index.html">By Date: October 2007<i class="icon-hand-right"></i></a>
					</li>
				</ul>

				<div class="well well-raised">
					<h1>By Date: September 2007</h1>
				</div>
				<article class="well well-raised">
					<h1>
						<small><a href="/blog/2007/09/20-easy-steps-to-screw-up-a-domino-upgrade.html">20 Easy Steps  to Screw Up a Domino Upgrade</a></small>
					</h1>
					<hr />
					<div>Domino upgrades are comparable easy and can be <a href="http://www.timtripcony.com/blog.nsf/d6plinks/OPHA-766L5Q">quite fast</a>. Of course <a href="http://blogs.ittoolbox.com/security/dmorrill/archives/lack-of-it-skills-job-burnout-11742">you need to know</a> what you are doing. There might be times when you don't want to have a smooth ride. Like when you are paid by the hour or when you want to move to a different platform. In this case this post is for you. Follow the following easy to implement steps and your upgrade will be an utter failure. But be aware, you have to set the stage before the upgrade, voicing concerns, so you can blame it on IBM when things start to fail --- and they will. 
<ol> 
 <li value="1">Do not upgrade the admin's workstation. Using the latest version of Domino administrator would actually give you access to the latest feature, avoid this </li> 
 <li value="2">Make sure, that you don't have access to all servers and that you are not a system administrator of the domain </li> 
 <li value="3">Make sure, that you can't reach all the servers from the admin workstation </li> 
 <li value="4">Start upgrading the most critical application server first, and the hubs and the administrative server last </li> 
 <li value="5">Make sure you have enough time so the design task on an old server can undo all design changes the upgrade process might have applied </li> 
 <li value="6">Make sure you have touched and customized all system templates, so their change date is younger than the new version. Also make sure the templates don't replicate everywhere. A mess in the system template will give you weeks of (billable) fun </li> 
 <li value="7">Make sure, that your system databases don't replicate or replicate outside the deletion stub life cycle interval </li> 
 <li value="8">Never ever upgrade the design of the Domino Directory or other system databases. If you do so the upgraded server actually could use other settings than defaults. </li> 
 <li value="9">Try to make sure that your ODS is at least one version behind. This keeps the indexer busy. </li> 
 <li value="10">Yes a full hard disk is also a good idea: if the available space is less than your biggest database and less than 20% that is good </li> 
 <li value="11">Enable disk compression. Having the OS scream when it needs to uncompress notes databases on access </li> 
 <li value="12">Use a desktop virus scanner on your server. Make sure it scans every file on access </li> 
 <li value="13">Don't uninstall any 3rd party extensions (like the virus scanner or compliance plug-ins). It is more fun to search for such issues. And while you are on it: don't use the latest version of 3rd party apps, they actually might be compatible with the new version of Domino. </li> 
 <li value="14">Enable transaction logging with either the OS or the data drive as destination. Hard disks should spin hard. </li> 
 <li value="15">Make sure you don't apply your OS level service packs or patches. This is especially important on W2K3 and W2K3/64. </li> 
 <li value="16">Do not apply the latest version of your source version. (LIke 5.0.13a when you come from R5, or 6.5.6 when you come from R6.x) This is especially fun when skipping a version </li> 
 <li value="17">Make sure that the messaging people don't talk to the apps people vice versa. Also don't give notice to the apps people that you do the upgrade </li> 
 <li value="18">Do not maintain documentation which applications use which system template for lookup. Anyway documentation is for whimps. </li> 
 <li value="19">Be creative. Look for best practices in Redbooks, on the IBM site and other online locations. Put a "not" or "don't" in front of every recommendation. </li> 
 <li value="20">Don't use fixup or compact before or after the upgrade.</li> 
</ol> 
<br>This list is by far not complete. So if you know another way to screw your upgrade, let me know.</div>
					<hr />
					<p>
						Posted by <a rel="author" href="https://plus.google.com/u/0/+StephanWissel">
Stephan H Wissel</a> on 27 September 2007
<span class="divider">|</span>
<a href="/blog/2007/09/20-easy-steps-to-screw-up-a-domino-upgrade.html#comments">Comments (3)</a>
<span class="divider">|</span>
categories:  <a href="/blog/categories/showntellthursday.html">Show-N-Tell Thursday</a> 

						<script type="text/javascript">
							var permaLink = "https://wissel.net/blog/2007/09/20-easy-steps-to-screw-up-a-domino-upgrade.html";
						</script>
					</p>
				</article>
				<article class="well well-raised">
					<h1>
						<small><a href="/blog/2007/09/customizing-system-templates.html">Customizing system templates</a></small>
					</h1>
					<hr />
					<div>Everything in Notes can be customized by tweaking with the design. I highly recommend never to tweak design in a database itself, but use Domino's template capability. You can have multiple databases using the same layout. Even if you build a specialized custom application you will have at least 3 databases sharing the same design: development sample data, UAT sample data and production data. So use template, and NO hiding the design is not a nice thing to do and actually not a security feature (it's rather an obscurity feature). 
<br> In a lot of installations I came across system databases have been altered: the Domino directory, the log, the mail template etc. IBM's support always has a hard time helping in this environments. There is a rather strict policy to insist on original IBM templates. Following a few easy steps however you can eat your cake and have it too. The secret is to use the template system wisely. Following the steps has quite some advantages: 
<br> 
<ul> 
 <li type="disc">Your customizations are protected from being overwritten since they are sitting in their own database</li> 
 <li type="disc">Your customizations are visible since they are sitting in their own database</li> 
 <li type="disc">Since the original templates are untouched future fixes are easily included in your actual database</li> 
 <li type="disc">You can switch back and forth between the IBM template and your customized template using "replace design". This is extremely useful when troubleshooting issues: switch to the original IBM template, if the problem is gone you know where to look. If the problem persists you don't need to argue with support about customization having an impact</li> 
</ul> 
<br> These are the steps:</div>
					<hr />
 <a href="/blog/2007/09/customizing-system-templates.html">Read more</a>
					<p>
						Posted by <a rel="author" href="https://plus.google.com/u/0/+StephanWissel">
Stephan H Wissel</a> on 26 September 2007
<span class="divider">|</span>
<a href="/blog/2007/09/customizing-system-templates.html#comments">Comments (4)</a>
<span class="divider">|</span>
categories:  <a href="/blog/categories/showntellthursday.html">Show-N-Tell Thursday</a> 

						<script type="text/javascript">
							var permaLink = "https://wissel.net/blog/2007/09/customizing-system-templates.html";
						</script>
					</p>
				</article>
				<article class="well well-raised">
					<h1>
						<small><a href="/blog/2007/09/syncing-documents-in-2-views.html">Syncing documents in 2 views</a></small>
					</h1>
					<hr />
					<div>I got quite some requests on the <a href="/blog/2007/09/domino-anti-pattern-delete-and-recreate.html">details of the syncing documents</a> in views pattern/anti-pattern.So this is what you need to do: 
<ol> 
 <li>Have 2 views with identical keys, sorted by the key</li> 
 <li>Julian's <a href="http://www.openntf.org/Projects/pmt.nsf/ProjectLookup/OpenLog">OpenLog database</a></li> 
 <li>The main function SyncAllDocument</li> 
 <li>3 auxiliary functions: getCompareKeySource, getCompareKeyTarget and updateSourceDoc</li> 
</ol> In my example code I made the assumption, that the documents contain the same fields and have a single key. You might have different requirements like computing things and/or only coying part of the items or do a computewithform before saving. Nevertheless you don't need to touch the main routine for that. You get the idea.</div>
					<hr />
 <a href="/blog/2007/09/syncing-documents-in-2-views.html">Read more</a>
					<p>
						Posted by <a rel="author" href="https://plus.google.com/u/0/+StephanWissel">
Stephan H Wissel</a> on 21 September 2007
<span class="divider">|</span>
<a href="/blog/2007/09/syncing-documents-in-2-views.html#comments">Comments (3)</a>
<span class="divider">|</span>
categories:  <a href="/blog/categories/showntellthursday.html">Show-N-Tell Thursday</a> 

						<script type="text/javascript">
							var permaLink = "https://wissel.net/blog/2007/09/syncing-documents-in-2-views.html";
						</script>
					</p>
				</article>
				<article class="well well-raised">
					<h1>
						<small><a href="/blog/2007/09/domino-anti-pattern-delete-and-recreate.html">Domino Anti-Pattern: Delete and Recreate</a></small>
					</h1>
					<hr />
					<div>When reviewing agents or trouble shooting mis-behaving databases I come across a popular anti-pattern for Domino: delete and recreate. <a href="http://en.wikipedia.org/wiki/Antipattern">Anti-pattern</a> are well known failures for common known problems. "Delete and Recreate" can be found in report generating applications or databases that pull values from other sources like RDBMS or flat files. Mostly you can find that pattern when developers came from a RDMBS background where deleting equals the total removal of information. In Domino things are a little different. When you delete a document something remains back: a deletion stub. A deletion stub is the DocumentUniqueId plus a flag that says "I'm a deletion stub". The stub is then replicated to other servers or clients to also remove this document in the replica. The default life span of a deletion stub is 30 days. 
<br>In a recent analysis I was looking at a database with just 400 documents, that was big, slow and prone to crashes. On closer examination I found an agent performing this pattern on the 400 documents every 30 minutes. Do your math: 400 x 48 x 30 = 576000. Quite some baggage for just 400 entries. 
<br>So what are the alternatives? 
<br>Requirements like this are often solved with another anti-pattern: "Loop through a big loop and do a dbLookup (or getDocumentByKey) for each iteration". But there is an easier way: Typically there is a sorted key (customer number, part number, record id etc.) that would be available in source and target. Create a collection for source and target and use what I call "The Tango" or "The Wiggle". The pseudo code looks like this: 
<br> 
<ol> 
 <li value="1">Read first source key and first target key </li> 
 <li value="2">Do until you run out of keys </li> 
 <li value="3">&nbsp;if source key is equal target key: call sub routine comparing the two records how they have to be compared and update and save target if it has changed (but not otherwise) </li> 
 <li value="4">if source key is bigger than target key: get next target key and delete current target </li> 
 <li value="5">if target key is bigger than source key: insert source document into target view and read next source document </li> 
 <li value="6">End of the do loop</li> 
</ol> 
<br>Of course your production code needs to handle the case that you run out of source keys (= delete all remaining target documents) or target keys (=insert all remaining source documents). 
<br>This way you don't create unnecessary zombie deletion stubs.</div>
					<hr />
					<p>
						Posted by <a rel="author" href="https://plus.google.com/u/0/+StephanWissel">
Stephan H Wissel</a> on 20 September 2007
<span class="divider">|</span>
<a href="/blog/2007/09/domino-anti-pattern-delete-and-recreate.html#comments">Comments (4)</a>
<span class="divider">|</span>
categories:  <a href="/blog/categories/showntellthursday.html">Show-N-Tell Thursday</a> 

						<script type="text/javascript">
							var permaLink = "https://wissel.net/blog/2007/09/domino-anti-pattern-delete-and-recreate.html";
						</script>
					</p>
				</article>
				<article class="well well-raised">
					<h1>
						<small><a href="/blog/2007/09/michael-vizard-on-microsoft-exchange.html">Michael Vizard on Microsoft Exchange</a></small>
					</h1>
					<hr />
					<div><a href="http://www.esp.eweek.com/author/Michael+Vizard/6337.aspx">Michael Vizard</a> <a href="http://www.esp.eweek.com/article/Exchange+Equals+Profits/214670_1.aspx">writes on Microsoft Exchange</a> (emphasize mine) 
<br> 
<br> " <i>Within the land of IT, <span style="color : red; font-weight : bold">nothing is a bigger pain to own, manage and run than Microsoft Exchange</span>. Everywhere you go customers have <span style="color : red; font-weight : bold">horror stories</span> about the installation, maintenance and, above all, uptime of their Microsoft Exchange implementations. And worse yet, they will all tell you they are paying top dollar for the privilege because the expertise needed to successfully run a Microsoft Exchange server is some of the <span style="color : red; font-weight : bold">most expensive</span> in the IT labor pool."</i></div>
					<hr />
					<p>
						Posted by <a rel="author" href="https://plus.google.com/u/0/+StephanWissel">
Stephan H Wissel</a> on 07 September 2007
<span class="divider">|</span>
<a href="/blog/2007/09/michael-vizard-on-microsoft-exchange.html#comments">Comments (0)</a>
<span class="divider">|</span>
categories:  <a href="/blog/categories/software.html">Software</a> 

						<script type="text/javascript">
							var permaLink = "https://wissel.net/blog/2007/09/michael-vizard-on-microsoft-exchange.html";
						</script>
					</p>
				</article>
				<article class="well well-raised">
					<h1>
						<small><a href="/blog/2007/09/a-crud-webservice-part-2.html">A CRUD webservice - Part 2</a></small>
					</h1>
					<hr />
					<div>In Part 1 of this Show-N-Tell Thursday I showed how to generate a <a href="/blog/2006/12/designing-a-crud-webservice-for-a-domino-form.html">WSDL definition out of a Notes form</a>. While this is nice, it leaves quite a bit of work to actually implement the service. In this installment we take the opposite route. Instead of generating a WSDL definition, LotusScript code will be generated out of a Form definition. Unfortunately DXL doesn't support Web services very well (at least up to R8.0), so I will generate a text file that contains pure LotusScript code. This text file needs to be manually imported into an empty Web service (Copy and paste will do). 
<br> 
<br>I generate a few classes including a custom class which you can overwrite to implement your specific additions to the code. You might want to put that into a different library, so you keep your customization. Nota bene: the generated code is not real production quality. I haven't implemented good logging or error handling ( <a href="http://www.openntf.org/Projects/pmt.nsf/ProjectLookup/OpenLog">OpenLog</a> anybody). Once you see the code you get the idea and can complete that easily (feedback would be nice). 
<br> 
<br>A web service requires a LotusScript class with public members, properties and/or functions. Domino Designer will then generate a WSDL file for us. One path to travel would be implementing generic code, that takes fields as name/value pairs. While tempting this has the clear disadvantage, that the web service becomes rather unspecific and we can't take advantage of a strong validation using XML schema. So my approach is to analyze the form and generate 2 XML structures: one for all input fields, used to create and update a document and one for all fields used to read a document. I don't take hide-when formulas into account. 
<br> 
<br>There are a few challenges to overcome. First we need to deal with multi-value fields. In WSDL these are expressed as Arrays. Secondly we need to map the Domino data types to WSDL data types. Luckily half of the work is done since <a href="http://www-12.lotus.com/ldd/doc/domino_notes/7.0/help7_designer.nsf/855dc7fcfd5fec9a85256b870069c0ab/bc4627f58ea92d998525704a003fba96?OpenDocument">Domino includes "lsxds.lss"</a> It translates WSDL data types into LotusScript. From LotusScript to NotesItems is a path well travelled. 
<br> 
<br>Let's have a look at the XSLT stylesheet (if you don't know how to translate DXL using XSLT <a href="https://addons.mozilla.org/en-US/firefox/addon/2897">use this plug-in</a> -- you are using FireFox are you?) 
<br> 
<br>To instruct the XSLT processor to output plain text rather than XML or HTML we use this statement: 
<br> <tt>&lt;xsl:output</tt> <tt> indent=</tt> <tt>"yes"</tt> <tt> method=</tt> <tt>"text"</tt> <tt> omit-xml-declaration=</tt> <tt>"yes"</tt> <tt> media-type=</tt> <tt>"text/lotuscript"</tt> <tt> xml:space=</tt> <tt>"preserve"</tt> <tt> </tt> <tt>/&gt;</tt> 
<br> 
<br>Then inside the root tag the LotusScript Code is written as you would write in Domino Designer. 
<br> <tt>&nbsp; </tt> <tt>&lt;xsl:template</tt> <tt> match=</tt> <tt>"/"</tt> <tt>&gt;</tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; </tt> <tt>&lt;!-- We use the build-in data type mapping for LotusScript agents --&gt;</tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; %INCLUDE "lsxsd.lss"</tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; ' &nbsp;Autogenerated code to be embedded into a Domino Web Service</tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; </tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; Public Class form</tt> <tt>&lt;xsl:value-of</tt> <tt> select=</tt> <tt>"$formName"</tt> <tt>/&gt;</tt> 
<br> 
<br>We have 2 levels of comments here. XSLT Comments looking like this: &lt;!-- ... --&gt; and regular LotusScript comments starting with '. 
<br>Whenever we need to get specific we can use <tt>&lt;xsl:value-of</tt> to pick a value from the DXL form. 
<br> 
<br>The class we will expose into the webservice is, other than its name and the content of the parameters pretty standard and (IMHO) self explaining: 
<br> 
<br> <tt>Public Class form</tt> <tt>&lt;xsl:value-of</tt> <tt> select=</tt> <tt>"$formName"</tt> <tt>/&gt;</tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; '/**</tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; '* createData takes in the custom form data and creates a new document.</tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; '* the data given as parameter matches all input fields of the form</tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; '*</tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; '**/</tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Public Function createData(formData as </tt> <tt>&lt;xsl:value-of</tt> <tt> select=</tt> <tt>"$formName"</tt> <tt>/&gt;</tt> <tt>InputData) as ResultCode</tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Dim curData as new </tt> <tt>&lt;xsl:value-of</tt> <tt> select=</tt> <tt>"$formName"</tt> <tt>/&gt;</tt> <tt>CustomData</tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Set createData = curData.createData(formData)</tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; End Function</tt> 
<br> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; Public Function createAndReadData(formData as </tt> <tt>&lt;xsl:value-of</tt> <tt> select=</tt> <tt>"$formName"</tt> <tt>/&gt;</tt> <tt>InputData) as ExtendedResult</tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Set createAndReadData = new ExtendedResult</tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Set createAndReadData.Data = new </tt> <tt>&lt;xsl:value-of</tt> <tt> select=</tt> <tt>"$formName"</tt> <tt>/&gt;</tt> <tt>CustomData</tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Set createAndReadData.Result = createAndReadData.Data.createData(formData) </tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; End Function</tt> 
<br> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; Public Function readData(key as String) as </tt> <tt>&lt;xsl:value-of</tt> <tt> select=</tt> <tt>"$formName"</tt> <tt>/&gt;</tt> <tt>CustomData</tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Dim tmpResult as new </tt> <tt>&lt;xsl:value-of</tt> <tt> select=</tt> <tt>"$formName"</tt> <tt>/&gt;</tt> <tt>CustomData</tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Call tmpResult.readData(key)</tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Set readData = tmpResult</tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; End Function</tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Public Function updateData(key as String, formData as </tt> <tt>&lt;xsl:value-of</tt> <tt> select=</tt> <tt>"$formName"</tt> <tt>/&gt;</tt> <tt>InputData) as ResultCode</tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Dim curData as new </tt> <tt>&lt;xsl:value-of</tt> <tt> select=</tt> <tt>"$formName"</tt> <tt>/&gt;</tt> <tt>CustomData</tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Set updateData = curData.updateData(key, formData) &nbsp; &nbsp; &nbsp; &nbsp;</tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; End Function</tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Public Function updateAndReadData(key as String, formData as </tt> <tt>&lt;xsl:value-of</tt> <tt> select=</tt> <tt>"$formName"</tt> <tt>/&gt;</tt> <tt>InputData) as ExtendedResult</tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Set updateAndReadData = new ExtendedResult</tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Set updateAndReadData.Data = new </tt> <tt>&lt;xsl:value-of</tt> <tt> select=</tt> <tt>"$formName"</tt> <tt>/&gt;</tt> <tt>CustomData</tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Set updateAndReadData.Result = updateAndReadData.Data.updateData(key,formData) </tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; End Function</tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Public Function deleteData(key as String) as ResultCode</tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Dim curData as new </tt> <tt>&lt;xsl:value-of</tt> <tt> select=</tt> <tt>"$formName"</tt> <tt>/&gt;</tt> <tt>CustomData</tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Set deleteData = curData.deleteData(key)</tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; End Function</tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; </tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; End Class</tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; </tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; Public Class ResultCode</tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Public Value as Integer 'We use HTTP values</tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Public DBid as String 'Database and document we try our luck with</tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Public DocID as String</tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; End Class</tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; </tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; Public Class ExtendedResult</tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Public Result as ResultCode</tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Public Data as </tt> <tt>&lt;xsl:value-of</tt> <tt> select=</tt> <tt>"$formName"</tt> <tt>/&gt;</tt> <tt>CustomData</tt> 
<br> <tt>&nbsp; &nbsp; &nbsp; &nbsp; End Class</tt> 
<br> 
<br></div>
					<hr />
 <a href="/blog/2007/09/a-crud-webservice-part-2.html">Read more</a>
					<p>
						Posted by <a rel="author" href="https://plus.google.com/u/0/+StephanWissel">
Stephan H Wissel</a> on 05 September 2007
<span class="divider">|</span>
<a href="/blog/2007/09/a-crud-webservice-part-2.html#comments">Comments (1)</a>
<span class="divider">|</span>
categories:  <a href="/blog/categories/showntellthursday.html">Show-N-Tell Thursday</a> 

						<script type="text/javascript">
							var permaLink = "https://wissel.net/blog/2007/09/a-crud-webservice-part-2.html";
						</script>
					</p>
				</article>
				<article class="well well-raised">
					<h1>
						<small><a href="/blog/2007/09/software-pricing-and-software-risk.html">Software Pricing and Software Risk</a></small>
					</h1>
					<hr />
					<div>Most of software created today is bespoke software. Code that runs in one organisation and is never resold or passed on (and sadly hardly reused). This entry is about pricing the creation of bespoke software. It is not about pricing of standard software. That is a <a href="https://partner.microsoft.com/us/40018460">topic</a> <a href="https://partner.microsoft.com/us/40018460">others</a> have to <a href="http://www.fsf.org/"> fight</a> <a href="http://www.gnu.org/">over</a>. So what pricing models are out there? We make the simplifying assumption, that you have an idea what effort is required and that we can ignore market forces (like: "this is the price we pay for this service here"). 
<br> At the two ends of the models are "time and material (TM)" and "turn key projects (TKP)". TM is the delivery model corporate developers typically work with (yes there are cost centers, so it might be different in your company), while TKP is the sole model used when software projects are tendered out. 
<br> In a TM model finding the price is pretty easy: effort + profit margin = price (remember we exclude the market forces in this examples). 
<br> 
<img src="/blog/images/2014/ProfitEffort.gif" border="0" width="501" height="286" alt="Time and Material Pricing" title="Time and Material Pricing"> 
<br> The calculation is simple, since any change in requirement, any unforeseen complication just leads to more billable hours. Everyone loves this model... except the customer. In this model 100% of the risk is on the shoulders of the project sponsor. Naturally project sponsors or customer want to limit the risk. So they push for fixed deliverables and turn key pricing. This seems to be a sensible approach. However the way a contractor is calculating the price of the software becomes very different. First: the internal pricing is always TM since you pay your staff a monthly salary. So when accepting a TKP there is a substantial added risk that the contractor has to bear. Risk translates to money. So the calculation suddenly looks like this: 
<br> 
<img src="/blog/images/2014/SoftwarePricing.gif" border="0" width="504" height="322" alt="Price with risk" title="Price with risk"> 
<br> While it looks like that the profit margin took a dent, typically the risk margin is added to the project costing (especially when it is an internal cost center). So the real picture looks more like this: 
<br> 
<img src="/blog/images/2014/RiskEffortProfit.gif" border="0" width="615" height="554" alt="Software Pricing and Risk" title="Software Pricing and Risk"> 
<br> Since Risks can be expensive both sponsor and customer try to minimize the risk. The usual approach is to flesh out detailed specifications what needs to be done, what is included and what is out. These specification then are the ultimate benchmark to decide if the contractor has fulfilled the obligations and gets paid. In other words: the system is completely specified before work commences. With some <a href="http://www.waterfall2006.com/" title="Don't overlook the irony in this link!">notable exceptions</a> it is <a href="http://www.cioupdate.com/reports/article.php/1563701">consensus</a>, <a href="http://www.codesqueeze.com/101-ways-to-know-your-software-project-is-doomed/">that</a> <a href="https://web.archive.org/web/20071118152022/http://www.stsc.hill.af.mil/crosstalk/1998/07/causes.asp">big up-front design</a> <a href="http://www.codinghorror.com/blog/archives/000588.html">doesn't work</a>. This insight hasn't reached the teams that design tender specifications. In my personal experience: the systems users appreciated most when delivered where the ones that had the least in common with the original design specifications (but that might have been just my dumb luck 
<img src="/blog/images/emoticons/wink.gif"> ).
<br> 
<br> <b>Update</b>: Jesse Davidson from Madberry.com notified me about the demise of <a href="https://web.archive.org/web/20160413153958/http://www.stsc.hill.af.mil/">stsc.hill.af.mil</a> and shared the <a href="https://theqalead.com/topics/what-happened-to-crosstalk-journal-of-defense-software-engineering/">Background story</a>. Interesting read!
<br></div>
					<hr />
 <a href="/blog/2007/09/software-pricing-and-software-risk.html">Read more</a>
					<p>
						Posted by <a rel="author" href="https://plus.google.com/u/0/+StephanWissel">
Stephan H Wissel</a> on 01 September 2007
<span class="divider">|</span>
<a href="/blog/2007/09/software-pricing-and-software-risk.html#comments">Comments (1)</a>
<span class="divider">|</span>
categories:  <a href="/blog/categories/software.html">Software</a> 

						<script type="text/javascript">
							var permaLink = "https://wissel.net/blog/2007/09/software-pricing-and-software-risk.html";
						</script>
					</p>
				</article>
				<ul class="breadcrumb pull-centre">
					<li><a href="/blog/2007/08/index.html"><i class="icon-hand-left"></i>By Date: August 2007</a>
						<span class="divider">|</span></li>
					<li><a href="/blog/"><i class="icon-hand-up"></i>Main</a></li>
					<span class="divider">|</span>
					<li><a href="/blog/2007/10/index.html">By Date: October 2007<i class="icon-hand-right"></i></a>
					</li>
				</ul>

			</div>

			<div class="span3">
				<aside id="sidebar_reference" class="well">
					<h5>Reference</h5>
					<ol style="list-style-type: upper-roman; padding-left: 30px;">
						<li><a style="display: inline;"
							href="/blog/2012/04/extracting-data-from-domino-into-pdf-using-xslt-and-xslfo-part-1.html">Use
								XSL:FO rendering (Domino)</a></li>
						<li><a target="_blank" href="https://wissel.net/blog/imprint.html">old references (IBM)</a></li>
					</ol>
				</aside>

				<aside id="sidebar_categoriesArchive" class="well">
					<ul class="nav nav-list">
						<li class="nav-header">Categories</li>
						<li ><a href="/blog/categories/afterhours.html">After hours</a></li>
						<li ><a href="/blog/categories/apex.html">Apex</a></li>
						<li ><a href="/blog/categories/blog.html">Blog</a></li>
						<li ><a href="/blog/categories/bluemix.html">Bluemix</a></li>
						<li ><a href="/blog/categories/buddhakids.html">Buddhakids</a></li>
						<li ><a href="/blog/categories/business.html">Business</a></li>
						<li ><a href="/blog/categories/buyingbroadband.html">Buying Broadband</a></li>
						<li ><a href="/blog/categories/caldav.html">calDAV</a></li>
						<li ><a href="/blog/categories/cloudcomputing.html">Cloud Computing</a></li>
						<li ><a href="/blog/categories/continuousintegration.html">Continuous integration</a></li>
						<li ><a href="/blog/categories/couchdb.html">CouchDB</a></li>
						<li ><a href="/blog/categories/coursera.html">Coursera</a></li>
						<li ><a href="/blog/categories/cycling.html">Cycling</a></li>
						<li ><a href="/blog/categories/docker.html">Docker</a></li>
						<li ><a href="/blog/categories/domino.html">Domino</a></li>
						<li ><a href="/blog/categories/dxlmagic.html">DXLMagic</a></li>
						<li ><a href="/blog/categories/elearning.html">eLearning</a></li>
						<li ><a href="/blog/categories/github.html">GitHub</a></li>
						<li ><a href="/blog/categories/gonephisching.html">Gone Phisching</a></li>
						<li ><a href="/blog/categories/grpc.html">gRPC</a></li>
						<li ><a href="/blog/categories/gtd.html">GTD</a></li>
						<li ><a href="/blog/categories/hclnotes.html">HCL Notes</a></li>
						<li ><a href="/blog/categories/heroku.html">Heroku</a></li>
						<li ><a href="/blog/categories/https.html">HTTP(S)</a></li>
						<li ><a href="/blog/categories/ibm.html">IBM</a></li>
						<li ><a href="/blog/categories/ibmlotus.html">IBM - Lotus</a></li>
						<li ><a href="/blog/categories/ibmnotes.html">IBM Notes</a></li>
						<li ><a href="/blog/categories/intercultural.html">Intercultural</a></li>
						<li ><a href="/blog/categories/java.html">Java</a></li>
						<li ><a href="/blog/categories/javascript.html">JavaScript</a></li>
						<li ><a href="/blog/categories/learning.html">Learning</a></li>
						<li ><a href="/blog/categories/lightning.html">Lightning</a></li>
						<li ><a href="/blog/categories/linux.html">Linux</a></li>
						<li ><a href="/blog/categories/lotus.html">Lotus</a></li>
						<li ><a href="/blog/categories/lotusnotes.html">Lotus Notes</a></li>
						<li ><a href="/blog/categories/lotusphere.html">Lotusphere</a></li>
						<li ><a href="/blog/categories/mac.html">Mac</a></li>
						<li ><a href="/blog/categories/macos.html">macOS</a></li>
						<li ><a href="/blog/categories/mobile.html">Mobile</a></li>
						<li ><a href="/blog/categories/networking.html">Networking</a></li>
						<li ><a href="/blog/categories/nginx.html">nginx</a></li>
						<li ><a href="/blog/categories/nodejs.html">NodeJS</a></li>
						<li ><a href="/blog/categories/nodered.html">NodeRED</a></li>
						<li ><a href="/blog/categories/nokia.html">Nokia</a></li>
						<li ><a href="/blog/categories/omnisophie.html">Omnisophie</a></li>
						<li ><a href="/blog/categories/opensource.html">OpenSource</a></li>
						<li ><a href="/blog/categories/pmd.html">PMD</a></li>
						<li ><a href="/blog/categories/protocols.html">Protocols</a></li>
						<li ><a href="/blog/categories/reactive.html">Reactive</a></li>
						<li ><a href="/blog/categories/salesforce.html">Salesforce</a></li>
						<li ><a href="/blog/categories/sametime.html">Sametime</a></li>
						<li ><a href="/blog/categories/sfdx.html">SFDX</a></li>
						<li ><a href="/blog/categories/showntellthursday.html">Show-N-Tell Thursday</a></li>
						<li ><a href="/blog/categories/singapore.html">Singapore</a></li>
						<li ><a href="/blog/categories/socialbusiness.html">SocialBusiness</a></li>
						<li ><a href="/blog/categories/software.html">Software</a></li>
						<li ><a href="/blog/categories/sywtbadd.html">SYWTBADD</a></li>
						<li ><a href="/blog/categories/technology.html">Technology</a></li>
						<li ><a href="/blog/categories/travel.html">Travel</a></li>
						<li ><a href="/blog/categories/twins.html">Twins</a></li>
						<li ><a href="/blog/categories/umsys.html">UMsys</a></li>
						<li ><a href="/blog/categories/unittesting.html">UnitTesting</a></li>
						<li ><a href="/blog/categories/vertx.html">vert.x</a></li>
						<li ><a href="/blog/categories/webcomponents.html">WebComponents</a></li>
						<li ><a href="/blog/categories/webdevelopment.html">WebDevelopment</a></li>
						<li ><a href="/blog/categories/workflow.html">Workflow</a></li>
						<li ><a href="/blog/categories/writingchinese.html">Writing Chinese</a></li>
						<li ><a href="/blog/categories/xml.html">XML</a></li>
						<li ><a href="/blog/categories/xpages.html">XPages</a></li>
						<li class="nav-header">Archives</li>
						<li ><a href="/blog/2002/">2002</a></li>
						<li ><a href="/blog/2003/">2003</a></li>
						<li ><a href="/blog/2004/">2004</a></li>
						<li ><a href="/blog/2005/">2005</a></li>
						<li ><a href="/blog/2006/">2006</a></li>
						<li ><a href="/blog/2007/">2007</a></li>
						<li ><a href="/blog/2008/">2008</a></li>
						<li ><a href="/blog/2009/">2009</a></li>
						<li ><a href="/blog/2010/">2010</a></li>
						<li ><a href="/blog/2011/">2011</a></li>
						<li ><a href="/blog/2012/">2012</a></li>
						<li ><a href="/blog/2013/">2013</a></li>
						<li ><a href="/blog/2014/">2014</a></li>
						<li ><a href="/blog/2015/">2015</a></li>
						<li ><a href="/blog/2016/">2016</a></li>
						<li ><a href="/blog/2017/">2017</a></li>
						<li ><a href="/blog/2018/">2018</a></li>
						<li ><a href="/blog/2019/">2019</a></li>
						<li ><a href="/blog/2020/">2020</a></li>
						<li ><a href="/blog/2021/">2021</a></li>
						<li ><a href="/blog/2022/">2022</a></li>
						<li ><a href="/blog/all.html" title="That's a long list!">Complete archive</a></li>
					</ul>
				</aside>

				<aside id="sidebar_visitors" class="well">
					<h5>Visitors</h5>
<script type="text/javascript" id="clstr_globe" src="//cdn.clustrmaps.com/globe.js?d=dyaFRPfPewNw_y5-9frkSPIp1gvX8qjkkF-LpRyuvQs"></script>
				</aside>

			</div>
		</div>
	</div>
	<!-- Footer	================================================== -->
		<footer>
		<div class="container">
			<div class="row">
				<div class="span2">
					<h4>About Me</h4>
					<p>
						I work as "Solution Director Innovation" for HCL Software. I'm based in Singapore.
						<g:plusone size="small" href="https://wissel.net/blog/"></g:plusone>
					</p>
					<a href="//stackoverflow.com/users/131021/stwissel">
					<img src="//stackoverflow.com/users/flair/131021.png" width="208" height="58" alt="profile for stwissel at Stack Overflow, Q&amp;A for professional and enthusiast programmer" title="profile for stwissel at Stack Overflow, Q&amp;A for professional and enthusiast programmer">
				</a>
				</div>
				<div class="span2">
					<h4>Contact</h4>
					<ul>
						<li><a href="https://www.twitter.com/notessensei">Twitter</a></li>
						<li><a href="https://sg.linkedin.com/in/notessensei">LinkedIn</a></li>
						<li><a href="https://www.xing.com/profile/StephanH_Wissel">XING</a></li>
						<li><a href="https://notessensei.myspreadshop.com">NotesSensei's Spreadshirt shop</a></li>
						<li><a href="http://about.me/stephan.wissel/#" title="Another identity site, nothing much here">About Me</a></li>
						<li><a rel="me" href="https://chaos.social/@stw">Chat on Mastodon</a></li>
					</ul>
				</div>
				<div class="span8">
					<h4>Disclaimer</h4>
					<p>This site is in no way affiliated, endorsed, sanctioned,
						supported, nor enlightened by my current or previous employers.
						I may be an employee, but the opinions, theories, facts, etc.
						presented here are my own and are in now way given in any official
						capacity. In short, these are my words and this is my site, not
						my current or former employers' - and don't even begin to think otherwise.</p>
					<p>
						<b>&copy; 2003 - 2022 Stephan H. Wissel - some rights reserved</b> as
						listed here: <a rel="license"
							href="//creativecommons.org/licenses/by-nc-sa/3.0/"><img
							alt="Creative Commons License" style="border-width: 0"
							src="//licensebuttons.net/l/by-nc-sa/3.0/88x31.png" /></a>
						Unless otherwise labeled by its originating author, the content
						found on this site is made available under the terms of an <a
							href="//creativecommons.org/licenses/by-nc-sa/3.0/"
							target="_blank"
							title="Learn more about the creative commons  Attribution-ShareAlike License">Attribution/NonCommercial/ShareAlike
							Creative Commons License</a>, with the exception that no rights are
						granted -- since they are not mine to grant -- in any logo,
						graphic design, trademarks or trade names of any type. Code
						samples and code downloads on this site are, unless otherwise
						labeled, made available under an <a
							href="//www.apache.org/licenses/LICENSE-2.0.html">Apache
							2.0</a> license. Other license models are available on written
						request and written confirmation.
					</p>
				</div>
			</div>
		</div>
	</footer>

		<script type="text/javascript" src="/blog/js/jquery-3.6.0.min.js"></script>
	<script type="text/javascript" src="/blog/js/bootstrap.js"></script>
	<script type="text/javascript" src="/blog/js/blogmain.js"></script>
    <script type="text/javascript" src="/blog/js2/prism.js"></script>
	<script src="//www.google-analytics.com/urchin.js" type="text/javascript"></script>
	<script type="text/javascript">
		_uacct = "UA-72033-1";
		urchinTracker();
	</script>
	<script type="text/javascript" src="//feeds.feedburner.com/~s/Wisselnet?i=https://wissel.net/blog" charset="utf-8"></script>

</body>
</html>
