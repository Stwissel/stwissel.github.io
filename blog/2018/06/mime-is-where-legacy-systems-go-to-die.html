<!DOCTYPE html>
<html lang="en">
<head>
<title>Mime is where Legacy Systems go to die - NotesSensei's Blog</title>
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-72033-1', 'auto');
ga('send', 'pageview');
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible"  content="chrome=1" />
<meta http-equiv="Content-Language" content="en" />
<meta rel="meta" link="application/rdf+xml" content="/foaf.rdf" />
<meta property="og:title"     content="wissel.net - Mime is where Legacy Systems go to die" />
<meta property="og:type"      content="blog" />
<meta property="og:url"       content="https://wissel.net/blog/2018/06/mime-is-where-legacy-systems-go-to-die.html" />
<meta property="og:image"     content="//www.wissel.net/blog/img/wisselnet.gif" />
<meta property="og:site_name" content="wissel.net" />
<meta name="viewport"         content="width=device-width, initial-scale=1.0" />
<meta name="ROBOTS"           content="FOLLOW, NOIMAGEINDEX" />
<meta name="DC.Title"         content="NotesSensei's Weblog - Mime is where Legacy Systems go to die" />
<meta name="Author"           content="Stephan H. Wissel" />
<meta name="ICBM"             content="1.2994, 103.8425" />
<meta name="Copyright"        content="2018,2019 Stephan H. Wissel - Creative commons licence" />
<meta name="twitter:site"     content="@notessensei" />
<meta name="twitter:card"     content="summary" />
<meta name="xing:author"      content="https://www.xing.com/profile/StephanH_Wissel" />
<meta name="description"
	content="Mime is where Legacy Systems go to die - Your new system went live. Migration of current, active data went well. A decision was made not to move historic data and keep the old system around in &#39;read-only&#39; mode, just in case some information needs to be looked up. Over time your zoo of legacy systems grows. I&#39;ll outline a way to put them to" />
<meta name="Keywords"
	content="Software,Technology," />
<meta name="Abstract"
	content="Mime is where Legacy Systems go to die - Your new system went live. Migration of current, active data went well. A decision was made not to move historic data and keep the old system around in &#39;read-only&#39; mode, just in case some information needs to be looked up. Over time your zoo of legacy systems grows. I&#39;ll outline a way to put them to" />
<!--[if lt IE 9]>
		<script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<link rel="stylesheet" type="text/css" href="/blog/style/bootstrap.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/responsive.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/wisselblog.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/main.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/shCore.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/shThemeMidnight.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/blogcodedisplay.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/shariff.complete.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/markdown.css" />
<link href='//fonts.googleapis.com/css?family=Montserrat' rel='stylesheet' type='text/css' />
<link href='//fonts.googleapis.com/css?family=Ubuntu:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css' />
<link rel="icon" type="image/png" href="/blog/img/favicon-32x32.png" sizes="32x32" />
<link rel="icon" type="image/png" href="/blog/img/favicon-16x16.png" sizes="16x16" />


<link rel="alternate" type="application/rss+xml" title="RSS News Feed" href="https://feeds.feedburner.com/Wisselnetfeed" />

<meta name="Revisit-After" content="90 Days" />
</head>
<body>
	<div class="navbar navbar-inverse navbar-fixed-top">
		<div class="navbar-inner">
			<a class="btn btn-navbar" data-toggle="collapse"
				data-target=".nav-collapse"> <span class="icon-bar"></span> <span
				class="icon-bar"></span> <span class="icon-bar"></span>
			</a> <a class="brand" href="/">wissel.net</a>
			<div class="nav-collapse">
				<ul class="nav">
					<li><a href="/index.html">Home</a></li>
					<li class="active"><a href="/blog/">Blog</a></li>
					<li><a href="/blog/series.html">Series</a></li>
					<li><a href="/blog/downloads/">Downloads</a></li>
					<li><a href="https://stwissel.github.io/presentations/" title="Presentations maintained on GitHub">Presentations</a></li>
					<li><a href="/blog/imprint.html">About / Imprint</a></li>
				</ul>
				<form action="//www.google.com/cse" id="cse-search-box"
					class="navbar-search pull-right">
					<div>
						<input type="hidden" name="cx"
							value="partner-pub-4562257798204150:muo14ionenw" /> <input
							type="hidden" name="ie" value="ISO-8859-1" /> <input type="text"
							name="q" class="search-query span2" placeholder="Search" />
						<!-- input type="submit" name="sa" value="Search" class="btn btn-small"/-->
					</div>
				</form>
			</div>
		</div>
	</div>
<div class="navbar-spacer"></div>

	<div class="container">
    		<br />
		<header>
			<div id="mainsmall"  class="hero-unit">
				<h2>wissel.net</h2>
				<p>Usability - Productivity - Business - The web - Singapore &amp; Twins</p>
			</div>
		</header>

    <script> 
var $buoop = {notify:{e:-0.01,f:-0.01,o:-0.01,s:-0.01,c:-0.01},insecure:true,unsupported:true,api:5}; 
function $buo_f(){ 
 var e = document.createElement("script"); 
 e.src = "//browser-update.org/update.min.js"; 
 document.body.appendChild(e);
};
try {document.addEventListener("DOMContentLoaded", $buo_f,false)}
catch(e){window.attachEvent("onload", $buo_f)}
</script>

    <ul class="breadcrumb">
  <li><a href="/blog/">Blog</a> <span class="divider">/</span></li>
  <li><a href="/blog/2018/">2018</a> <span class="divider">/</span></li>
  <li><a href="/blog/2018/06/">June</a></li>
  <li class="pull-right">
    <span class="divider">|</span><a href="/blog/categories/software.html">Software</a>
  </li>
  <li class="pull-right">
    <span class="divider">|</span><a href="/blog/categories/technology.html">Technology</a>
  </li>
</ul>

		<div class="row-fluid">
			<div class="span12">
				
				<ul class="breadcrumb pull-centre">
					<li><a href="/blog/2018/06/adventures-in-tdd.html"><i class="icon-hand-left"></i>Adventures in TDD</a>
						<span class="divider">|</span></li>
					<li><a href="/blog/"><i class="icon-hand-up"></i>Main</a></li>
					<span class="divider">|</span>
					<li><a href="/blog/2018/07/postman-and-the-salesforce-rest-api.html">Postman and the Salesforce REST API<i class="icon-hand-right"></i></a>
					</li>
				</ul>

				<article class="well well-raised">
					<h1><small>Mime is where Legacy Systems go to die</small></h1>
					<hr />
					<div><p>Your new system went live. Migration of current, active data went well. A decision was made not to move historic data and keep the old system around in "read-only" mode, just in case some information needs to be looked up. Over time your zoo of legacy systems grows. I'll outline a way to put them to rest.</p> 
<h3><a href="#the-challenges" id="the-challenges">The challenges</a></h3> 
<p>All recent systems (that's younger than 30 years) data is stored more or less normalized. A business document, like a contract, is split over multiple tables like customer, address, header, line items, item details, product etc.</p> 
<p>Dumping this data as is (<a href="https://en.wikipedia.org/wiki/Comma-separated_values">csv</a> rules supreme here) only creates a <a href="https://www.geotab.com/blog/big-data-graveyard/">data graveyard</a> instead of the much coveted <a href="https://en.wikipedia.org/wiki/Data_lake">data lake</a> or <a href="https://en.wikipedia.org/wiki/Data_warehouse">data warehouse</a>.</p> 
<p>The issue gets aggravated by the prevalence of <a href="https://en.wikipedia.org/wiki/Magic_number_(programming)">magic numbers</a> and abbreviations that are only resolved inside the legacy system. So looking at one piece of data tells you squid. Only an <a href="https://en.wikipedia.org/wiki/Old_Hands">old hand</a> would be able to make sense of <code>Status 82</code> or <code>Flags x7D3z</code></p> 
<p>Access to meaningful information is confined to the user interface of the legacy application. It provides search and assembly of business relevant context</p> 
<h3><a href="#the-solution-approach" id="the-solution-approach">The solution approach</a></h3> 
<p>Solving this puzzle requires a three step approach:</p> 
<ul> 
 <li>denormalize</li> 
 <li>transform</li> 
 <li>make accessible</li> 
</ul><h4><a href="#denormalize" id="denormalize">Denormalize</a></h4> 
<p>The persistence format needs to be something that is closer to a document structure. The formats suitable would be XML, JSON or YAML. Probably owing to my age I would make a case for XML. I would argue that <code>&lt;Status id="42"&gt;Universe questions answered&lt;/Status&gt;</code> is way more readable than JSON when you try to link the magic number <code>42</code> to its business meaning <code>Universe questions answered</code>.</p> 
<p>To be very clear: You will massively duplicate data and if any of the relations would change, you would face a data nightmare. But our use case: archive, read only doesn't face any penalties, other than storage, for this duplication.</p> 
<h4><a href="#transform" id="transform">Transform</a></h4> 
<p>While your <a href="https://en.wikipedia.org/wiki/Friendly_Neighborhood_Spider-Man">friendly neighborhood geek</a> would be perfectly fine staring at XML, <a href="https://lerms.deviantart.com/art/Do-You-Believe-in-the-Users-189078499">normal mortal users</a> will prefer something that's not only human readable, but easy to comprehend.</p> 
<p>The reflective approach for an IT department tasked with this would be the creation of another future legacy system to visualize the data.</p> 
<p>A better solution I'd like to propose is an <a href="https://en.wikipedia.org/wiki/XSLT">XSLT</a> (for XML) or <a href="http://mustache.github.io/">Mustache</a> (for JSON) transformation into HTML. Adventures souls could aim towards <a href="https://en.wikipedia.org/wiki/XSL_Formatting_Objects">XSL:FO</a> and a <a href="https://en.wikipedia.org/wiki/PDF/A">PDF-A</a> result.</p> 
<p>Now you have at least 2 files: the denormalized XML and the HTML (or PDF). Eventually you have binary data like image files or office attachments that belong to that business record.</p> 
<p>Enter <a href="https://en.wikipedia.org/wiki/MIME">MIME</a>. MIME is a container format, typically found in eMail systems. Nothing stops us reusing its capabilities. The MIME file consists of a MIME Header and one or more MIME parts, that qualify their content by a type.</p> 
<p>A MIME part can contain a mime header and one or more mime parts - at nauseam or stack overflow.</p> 
<p>Using MIME we can compose a single file. In the header would be meta information: what legacy system it came from, when it was exported, where the documentation could be found etc. Thereafter would be MIME parts with HTML, XML, PDF and binary files.</p> 
<h4><a href="#make-accessible" id="make-accessible">Make accessible</a></h4> 
<p>Just double clicking on that file would open it in the standard mail viewer. With clever set header fields (e.g. From as name of the legacy system) it will render the HTML part into something directly read- and understandable. Thus the file is useful in itself. If automated further processing is required, the XML or binary parts can be harvested.</p> 
<p>Now take that file and store in an an append only object store (S3 anyone). The final piece is: how to make the information findable?</p> 
<p>Users might search for a part, a customer, a time frame, a combination of all sorts of criteria. This type of requirements can be covered by <a href="https://lucene.apache.org/">a fulltext index</a> and a <a href="https://lucene.apache.org/solr/">search engine</a>. Lucene is content format aware, so queries can be very specific or very simple. The beauty of the approach: Other than a database, the MIME documents don't need to have a shared structure to be able to be searched by Lucene. Still the indexing process can do some level of standardization like merging <code>Id, ID, id, recordid, account_id</code> to be searchable as <code>ID=</code></p> 
<p>Of course implementation needs to be planned carefully. Nevertheless this can be used as a blueprint for the one archive system <a href="https://en.wikipedia.org/wiki/One_Ring">to rule them all</a>.</p> 
<p>As usual YMMV</p></div>
					<hr />
					<p>
						Posted by <a rel="author" href="https://plus.google.com/u/0/+StephanWissel">
Stephan H Wissel</a> on 22 June 2018
<span class="divider">|</span>
<a href="/blog/2018/06/mime-is-where-legacy-systems-go-to-die.html#comments">Comments (1)</a>
<span class="divider">|</span>
categories:  <a href="/blog/categories/software.html">Software</a>  <a href="/blog/categories/technology.html">Technology</a> 

						<div class="shariff" data-lang="en" data-url="https://www.wissel.net/blog/2018/06/mime-is-where-legacy-systems-go-to-die.html" data-services="[&quot;whatsapp&quot;,&quot;facebook&quot;,&quot;twitter&quot;,&quot;mail&quot;]" data-title="Mime is where Legacy Systems go to die" data-twitter-via="@notessensei"></div>
						<script type="text/javascript">
							var permaLink = "https://wissel.net/blog/2018/06/mime-is-where-legacy-systems-go-to-die.html";
						</script>
					</p>

				</article>
				<a name="comments"></a>
				<div class="well well-raised" style="text-align : center">
				<button class="btn btn-lg btn-info" data-toggle="collapse" data-target="#commentform_3c2f6850-7383-11e8-b9df-3334377ac3ef" type="button">
		            Add your comment...&nbsp;&nbsp;<span class="glyphicon glyphicon-comment"></span>
	            </button>
	            </div>
				<div id="commentform_3c2f6850-7383-11e8-b9df-3334377ac3ef"  class="collapse"></div>
				<div class="well well-raised">
					<h4>Comments</h4>
					<ol id="commentList">
						<li>
							posted by <b>Roland Turner</b> on <i>Thursday 05 July 2018 AD</i>:<br /> <p>Same thing we do every night Pinky, try to take over the world!</p>
<p>(Granted, this plan might actually work.)</p>

							<hr style="clear : both" />
						</li> 					</ol>
				</div>
				<ul class="breadcrumb pull-centre">
					<li><a href="/blog/2018/06/adventures-in-tdd.html"><i class="icon-hand-left"></i>Adventures in TDD</a>
						<span class="divider">|</span></li>
					<li><a href="/blog/"><i class="icon-hand-up"></i>Main</a></li>
					<span class="divider">|</span>
					<li><a href="/blog/2018/07/postman-and-the-salesforce-rest-api.html">Postman and the Salesforce REST API<i class="icon-hand-right"></i></a>
					</li>
				</ul>

			</div>
		</div>
		<ul class="breadcrumb">
  <li><a href="/blog/">Blog</a> <span class="divider">/</span></li>
  <li><a href="/blog/2018/">2018</a> <span class="divider">/</span></li>
  <li><a href="/blog/2018/06/">June</a></li>
  <li class="pull-right">
    <span class="divider">|</span><a href="/blog/categories/software.html">Software</a>
  </li>
  <li class="pull-right">
    <span class="divider">|</span><a href="/blog/categories/technology.html">Technology</a>
  </li>
</ul>

	</div>
	<footer>
		<div class="container">
			<div class="row">
				<div class="span2">
					<h4>About Me</h4>
					<p>
						I'm a Cloud "Program Architect Director", working for Salesforce. I'm based in Singapore.
						<g:plusone size="small" href="https://wissel.net/blog/"></g:plusone>
					</p>
					<a href="//stackoverflow.com/users/131021/stwissel">
					<img src="//stackoverflow.com/users/flair/131021.png" width="208" height="58" alt="profile for stwissel at Stack Overflow, Q&amp;A for professional and enthusiast programmers" title="profile for stwissel at Stack Overflow, Q&amp;A for professional and enthusiast programmers">
				</a>
				</div>
				<div class="span2">
					<h4>Contact</h4>
					<ul>
						<li><a href="https://www.twitter.com/notessensei">Twitter</a></li>
						<li><a href="https://sg.linkedin.com/in/notessensei">LinkedIn</a></li>
						<li><a href="https://www.xing.com/profile/StephanH_Wissel">XING</a></li>
						<li><a href="https://astore.amazon.com/wissenetblog-20">Amazon Store</a></li>
						<li><a href="https://kindle.amazon.com/profile/Stephan-H--Wissel/1659300">Amazon Kindle</a></li>
						<li><a href="http://notessensei.spreadshirt.com/">NotesSensei's Spreadshirt shop</a></li>
						<li><a href="http://about.me/stephan.wissel/#" title="Another identity site, nothing much here">About Me</a></li>
					</ul>
				</div>
				<div class="span8">
					<h4>Disclaimer</h4>
					<p>This site is in no way affiliated, endorsed, sanctioned,
						supported, nor enlightened by my current or previous employers.
						I may be an employee, but the opinions, theories, facts, etc.
						presented here are my own and are in now way given in any official
						capacity. In short, these are my words and this is my site, not
						my current or former employers' - and don't even begin to think otherwise.</p>
					<p>
						<b>&copy; 2003 - 2019 Stephan H. Wissel - some rights reserved</b> as
						listed here: <a rel="license"
							href="//creativecommons.org/licenses/by-nc-sa/3.0/"><img
							alt="Creative Commons License" style="border-width: 0"
							src="//licensebuttons.net/l/by-nc-sa/3.0/88x31.png" /></a>
						Unless otherwise labeled by its originating author, the content
						found on this site is made available under the terms of an <a
							href="//creativecommons.org/licenses/by-nc-sa/3.0/"
							target="_blank"
							title="Learn more about the creative commons  Attribution-ShareAlike License">Attribution/NonCommercial/ShareAlike
							Creative Commons License</a>, with the exception that no rights are
						granted -- since they are not mine to grant -- in any logo,
						graphic design, trademarks or trade names of any type. Code
						samples and code downloads on this site are, unless otherwise
						labeled, made available under an <a
							href="//www.apache.org/licenses/LICENSE-2.0.html">Apache
							2.0</a> license. Other license models are available on written
						request and written confirmation.
					</p>
				</div>
			</div>
		</div>
	</footer>

	<script type="text/javascript">
		var permaLink = "https://wissel.net/blog/2018/06/mime-is-where-legacy-systems-go-to-die.html";
	</script>
		<script type="text/javascript" src="/blog/js/jquery-1.8.2.min.js"></script>
	<script type="text/javascript" src="/blog/js/shariff.min.js"></script>
	<script type="text/javascript" src="/blog/js/bootstrap.js"></script>
	<script type="text/javascript" src="/blog/js/blogmain.js"></script>
    <script type="text/javascript" src="/blog/js2/shCore.js"></script>
    <script type="text/javascript" src="/blog/js2/shBrushJava.js"></script>
    <script type="text/javascript" src="/blog/js2/shBrushJScript.js"></script>
    <script type="text/javascript" src="/blog/js2/shBrushXml.js"></script>
    <script type="text/javascript" src="/blog/js2/shBrushBash.js"></script>
    <script type="text/javascript" src="/blog/js2/shBrushPlain.js"></script>
    <script type="text/javascript" src="/blog/js2/shBrushVb.js"></script>
    <script type="text/javascript" src="/blog/js2/shBrushCss.js"></script>
	<script src="//www.google-analytics.com/urchin.js" type="text/javascript"></script>
	<script type="text/javascript">
		_uacct = "UA-72033-1";
		urchinTracker();
	</script>
	<script type="text/javascript" src="//feeds.feedburner.com/~s/Wisselnet?i=https://wissel.net/blog" charset="utf-8"></script>
    <script type="text/javascript">
    $(document).ready(function() {
            SyntaxHighlighter.all();
    });
    </script>

		<script src="/blog/js2/mustache.js"></script>
	<script src="/blog/js2/blogcomments.js"></script>
	<script type="text/javascript" src="/blog/js2/Markdown.Converter.js"></script>
    <script type="text/javascript" src="/blog/js2/Markdown.Sanitizer.js"></script>
    <script type="text/javascript" src="/blog/js2/Markdown.Editor.js"></script>
	<script type="text/javascript" src="//www.google.com/recaptcha/api.js"></script>
	<script src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit" async defer></script>
	<script type="text/javascript">
		var onloadCallback = function() {
    		renderComment("6LcBxUEUAAAAACzKM8YKb-RVVaIZ3MN6F1Z8FB_4", "3c2f6850-7383-11e8-b9df-3334377ac3ef");
 		};
	</script>

</body>
</html>
