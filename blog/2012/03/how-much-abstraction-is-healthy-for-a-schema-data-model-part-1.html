<!DOCTYPE html>
<html lang="en">
<head>
<title>How much abstraction is healthy for a schema/data model? - Part 1 - NotesSensei's Blog</title>
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-72033-1', 'auto');
ga('send', 'pageview');
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible"  content="chrome=1" />
<meta http-equiv="Content-Language" content="en" />
<meta rel="meta" link="application/rdf+xml" content="/foaf.rdf" />
<meta property="og:title"     content="wissel.net - How much abstraction is healthy for a schema/data model? - Part 1" />
<meta property="og:type"      content="blog" />
<meta property="og:url"       content="https://wissel.net/blog/2012/03/how-much-abstraction-is-healthy-for-a-schema-data-model-part-1.html" />
<meta property="og:image"     content="//www.wissel.net/blog/img/wisselnet.gif" />
<meta property="og:site_name" content="wissel.net" />
<meta name="viewport"         content="width=device-width, initial-scale=1.0" />
<meta name="ROBOTS"           content="FOLLOW, NOIMAGEINDEX" />
<meta name="DC.Title"         content="NotesSensei's Weblog - How much abstraction is healthy for a schema/data model? - Part 1" />
<meta name="Author"           content="Stephan H. Wissel" />
<meta name="ICBM"             content="1.2994, 103.8425" />
<meta name="Copyright"        content="2002,2022 Stephan H. Wissel - Creative commons licence" />
<meta name="twitter:site"     content="@notessensei" />
<meta name="twitter:card"     content="summary" />
<meta name="xing:author"      content="https://www.xing.com/profile/StephanH_Wissel" />
<meta name="description"
	content="How much abstraction is healthy for a schema/data model? - Part 1 - When engaged in the art of Data modelling everybody faces the challenge to find the right level of abstraction. I find that challenge quite intriguing. Nobody would create an attribute &#39;Baker&#39;, &#39;Lawyer&#39;, &#39;Farmer&#39; in a CRM system today, but one &#39;profession&#39; that can hold any of these professions as v" />
<meta name="Keywords"
	content="Software," />
<meta name="Abstract"
	content="How much abstraction is healthy for a schema/data model? - Part 1 - When engaged in the art of Data modelling everybody faces the challenge to find the right level of abstraction. I find that challenge quite intriguing. Nobody would create an attribute &#39;Baker&#39;, &#39;Lawyer&#39;, &#39;Farmer&#39; in a CRM system today, but one &#39;profession&#39; that can hold any of these professions as v" />
<!--[if lt IE 9]>
		<script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<link rel="stylesheet" type="text/css" href="/blog/style/bootstrap.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/responsive.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/wisselblog.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/main.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/blogcodedisplay.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/shariff.complete.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/markdown.css" />
<link rel="stylesheet" type="text/css" href="/blog/css/prism.css" />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Raleway&display=swap" rel="stylesheet">
<link rel="icon" type="image/png" href="/blog/img/favicon-32x32.png" sizes="32x32" />
<link rel="icon" type="image/png" href="/blog/img/favicon-16x16.png" sizes="16x16" />


<link rel="alternate" type="application/rss+xml" title="RSS News Feed" href="https://feeds.feedburner.com/Wisselnetfeed" />

<meta name="Revisit-After" content="90 Days" />
</head>
<body class="line-numbers">
	<div class="navbar navbar-inverse navbar-fixed-top">
		<div class="navbar-inner">
			<a class="btn btn-navbar" data-toggle="collapse"
				data-target=".nav-collapse"> <span class="icon-bar"></span> <span
				class="icon-bar"></span> <span class="icon-bar"></span>
			</a> <a class="brand" href="/">wissel.net</a>
			<div class="nav-collapse">
				<ul class="nav">
					<li><a href="/index.html">Home</a></li>
					<li class="active"><a href="/blog/">Blog</a></li>
					<li><a href="/blog/series.html">Series</a></li>
					<li><a href="/blog/downloads/">Downloads</a></li>
					<li><a href="https://stwissel.github.io/presentations/" title="Presentations maintained on GitHub">Presentations</a></li>
					<li><a href="/blog/imprint.html">About / Imprint</a></li>
				</ul>
				<form action="//www.google.com/cse" id="cse-search-box"
					class="navbar-search pull-right">
					<div>
						<input type="hidden" name="cx"
							value="partner-pub-4562257798204150:muo14ionenw" /> <input
							type="hidden" name="ie" value="ISO-8859-1" /> <input type="text"
							name="q" class="search-query span2" placeholder="Search" />
						<!-- input type="submit" name="sa" value="Search" class="btn btn-small"/-->
					</div>
				</form>
			</div>
		</div>
	</div>
<div class="navbar-spacer"></div>

	<div class="container">
    		<br />
		<header>
			<div id="mainsmall"  class="hero-unit">
				<h2>wissel.net</h2>
				<p>Usability - Productivity - Business - The web - Singapore &amp; Twins</p>
			</div>
		</header>

     
    <ul class="breadcrumb">
  <li><a href="/blog/">Blog</a> <span class="divider">/</span></li>
  <li><a href="/blog/2012/">2012</a> <span class="divider">/</span></li>
  <li><a href="/blog/2012/03/">March</a></li>
  <li class="pull-right">
    <span class="divider">|</span><a href="/blog/categories/software.html">Software</a>
  </li>
	<li class="pull-right">
	<span class="divider">|</span><a href="/blog/d6plinks/SHWL-8S9CNW" title="originally published at /blog/d6plinks/SHWL-8S9CNW">SHWL-8S9CNW</a>
	</li>
</ul>

		<div class="row-fluid">
			<div class="span12">
				
				<ul class="breadcrumb pull-centre">
					<li><a href="/blog/2012/03/who-designed-that-process-a-visit-to-the-singtel-shop.html"><i class="icon-hand-left"></i>Who designed that process (a visit to the SingTel shop)?</a>
						<span class="divider">|</span></li>
					<li><a href="/blog/"><i class="icon-hand-up"></i>Main</a></li>
					<span class="divider">|</span>
					<li><a href="/blog/2012/03/how-much-abstraction-is-healthy-for-a-schema/data-model-part-2.html">How much abstraction is healthy for a schema/data model? - Part 2<i class="icon-hand-right"></i></a>
					</li>
				</ul>

				<article class="well well-raised">
					<h1><small>How much abstraction is healthy for a schema/data model? - Part 1</small></h1>
					<hr />
					<div>When engaged in the art of <a href="http://en.wikipedia.org/wiki/Data_modeling">Data modelling</a> everybody faces the challenge to find the right level of <a href="http://en.wikipedia.org/wiki/Abstraction">abstraction</a>. I find that challenge quite intriguing. Nobody would create an attribute "Baker", "Lawyer", "Farmer" in a CRM system today, but one "profession" that can hold any of these professions as value. A higher level of abstraction would be to have attribute value pairs. So instead of "Profession" - "Baker" it would be "Attribute: Name=Profession, Value=Baker". Such constructs have the advantage to be very flexible, without changing the schema all sorts of different attributes can be captured. However they make validation more difficult: are all mandatory attributes present, are only allowed attributes present and do all attributes have values in the prescribed range? 
<br> Very often the data models are designed around the planned storage in an RDBMS. This conveniently overlooks that data modelling <a href="http://en.wikipedia.org/wiki/Semantic_data_model">knows more approaches</a> than just a <a href="http://en.wikipedia.org/wiki/Physical_schema">physical data model</a> and <a href="http://en.wikipedia.org/wiki/Entity-relationship_model">ER-diagrams</a>. Tabular data in real life are confined to accountants' ledgers, while most of the rest are objects, documents and subjects (people, legal entities, automated systems - data actors so to speak) with attributes, components (sub-entries) and linear or hierarchical relations. Also exchanging data requires complete and integer data, which lends itself rather to the document than the table approach (putting on my flame proof underwear now). 
<br> In a RDBMS the attribute table would be a child table to the (people) master table with the special challenge how to find an unique key that survives an export/import operation. 
<br> This is the reason why a <a href="http://www.w3.org/XML/Schema">XML Schema</a> seems to be the reasonable starting point to model the master data model for your application. Thus a worthwhile skill is to <a href="http://www.w3schools.com/schema/">master XML Schema</a> (It also helps to have a good schema editor. I'm - for many years- using <a href="http://www.oxygenxml.com/">oXygen XML</a>). 
<br> This won't stop you to still use a RDBMS to persist (and <a href="http://en.wikipedia.org/wiki/Database_normalization">normalize</a>) data, but the ER-Schema wouldn't take centre stage anymore. Of course <a href="http://www-01.ibm.com/software/data/db2/">modern</a> or <a href="http://couchdb.apache.org/">fancy</a> or <a href="http://en.wikipedia.org/wiki/Lotus_notes">venerable</a> databases can deal with the document tree nature of XML quite well. I fancy DB/2's <a href="http://en.wikipedia.org/wiki/PureXML">PureXML</a> capabilities quite a bit. But back to to XML Schema (similar considerations apply to JSON which is lacking a schema language yet - work <a href="http://json-schema.org/"> is ongoing</a>). 
<br> Since XML knows elements (the stuff in opening and closing brackets, that can be nested into each other) and attributes (which are name/value pairs living inside the brackets) there are many variations to model a logical data entry. A few rules (fully documented in the <a href="http://www.w3.org/TR/REC-xml/">official XML specifications</a>) need to be kept in mind: 
<ul>
 <li>Element names can't contain fancy characters or spaces</li>
 <li>Elements can, but don't need to have content</li>
 <li>Elements can have other elements, text or CDATA (for fancy content) as children</li>
 <li>Elements can, but don't need to have attributes</li>
 <li>Elements can't start with "xml"</li>
 <li>Attribute names can't contain fancy characters or spaces</li>
 <li>Attribute values can't contain fancy characters. If there they need to be encoded</li>
 <li>Attributes should only exist once in an element</li>
 <li>Attributes must have a value (it can be empty), but can't have children</li>
</ul> There are different "design camps" out there. Some dislike the use of attributes at all, others try to minimize the use of elements, but as usual the practicality lies in the middle. So we have 2 dimensions to look at: Element/Attribute use in a tree structure and secondly the level of abstraction. Lets look at some samples (and their query expressions): 
<div class="xml"><span class="sc3"><span class="re1">&lt;customer<span class="re2">&gt;</span></span></span>
 <br> &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;id<span class="re2">&gt;</span></span></span>1234 <span class="sc3"><span class="re1">&lt;/id<span class="re2">&gt;</span></span></span>
 <br> &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;name<span class="re2">&gt;</span></span></span>John Doe <span class="sc3"><span class="re1">&lt;/name<span class="re2">&gt;</span></span></span>
 <br> &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;status<span class="re2">&gt;</span></span></span>active <span class="sc3"><span class="re1">&lt;/status<span class="re2">&gt;</span></span></span>
 <br> &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;remarks<span class="re2">&gt;</span></span></span>John loves roses and usually speaks to Jenny <span class="sc3"><span class="re1">&lt;/remarks<span class="re2">&gt;</span></span></span>
 <br><span class="sc3"><span class="re1">&lt;/customer<span class="re2">&gt;</span></span></span>
</div>The XPath query to get to John would be <code>//customer[id='1234']</code> The double slash says "any customer anywhere in the tree hierarchy". This is very flexible and understandable very slow. A better way would be to define the exact level in the XML tree. Presuming John is an entry in the &lt;customerlist&gt; then the expression would be: <code>/customerlist/customer[id='1234']</code>. Very often in XML we use multiple schemata in one file which get a abbreviation (one or more letters in the <a href="http://www.w3.org/TR/REC-xml-names/">namespace</a> definition). Presuming our namespace identifier is "cust" then the query changes to <code>/cust:customerlist/cust:customer[cust:id='1234']</code>. Note: in the query the namespace has to be repeated for every element. when you just write <code>/elementname</code>, it is the same as <code>/default:elementname</code>. The example was written without any attributes, containing only nested elements. We could write the example without inner elements, just attributes: 
<div class="xml"><span class="sc3"><span class="re1">&lt;customer</span> <span class="re0">id</span>=<span class="st0">"1234"</span> <span class="re0">name</span>=<span class="st0">"John Doe"</span> <span class="re0">status</span>=<span class="st0">"active"</span></span>
 <br><span class="sc3"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="re0">remarks</span>=<span class="st0">"John loves roses and usually speaks to Jenny"</span> <span class="re2">/&gt;</span></span>
</div> The notation is denser and might on first look appeal to table thinking RDBMS architects. The query looks almost the same (note the @ sign for attributes): <code>/cust:customerlist/cust:customer[@id='1234']</code>. The " <i>all you can attribute</i>" approach has its limits since you can't easily repeat data or include richer content. A more typical approach is to use attributes that identify / qualify an element. Of course there is no hard rule for that. I probably would write the entry like this: 
<div class="xml"><span class="sc3"><span class="re1">&lt;customer</span> <span class="re0">id</span>=<span class="st0">"1234"</span> <span class="re0">status</span>=<span class="st0">"active"</span><span class="re2">&gt;</span></span>
 <br> &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;name</span> <span class="re0">lang</span>=<span class="st0">"en"</span><span class="re2">&gt;</span></span>John Doe <span class="sc3"><span class="re1">&lt;/name<span class="re2">&gt;</span></span></span>
 <br> &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;name</span> <span class="re0">lang</span>=<span class="st0">"zn"</span><span class="re2">&gt;</span></span>李四 <span class="sc3"><span class="re1">&lt;/name<span class="re2">&gt;</span></span></span>
 <br> &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;remarks<span class="re2">&gt;</span></span></span>John loves roses and usually speaks to Jenny <span class="sc3"><span class="re1">&lt;/remarks<span class="re2">&gt;</span></span></span>
 <br><span class="sc3"><span class="re1">&lt;/customer<span class="re2">&gt;</span></span></span>
</div> Here I take advantage of the ability to repeat elements and have elements with their own repeating attributes. If and how often an element can repeat can be specified in the schema definition. The query is the same as in the attribute only example: <code>/cust:customerlist/cust:customer[@id='1234']</code>. It gets really interesting for all three example when you want to retrieve the customer name: 
<br><code>/cust:customerlist/cust:customer[cust:id='1234']/cust:name</code>
<br><code>/cust:customerlist/cust:customer[@id='1234']/@name</code>
<br><code>/cust:customerlist/cust:customer[@id='1234']/cust:name[@lang='en']</code>
<br> All examples so far used a "customer" element. But one could argue, that a customer is a specialization of a person (a natural person or a incorporation) or "subject", so the tag could be different. With "things" the <a href="http://en.wikipedia.org/wiki/Taxonomy">Taxonomy</a> could be much deeper. You could say an invoice is a customer-document, a business-document, a document, an object. <a href="/blog/2012/03/how-much-abstraction-is-healthy-for-a-schema/data-model-part-2.html">Part 2</a> will discuss abstraction levels and de-normalization in XML a little more. A future post will shed some light on common XML Schemata.</div>
					<hr />
					<p>
						Posted by <a rel="author" href="https://plus.google.com/u/0/+StephanWissel">
Stephan H Wissel</a> on 10 March 2012
<span class="divider">|</span>
<a href="/blog/2012/03/how-much-abstraction-is-healthy-for-a-schema-data-model-part-1.html#comments">Comments (0)</a>
<span class="divider">|</span>
categories:  <a href="/blog/categories/software.html">Software</a> 

						<script type="text/javascript">
							var permaLink = "https://wissel.net/blog/2012/03/how-much-abstraction-is-healthy-for-a-schema-data-model-part-1.html";
						</script>
					</p>
				</article>
				<a name="comments"></a>
				<div class="well well-raised" style="text-align : center">
				<button class="btn btn-lg btn-info" data-toggle="collapse" data-target="#commentform_104119B7D4C94823482579BD0031EFB8" type="button">
		            Add your comment...&nbsp;&nbsp;<span class="glyphicon glyphicon-comment"></span>
	            </button>
	            </div>
				<div id="commentform_104119B7D4C94823482579BD0031EFB8"  class="collapse"></div>
				<div class="well well-raised">
					<h4>Comments</h4>
					<ol id="commentList">
						<li id="nocomments">
							<h5>No comments yet, be the first to comment</h5>
						</li>
					</ol>
				</div>
				<ul class="breadcrumb pull-centre">
					<li><a href="/blog/2012/03/who-designed-that-process-a-visit-to-the-singtel-shop.html"><i class="icon-hand-left"></i>Who designed that process (a visit to the SingTel shop)?</a>
						<span class="divider">|</span></li>
					<li><a href="/blog/"><i class="icon-hand-up"></i>Main</a></li>
					<span class="divider">|</span>
					<li><a href="/blog/2012/03/how-much-abstraction-is-healthy-for-a-schema/data-model-part-2.html">How much abstraction is healthy for a schema/data model? - Part 2<i class="icon-hand-right"></i></a>
					</li>
				</ul>

			</div>
		</div>
		<ul class="breadcrumb">
  <li><a href="/blog/">Blog</a> <span class="divider">/</span></li>
  <li><a href="/blog/2012/">2012</a> <span class="divider">/</span></li>
  <li><a href="/blog/2012/03/">March</a></li>
  <li class="pull-right">
    <span class="divider">|</span><a href="/blog/categories/software.html">Software</a>
  </li>
	<li class="pull-right">
	<span class="divider">|</span><a href="/blog/d6plinks/SHWL-8S9CNW" title="originally published at /blog/d6plinks/SHWL-8S9CNW">SHWL-8S9CNW</a>
	</li>
</ul>

	</div>
	<footer>
		<div class="container">
			<div class="row">
				<div class="span2">
					<h4>About Me</h4>
					<p>
						I work as "Solution Director Innovation" for HCL Software. I'm based in Singapore.
						<g:plusone size="small" href="https://wissel.net/blog/"></g:plusone>
					</p>
					<a href="//stackoverflow.com/users/131021/stwissel">
					<img src="//stackoverflow.com/users/flair/131021.png" width="208" height="58" alt="profile for stwissel at Stack Overflow, Q&amp;A for professional and enthusiast programmer" title="profile for stwissel at Stack Overflow, Q&amp;A for professional and enthusiast programmer">
				</a>
				</div>
				<div class="span2">
					<h4>Contact</h4>
					<ul>
						<li><a rel="me" href="https://chaos.social/@stw">Chat on Mastodon</a></li>
						<li><a href="https://sg.linkedin.com/in/notessensei">LinkedIn</a></li>
						<li><a href="https://notessensei.myspreadshop.com">NotesSensei's Spreadshirt shop</a></li>
						<li><a href="https://www.stickermule.com/u/43c09fe6343315f">Stickers from Stickermule</a></li>
						<li><a href="http://about.me/stephan.wissel/#" title="Another identity site, nothing much here">About Me</a></li>
						<li><a href="https://www.stickermule.com/unlock?ref_id=7600480701&utm_medium=link&utm_source=invite">Stickers by Stickermule</a></li>
						<li><a href="https://www.twitter.com/notessensei">Twitter</a></li>
					</ul>
				</div>
				<div class="span8">
					<h4>Disclaimer</h4>
					<p>This site is in no way affiliated, endorsed, sanctioned,
						supported, nor enlightened by my current or previous employers.
						I may be an employee, but the opinions, theories, facts, etc.
						presented here are my own and are in now way given in any official
						capacity. In short, these are my words and this is my site, not
						my current or former employers' - and don't even begin to think otherwise.</p>
					<p>
						<b>&copy; 2003 - 2023 Stephan H. Wissel - some rights reserved</b> as
						listed here: <a rel="license"
							href="//creativecommons.org/licenses/by-nc-sa/3.0/"><img
							alt="Creative Commons License" style="border-width: 0"
							src="//licensebuttons.net/l/by-nc-sa/3.0/88x31.png" /></a>
						Unless otherwise labeled by its originating author, the content
						found on this site is made available under the terms of an <a
							href="//creativecommons.org/licenses/by-nc-sa/3.0/"
							target="_blank"
							title="Learn more about the creative commons  Attribution-ShareAlike License">Attribution/NonCommercial/ShareAlike
							Creative Commons License</a>, with the exception that no rights are
						granted -- since they are not mine to grant -- in any logo,
						graphic design, trademarks or trade names of any type. Code
						samples and code downloads on this site are, unless otherwise
						labeled, made available under an <a
							href="//www.apache.org/licenses/LICENSE-2.0.html">Apache
							2.0</a> license. Other license models are available on written
						request and written confirmation.
					</p>
				</div>
			</div>
		</div>
	</footer>

	<script type="text/javascript">
		var permaLink = "https://wissel.net/blog/2012/03/how-much-abstraction-is-healthy-for-a-schema-data-model-part-1.html";
	</script>
		<script type="text/javascript" src="/blog/js/jquery-3.6.0.min.js"></script>
	<script type="text/javascript" src="/blog/js/bootstrap.js"></script>
	<script type="text/javascript" src="/blog/js/blogmain.js"></script>
    <script type="text/javascript" src="/blog/js2/prism.js"></script>
	<script src="//www.google-analytics.com/urchin.js" type="text/javascript"></script>
	<script type="text/javascript">
		_uacct = "UA-72033-1";
		urchinTracker();
	</script>
	<script type="text/javascript" src="//feeds.feedburner.com/~s/Wisselnet?i=https://wissel.net/blog" charset="utf-8"></script>

		<script src="/blog/js2/mustache.js"></script>
	<script src="/blog/js2/blogcomments.js"></script>
	<script type="text/javascript" src="/blog/js2/Markdown.Converter.js"></script>
    <script type="text/javascript" src="/blog/js2/Markdown.Sanitizer.js"></script>
    <script type="text/javascript" src="/blog/js2/Markdown.Editor.js"></script>
	<script type="text/javascript" src="//www.google.com/recaptcha/api.js"></script>
	<script src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit" async defer></script>
	<script type="text/javascript">
		var onloadCallback = function() {
    		renderComment("6LcBxUEUAAAAACzKM8YKb-RVVaIZ3MN6F1Z8FB_4", "104119B7D4C94823482579BD0031EFB8");
 		};
	</script>

</body>
</html>
