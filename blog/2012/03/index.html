<!DOCTYPE html>
<html lang="en">
<head>
<title>NotesSensei's Blog by month: By Date: March 2012</title>
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-72033-1', 'auto');
ga('send', 'pageview');
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible"  content="chrome=1" />
<meta http-equiv="Content-Language" content="en" />
<meta rel="meta" link="application/rdf+xml" content="/foaf.rdf" />
<meta property="og:title"     content="wissel.net - " />
<meta property="og:type"      content="blog" />
<meta property="og:url"       content="https://wissel.net/blog/" />
<meta property="og:image"     content="//www.wissel.net/blog/img/wisselnet.gif" />
<meta property="og:site_name" content="wissel.net" />
<meta name="viewport"         content="width=device-width, initial-scale=1.0" />
<meta name="ROBOTS"           content="FOLLOW, NOIMAGEINDEX" />
<meta name="DC.Title"         content="NotesSensei's Weblog - " />
<meta name="Author"           content="Stephan H. Wissel" />
<meta name="ICBM"             content="1.2994, 103.8425" />
<meta name="Copyright"        content="2002,2022 Stephan H. Wissel - Creative commons licence" />
<meta name="twitter:site"     content="@notessensei" />
<meta name="twitter:card"     content="summary" />
<meta name="xing:author"      content="https://www.xing.com/profile/StephanH_Wissel" />
<meta name="description"
	content="Thoughts, Insights and Opinions of Stephan H. Wissel. Topics included:  Salesforce, IBM, JEE, .Net, Software Archtecture, Personcentric Development, Agile Software, SDLC, Singapore and my Twins" />
<meta name="Keywords"
	content="lotus,domino,quickplace,sametime,blog,template,blogging,blogger,hcl,notes,r11,r10,r9,verse,r8,r7,r6,r5,raven,k-station,nsf,ntf,agile,sdlc,jee,ml,salesforce,.net,personcentric,singapore,twins,JavaScript,vertx, nodejs, salesforce, apex, webcomponents" />
<meta name="Abstract"
	content=" Thoughts, Insights and Opinions of Stephan H. Wissel. Topics included: Salesforce, IBM, HCL, JEE, NodeJS, ML, .Net, Vert.x, Software Archtecture, Personcentric Development, Agile Software, SDLC, Singapore and my Twins" />
<!--[if lt IE 9]>
		<script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<link rel="stylesheet" type="text/css" href="/blog/style/bootstrap.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/responsive.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/wisselblog.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/main.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/blogcodedisplay.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/shariff.complete.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/markdown.css" />
<link rel="stylesheet" type="text/css" href="/blog/css/prism.css" />
<link rel="stylesheet" type="text/css" href="/blog/css/admonition.css" />
<link rel="icon" type="image/png" href="/blog/img/favicon-32x32.png" sizes="32x32" />
<link rel="icon" type="image/png" href="/blog/img/favicon-16x16.png" sizes="16x16" />


<link rel="alternate" type="application/rss+xml" title="RSS News Feed" href="https://feeds.feedburner.com/Wisselnetfeed" />

<meta name="Revisit-After" content="90 Days" />
</head>
<body>
	<div class="navbar navbar-inverse navbar-fixed-top">
		<div class="navbar-inner">
			<a class="btn btn-navbar" data-toggle="collapse"
				data-target=".nav-collapse"> <span class="icon-bar"></span> <span
				class="icon-bar"></span> <span class="icon-bar"></span>
			</a> <a class="brand" href="/">wissel.net</a>
			<div class="nav-collapse">
				<ul class="nav">
					<li><a href="/index.html">Home</a></li>
					<li><a href="/blog/">Blog</a></li>
					<li><a href="/blog/series.html">Series</a></li>
					<li><a href="/blog/downloads/">Downloads</a></li>
					<li><a href="https://stwissel.github.io/presentations/" title="Presentations maintained on GitHub">Presentations</a></li>
					<li><a href="/blog/imprint.html">About / Imprint</a></li>
				</ul>
				<form action="//www.google.com/cse" id="cse-search-box"
					class="navbar-search pull-right">
					<div>
						<input type="hidden" name="cx"
							value="partner-pub-4562257798204150:muo14ionenw" /> <input
							type="hidden" name="ie" value="ISO-8859-1" /> <input type="text"
							name="q" class="search-query span2" placeholder="Search" />
						<!-- input type="submit" name="sa" value="Search" class="btn btn-small"/-->
					</div>
				</form>
			</div>
		</div>
	</div>
<div class="navbar-spacer"></div>


	<div class="container">

    		<br />
		<header>
			<div id="main" class="hero-unit">
				<h1 id="jumbotron">wissel.net
				</h1>
				<p class="lead">Usability - Productivity - Business - The web -
					Singapore &amp; Twins</p>
			</div>
		</header>


		<div class="row-fluid">
			<div class="span9">
				<ul class="breadcrumb pull-centre">
					<li><a href="/blog/2012/02/index.html"><i class="icon-hand-left"></i>By Date: February 2012</a>
						<span class="divider">|</span></li>
					<li><a href="/blog/"><i class="icon-hand-up"></i>Main</a></li>
					<span class="divider">|</span>
					<li><a href="/blog/2012/04/index.html">By Date: April 2012<i class="icon-hand-right"></i></a>
					</li>
				</ul>

				<div class="well well-raised">
					<h1>By Date: March 2012</h1>
				</div>
				<article class="well well-raised">
					<h1>
						<small><a href="/blog/2012/03/story-telling.html">Story Telling</a></small>
					</h1>
					<hr />
					<div>Antoine de Saint Exupéry is <a href="http://en.wikiquote.org/wiki/Antoine_de_Saint_Exupéry">attributed</a> with the quote " <i>If you want to build a ship, don't drum up the men to gather wood, divide the work and give orders. Instead, teach them to yearn for the vast and endless sea.</i>" 
<br><a href="http://en.wikipedia.org/wiki/Story_telling">Story telling</a> is a powerful medium to get "your message" across. It reaches far beyond the confines of ones early years and the collection lovingly preserved by <a href="http://en.wikipedia.org/wiki/Brothers_Grimm">The Brothers Grimm</a>. 
<br>
 All of business runs on stories, when unleashed to customers often compressed into 30 seconds in high color ( <a href="http://superbowl-ads.com/article_archive/">super bowl</a> anybody?). 
<br>
 We love to hear the latest stories about colleagues and celebrities (a.k.a. <a href="http://en.wikipedia.org/wiki/Gossip">gossip</a>) and spin our yarns how wonderful work will be when implementing [Insert the current fancy here]. 
<br>
 In IT our stories are called <a href="http://www.amazon.com/gp/product/0201702258/ref=as_li_ss_tl?ie=UTF8&amp;tag=wissenetblog-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0201702258">use cases</a> <img src="https://www.assoc-amazon.com/e/ir?t=wissenetblog-20&amp;l=as2&amp;o=1&amp;a=0201702258" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;"> and transport the advantages of the new system or process to users who shouldn't care about the technical and implementation details. Since they tell a story about systems not yet in existence, could we call them "science finction"? Following our proposals will, in many cases, alter the way people work and perceive their work, so we should stick to good <a href="http://en.wikipedia.org/wiki/Five_Ws">basic journalism</a> to present it: 
<br><img src="/blog/images/2012/StoryTelling.jpg" border="0" alt="Story Telling using the 5W and one H">
<br>
 It doesn't harm when our stories are entertaining. Applying <i>quis, quid, ubi, quando, cur</i> and quomodo to other's stories helps to find the weaknesses in the plot. More often than not, the better story, not the better product wins. Despite the case for <a href="http://www.amazon.com/gp/product/1591398622/ref=as_li_ss_tl?ie=UTF8&amp;tag=wissenetblog-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957&amp;creativeASIN=1591398622">evidence based management</a> <img src="https://www.assoc-amazon.com/e/ir?t=wissenetblog-20&amp;l=as2&amp;o=1&amp;a=1591398622" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;"> stories beat facts by a long shot. So get your story right!</div>
					<hr />
					<p>
						Posted by <a rel="author" href="https://plus.google.com/u/0/+StephanWissel">
Stephan H Wissel</a> on 31 March 2012
<span class="divider">|</span>
<a href="/blog/2012/03/story-telling.html#comments">Comments (1)</a>
<span class="divider">|</span>
categories:  <a href="/blog/categories/afterhours.html">After hours</a> 

						<script type="text/javascript">
							var permaLink = "https://wissel.net/blog/2012/03/story-telling.html";
						</script>
					</p>
				</article>
				<article class="well well-raised">
					<h1>
						<small><a href="/blog/2012/03/webservices-in-xpages-axis-vs-cxf.html">Webservices in XPages - AXIS vs. CXF</a></small>
					</h1>
					<hr />
					<div>I wrote about using <a href="http://axis.apache.org/axis/">Apache AXIS</a> to connect to a web service <a href="/blog/2011/01/apache-axis-and-sharepoint-webservices.html">before</a>. It worked like a charm when you import the AXIS library into the NSF. In the past few days I tried to move this code into an extension library and I had initially very little success. Here is what I tried and what finally worked: 
<br>
<ol>
 <li>The AXIS libraries are provided as a plug-in in the Domino server, so my first take was to declare a dependency in my plug-in to that plug-in. To successfully create a Extension Library I had to declare dependencies to <code>com.ibm.commons</code> and <code>com.ibm.xsp.core</code> to be able to extend <code>com.ibm.commons.Extension</code>. Unfortunately the plug-ins expose Java commons logging, so the classloader complaint and didn't load the AXIS classes</li>
 <li>Second attempt was to split the code into two plug-ins: one that depended on the AXIS plug-in and another one that depended on the former and <code>com.ibm.commons</code> and <code>com.ibm.xsp.core</code>. This didn't yield any better result</li>
 <li>3rd test was to import the AXIS jars into a plug-in and only depend on <code>com.ibm.commons</code> and <code>com.ibm.xsp.core</code> but not the AXIS plug-in. Didn't work either</li>
 <li>Finally I tried to switch from AXIS to the newer and more flexible <a href="http://cxf.apache.org/">Apache CXF</a>. CXF is able to provide transport over many protocols, not only SOAP and REST but JMS and others too. Initially I felt it was too complex for my little requirement, especially since the list of jar dependencies is quite long.<br>
   Turns out CXF is the optimal solution. I used CXF 2.5.2 and the provided <a href="http://cxf.apache.org/docs/wsdl-to-java.html">wsdl2java</a> utility. The command line I used is <code>[path-to-cxf-install]/bin/wsdl2java -frontend jaxws21 -client your.wsdl</code>. The <code>-client</code> parameter is optional, but generates a nice sample client that shows the call parameters for all web service methods.<br>
   I found I either need to include the WSDL file in the jar or point to the URL where the WSDL file is available online to get CXF to run. Now for the best part: <b>All</b> dependencies including CXF are available in Domino (I tested on 8.5.3), so other than the Java code generated I didn't had to import, depend etc. on anything (it actually might work even in a Java agent). So CXF is the way to go.</li>
</ol><b>Update</b>: As <a href="">Bernd</a> pointed out in the comments, it is important to update the permissions ( [Notes program directroy]/jvm/lib/security/java.policy ): 
<br><code><b>grant { <br>
   permission java.lang.RuntimePermission "setContextClassLoader"; <br>
   permission java.lang.reflect.ReflectPermission "suppressAccessChecks"; <br>
  };</b></code>
<br>
For testing I used a <a href="http://services.aonaware.com/DictService/DictService.asmx?WSDL">dictionary service</a> that returns the definitions found for a given word. My class (the part I had to write myself) is rather short: 
<div class="java">
 <span class="kw1">package</span> <span class="co2">demo</span> <span class="sy0">;</span>
 <br>
 <br><span class="kw1">import</span> <span class="co2">java.io.ByteArrayOutputStream</span> <span class="sy0">;</span>
 <br><span class="kw1">import</span> <span class="co2">java.io.IOException</span> <span class="sy0">;</span>
 <br><span class="kw1">import</span> <span class="co2">java.io.OutputStream</span> <span class="sy0">;</span>
 <br><span class="kw1">import</span> <span class="co2">java.io.OutputStreamWriter</span> <span class="sy0">;</span>
 <br><span class="kw1">import</span> <span class="co2">java.net.URL</span> <span class="sy0">;</span>
 <br><span class="kw1">import</span> <span class="co2">java.util.List</span> <span class="sy0">;</span>
 <br><span class="kw1">import</span> <span class="co2">javax.xml.namespace.QName</span> <span class="sy0">;</span>
 <br><span class="kw1">import</span> <span class="co2">com.aonaware.services.webservices.Definition</span> <span class="sy0">;</span>
 <br><span class="kw1">import</span> <span class="co2">com.aonaware.services.webservices.DictService</span> <span class="sy0">;</span>
 <br><span class="kw1">import</span> <span class="co2">com.aonaware.services.webservices.DictServiceSoap</span> <span class="sy0">;</span>
 <br><span class="kw1">import</span> <span class="co2">com.aonaware.services.webservices.WordDefinition</span> <span class="sy0">;</span>
 <br>
 <br><span class="kw1">public</span> <span class="kw1">class</span> Dict2Test <span class="br0">{</span>
 <br>
  &nbsp; &nbsp; <span class="kw1">public</span> <span class="kw1">final</span> <span class="kw1">static</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">String</span></a> WORD_TO_LOOK_FOR <span class="sy0">=</span> <span class="st0">"Trust"</span> <span class="sy0">;</span>
 <br>
  &nbsp; &nbsp; <span class="kw1">public</span> <span class="kw1">final</span> <span class="kw1">static</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">String</span></a> WSDL_URL <span class="sy0">=</span> <span class="st0">"http://services.aonaware.com/DictService/DictService.asmx?WSDL"</span> <span class="sy0">;</span>
 <br>
  &nbsp; &nbsp; <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw1">final</span> QName SERVICE_NAME <span class="sy0">=</span> <span class="kw1">new</span> QName <span class="br0">(</span> <span class="st0">"http://services.aonaware.com/webservices/"</span>, <span class="st0">"DictService"</span> <span class="br0">)</span> <span class="sy0">;</span>
 <br>
 <br>
  &nbsp; &nbsp; <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">void</span> main <span class="br0">(</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">String</span></a> <span class="br0">[</span> <span class="br0">]</span> args <span class="br0">)</span> <span class="kw1">throws</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Aioexception+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">IOException</span></a> <span class="br0">{</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; Dict2Test dt <span class="sy0">=</span> <span class="kw1">new</span> Dict2Test <span class="br0">(</span> <span class="br0">)</span> <span class="sy0">;</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Abytearrayoutputstream+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">ByteArrayOutputStream</span></a> out <span class="sy0">=</span> <span class="kw1">new</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Abytearrayoutputstream+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">ByteArrayOutputStream</span></a> <span class="br0">(</span> <span class="br0">)</span> <span class="sy0">;</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; dt. <span class="me1">getWordInfo</span> <span class="br0">(</span>out, WORD_TO_LOOK_FOR <span class="br0">)</span> <span class="sy0">;</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">System</span></a>. <span class="me1">out</span>. <span class="me1">println</span> <span class="br0">(</span>out. <span class="me1">toString</span> <span class="br0">(</span> <span class="br0">)</span> <span class="br0">)</span> <span class="sy0">;</span>
 <br>
  &nbsp; &nbsp; <span class="br0">}</span>
 <br>
 <br>
  &nbsp; &nbsp; <span class="kw1">public</span> <span class="kw4">void</span> getWordInfo <span class="br0">(</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Aoutputstream+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">OutputStream</span></a> out, <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">String</span></a> theWord <span class="br0">)</span> <span class="br0">{</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Aoutputstreamwriter+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">OutputStreamWriter</span></a> w <span class="sy0">;</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; DictService ds <span class="sy0">;</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; DictServiceSoap dss <span class="sy0">;</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; w <span class="sy0">=</span> <span class="kw1">new</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Aoutputstreamwriter+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">OutputStreamWriter</span></a> <span class="br0">(</span>out <span class="br0">)</span> <span class="sy0">;</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">try</span> <span class="br0">{</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ds <span class="sy0">=</span> <span class="kw1">new</span> DictService <span class="br0">(</span> <span class="kw1">new</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Aurl+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">URL</span></a> <span class="br0">(</span>WSDL_URL <span class="br0">)</span>,SERVICE_NAME <span class="br0">)</span> <span class="sy0">;</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dss <span class="sy0">=</span> ds. <span class="me1">getDictServiceSoap</span> <span class="br0">(</span> <span class="br0">)</span> <span class="sy0">;</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; WordDefinition wd <span class="sy0">=</span> dss. <span class="me1">define</span> <span class="br0">(</span>theWord <span class="br0">)</span> <span class="sy0">;</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; List <span class="sy0">&lt;</span>Definition <span class="sy0">&gt;</span> allDef <span class="sy0">=</span> wd. <span class="me1">getDefinitions</span> <span class="br0">(</span> <span class="br0">)</span>. <span class="me1">getDefinition</span> <span class="br0">(</span> <span class="br0">)</span> <span class="sy0">;</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> <span class="br0">(</span>allDef. <span class="me1">isEmpty</span> <span class="br0">(</span> <span class="br0">)</span> <span class="br0">)</span> <span class="br0">{</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; w. <span class="me1">append</span> <span class="br0">(</span> <span class="st0">"&lt;h1&gt;No definition found for "</span> <span class="br0">)</span> <span class="sy0">;</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; w. <span class="me1">append</span> <span class="br0">(</span>theWord <span class="br0">)</span> <span class="sy0">;</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; w. <span class="me1">append</span> <span class="br0">(</span> <span class="st0">"&lt;/h1&gt;<span class="es0">\n</span>"</span> <span class="br0">)</span> <span class="sy0">;</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">}</span> <span class="kw1">else</span> <span class="br0">{</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; w. <span class="me1">append</span> <span class="br0">(</span> <span class="st0">"&lt;h1&gt;You were looking for: "</span> <span class="br0">)</span> <span class="sy0">;</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; w. <span class="me1">append</span> <span class="br0">(</span>theWord <span class="br0">)</span> <span class="sy0">;</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; w. <span class="me1">append</span> <span class="br0">(</span> <span class="st0">"&lt;/h1&gt;<span class="es0">\n</span>&lt;ul&gt;"</span> <span class="br0">)</span> <span class="sy0">;</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> <span class="br0">(</span>Definition oneD <span class="sy0">:</span> allDef <span class="br0">)</span> <span class="br0">{</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; w. <span class="me1">append</span> <span class="br0">(</span> <span class="st0">"<span class="es0">\n</span>&lt;li&gt;"</span> <span class="br0">)</span> <span class="sy0">;</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; w. <span class="me1">append</span> <span class="br0">(</span>oneD. <span class="me1">getWordDefinition</span> <span class="br0">(</span> <span class="br0">)</span> <span class="br0">)</span> <span class="sy0">;</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; w. <span class="me1">append</span> <span class="br0">(</span> <span class="st0">"&lt;/li&gt;"</span> <span class="br0">)</span> <span class="sy0">;</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">}</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; w. <span class="me1">append</span> <span class="br0">(</span> <span class="st0">"<span class="es0">\n</span>&lt;/ul&gt;"</span> <span class="br0">)</span> <span class="sy0">;</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">}</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">}</span> <span class="kw1">catch</span> <span class="br0">(</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Aexception+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">Exception</span></a> e <span class="br0">)</span> <span class="br0">{</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">try</span> <span class="br0">{</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; w. <span class="me1">append</span> <span class="br0">(</span> <span class="st0">"&lt;h1&gt;"</span> <span class="sy0">+</span> e. <span class="me1">getMessage</span> <span class="br0">(</span> <span class="br0">)</span> <span class="sy0">+</span> <span class="st0">"&lt;/h1&gt;"</span> <span class="br0">)</span> <span class="sy0">;</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">}</span> <span class="kw1">catch</span> <span class="br0">(</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Aioexception+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">IOException</span></a> e1 <span class="br0">)</span> <span class="br0">{</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; e1. <span class="me1">printStackTrace</span> <span class="br0">(</span> <span class="br0">)</span> <span class="sy0">;</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">}</span> <span class="kw1">finally</span> <span class="br0">{</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">try</span> <span class="br0">{</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; w. <span class="me1">close</span> <span class="br0">(</span> <span class="br0">)</span> <span class="sy0">;</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">}</span> <span class="kw1">catch</span> <span class="br0">(</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Aioexception+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">IOException</span></a> ex <span class="br0">)</span> <span class="br0">{</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ex. <span class="me1">printStackTrace</span> <span class="br0">(</span> <span class="br0">)</span> <span class="sy0">;</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">}</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">}</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">}</span>
 <br>
  &nbsp; &nbsp; <span class="br0">}</span>
 <br><span class="br0">}</span>
</div> To test the class I defined it as a managed bean in <code>faces-config.xml</code>: 
<div class="xml">
 <span class="sc3"><span class="re1">&lt;managed-bean<span class="re2">&gt;</span></span></span>
 <br>
  &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;managed-bean-name<span class="re2">&gt;</span></span></span>dictionary <span class="sc3"><span class="re1">&lt;/managed-bean-name<span class="re2">&gt;</span></span></span>
 <br>
  &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;managed-bean-class<span class="re2">&gt;</span></span></span>demo.Dict2Test <span class="sc3"><span class="re1">&lt;/managed-bean-class<span class="re2">&gt;</span></span></span>
 <br>
  &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;managed-bean-scope<span class="re2">&gt;</span></span></span>request <span class="sc3"><span class="re1">&lt;/managed-bean-scope<span class="re2">&gt;</span></span></span>
 <br><span class="sc3"><span class="re1">&lt;/managed-bean<span class="re2">&gt;</span></span></span>
</div> and created an <a href="blog/d6plinks/shwl-7mgfbn">XAgent</a> with the following code</div>
					<hr />
 <a href="/blog/2012/03/webservices-in-xpages-axis-vs-cxf.html">Read more</a>
					<p>
						Posted by <a rel="author" href="https://plus.google.com/u/0/+StephanWissel">
Stephan H Wissel</a> on 29 March 2012
<span class="divider">|</span>
<a href="/blog/2012/03/webservices-in-xpages-axis-vs-cxf.html#comments">Comments (e)</a>
<span class="divider">|</span>
categories:  <a href="/blog/categories/xpages.html">XPages</a> 

						<script type="text/javascript">
							var permaLink = "https://wissel.net/blog/2012/03/webservices-in-xpages-axis-vs-cxf.html";
						</script>
					</p>
				</article>
				<article class="well well-raised">
					<h1>
						<small><a href="/blog/2012/03/connecting-to-wirelesssgx-using-ubuntu-linux.html">Connecting to Wireless@SGx using Ubuntu Linux</a></small>
					</h1>
					<hr />
					<div>Singapore's island wide wireless network <a href="http://www.ida.gov.sg/Infrastructure/20061027163310.aspx">Wireless@SG</a> provides encrypted and unencryped Wifi access. Unless your are a fan of being a <a href="https://github.com/hmarr/chromesheep">Firesheep</a> target, you want to use Wireless@SGx with encryption. Singtel provides <a href="http://pas.singtel.com/wsg_connect/index.php">detailed instructions</a> for many platform with the unsurprising absence of instructions for Linux. So here you go: 
<ol>
 <li>You will need the certificate they use from GoDaddy. So go to their <a href="https://certs.godaddy.com/anonymous/repository.seam">certificate site</a> and download the "Go Daddy Class 2 Certification Authority" in DER format. Note down the SHA1 key for the file: <i>27 96 BA E6 3F 18 01 E2 77 26 1B A0 D7 77 70 02 8F 20 EE E4</i>. <b>Optional</b> (but highly recommended): open a terminal and check the checksum of your download: <code>sha1sum gd-class2-root.cer</code></li>
 <li>In your network manager applet connect to Wireless@SGx. You will be prompted with "Wireless Network Authentication Required"<br><img src="/blog/images/2012/WirelessSGx.png" border="0" alt="Wireless SGx settings"></li>
 <li>Fill in the form: 
  <ul>
   <li>Wireless security: <b>WPA &amp; WPA2 Enterprise</b></li>
   <li>Authentication: <b>Protected EAP (PEAP)</b></li>
   <li>Anonymous identity:: <b>leave empty</b></li>
   <li>CA certificate: <b>gd-class2-root.cer</b> (The one you downloaded in step 1)</li>
   <li>PEAP version: <b>Automatic</b></li>
   <li>Inner authentication: <b>MSCHAPv2</b></li>
   <li>Username/Password: <b>Your Wireless@SG credentials</b></li>
  </ul></li>
</ol> A little embarrassment for SingTel: The <a href="https://myad1.singnet.com.sg/wireless@sg_signup/onlineapplication.jsp?apptype=was&amp;id=">registration page</a> (at of today 23 March 2012) uses an outdated https certificate. 
<br>
 As usual YMMV</div>
					<hr />
					<p>
						Posted by <a rel="author" href="https://plus.google.com/u/0/+StephanWissel">
Stephan H Wissel</a> on 23 March 2012
<span class="divider">|</span>
<a href="/blog/2012/03/connecting-to-wirelesssgx-using-ubuntu-linux.html#comments">Comments (2)</a>
<span class="divider">|</span>
categories:  <a href="/blog/categories/buyingbroadband.html">Buying Broadband</a>  <a href="/blog/categories/linux.html">Linux</a>  <a href="/blog/categories/singapore.html">Singapore</a> 

						<script type="text/javascript">
							var permaLink = "https://wissel.net/blog/2012/03/connecting-to-wirelesssgx-using-ubuntu-linux.html";
						</script>
					</p>
				</article>
				<article class="well well-raised">
					<h1>
						<small><a href="/blog/2012/03/make-java-code-for-xagents-easy-to-test.html">Make Java code for XAgents easy to test</a></small>
					</h1>
					<hr />
					<div>One of the popular entries in this blog is my introduction into <a href="/blog/2008/12/xagents-web-agents-xpages-style.html">XAgents</a> together with <a href="/blog/2010/12/rendering-your-own-output-in-xpages-revisited.html">related considerations</a> and <a href="/blog/2010/01/rendering-odf-documents-in-your-xpages.html">practial applications</a>. There are a few patterns, that make XAgents easier to develop and debug. 
<br>
 Despite <a href="http://www.openntf.org/p/XPage%20Debug%20Toolbar">outstanding tool contribution</a> debugging in XPages is still wanting, so any code that you can incorporate pre-debugged is a bonus. Here is what I do: 
<ul>
 <li>I try to write my logic in Java. I use the SSJS only to fetch the values I need to call my Java function</li>
 <li>The functions of the Java class take always the OutputStream (or the ResponseWriter) as a parameter. This is where the output goes</li>
 <li>For rendering XML or HTML output I use <a href="/blog/2010/11/oracle-broke-the-java-forums-fail-and-how-to-use-sax-to-create-xml-documents-in-java.html">SAX</a> with a <a href="/blog/downloads/2011/SimpleXMLDoc.java">little helper</a> (Making one of these for <a href="http://json.org/">JSON</a> would be an interesting exercise)</li>
 <li>I try to avoid using XPages specific (e.g. variable resolver) in my class containing the logic, but rather rely on <a href="http://en.wikipedia.org/wiki/Dependency_injection">Dependency Injection</a> to ease testing</li>
 <li>I debug and test the Java parts outside of XPages</li>
</ul> A little sample. Imagine I have a class that renders a Notes document into a PDF (with a fixed style). In my XPages code (beforeRenderResponse) I would write: 
<div class="javascript">
 <span class="co1">// The external context and the response object</span>
 <br><span class="kw2">var</span> exCon <span class="sy0">=</span> facesContext. <span class="me1">getExternalContext</span> <span class="br0">(</span> <span class="br0">)</span> <span class="sy0">;</span>
 <br><span class="kw2">var</span> response <span class="sy0">=</span> exCon. <span class="me1">getResponse</span> <span class="br0">(</span> <span class="br0">)</span> <span class="sy0">;</span>
 <br>
 <br><span class="co1">// Deliver uncached PDF</span>
 <br>
  response. <span class="me1">setContentType</span> <span class="br0">(</span> <span class="st0">"application/pdf"</span> <span class="br0">)</span> <span class="sy0">;</span>
 <br>
  response. <span class="me1">setHeader</span> <span class="br0">(</span> <span class="st0">"Cache-Control"</span> <span class="sy0">,</span> <span class="st0">"no-cache"</span> <span class="br0">)</span> <span class="sy0">;</span>
 <br><span class="co1">// Force file name and save dialog</span>
 <br>
  response. <span class="me1">setHeader</span> <span class="br0">(</span> <span class="st0">"Content-Disposition"</span> <span class="sy0">,</span> <span class="st0">"attachment; filename=invoice.pdf"</span> <span class="br0">)</span> <span class="sy0">;</span>
 <br>
 <br><span class="co1">// The Output Stream for Binary Output</span>
 <br><span class="kw2">var</span> out <span class="sy0">=</span>response. <span class="me1">getOutputStream</span> <span class="br0">(</span> <span class="br0">)</span> <span class="sy0">;</span>
 <br><span class="kw2">var</span> pdfProcessor <span class="sy0">=</span> <span class="kw2">new</span> com. <span class="me1">notessensei</span>. <span class="me1">tools</span>. <span class="me1">PDFFormatter</span> <span class="br0">(</span> <span class="br0">)</span> <span class="sy0">;</span>
 <br>
 <br><span class="co1">// Here the call where "document" is a Notes document</span>
 <br>
  pdfProcessor. <span class="me1">renderInvoice</span> <span class="br0">(</span>out <span class="sy0">,</span> document <span class="br0">)</span> <span class="sy0">;</span>
 <br>
 <br><span class="co1">// Done</span>
 <br>
  facesContext. <span class="me1">responseComplete</span> <span class="br0">(</span> <span class="br0">)</span> <span class="sy0">;</span>
 <br>
  out. <span class="kw3">close</span> <span class="br0">(</span> <span class="br0">)</span> <span class="sy0">;</span>
</div> Not really rocket science. The beauty of this approach: I can have a standalone Java application to test my PDFFormatter class. I use Eclipse for that. In Eclipse I have configured the Notes client's JVM as the runtime for the project. This way all Notes Java classes are found. Most likely you need the Notes program directory on your system path (but you know that). A simple testing class can look like this: 
<div class="java">
 <span class="kw1">public</span> <span class="kw1">class</span> Tester <span class="br0">{</span>
 <br>
 <br>
  &nbsp; &nbsp; <span class="kw1">public</span> <span class="kw1">static</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">String</span></a> theURL <span class="sy0">=</span> <span class="st0">"Notes:///8525744100531C7D/F4B82FBB75E942A6852566AC0037F284/034DAEE1CEEE2FB58525744000719185"</span> <span class="sy0">;</span>
 <br>
 <br>
  &nbsp; &nbsp; <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">void</span> main <span class="br0">(</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">String</span></a> <span class="br0">[</span> <span class="br0">]</span> args <span class="br0">)</span> <span class="kw1">throws</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Aexception+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">Exception</span></a> <span class="br0">{</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; NotesThread. <span class="me1">sinitThread</span> <span class="br0">(</span> <span class="br0">)</span> <span class="sy0">;</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; Session s <span class="sy0">=</span> NotesFactory. <span class="me1">createSession</span> <span class="br0">(</span> <span class="br0">)</span> <span class="sy0">;</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw3">Document</span> document <span class="sy0">=</span> <span class="br0">(</span> <span class="kw3">Document</span> <span class="br0">)</span>session. <span class="me1">resolve</span> <span class="br0">(</span>theURL <span class="br0">)</span> <span class="sy0">;</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; PDFFormatter pdfProcessor <span class="sy0">=</span> <span class="kw1">new</span> com. <span class="me1">notessensei</span>. <span class="me1">tools</span>. <span class="me1">PDFFormatter</span> <span class="br0">(</span> <span class="br0">)</span> <span class="sy0">;</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Afileoutputstream+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">FileOutputStream</span></a> out <span class="sy0">=</span> <span class="kw1">new</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Afileoutputstream+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">FileOutputStream</span></a> <span class="br0">(</span> <span class="kw1">new</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Afile+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><span class="kw3">File</span></a> <span class="br0">(</span> <span class="st0">"invoice.pdf"</span> <span class="br0">)</span> <span class="br0">)</span> <span class="sy0">;</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; pdfProcessor. <span class="me1">renderInvoice</span> <span class="br0">(</span>out, document <span class="br0">)</span> <span class="sy0">;</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; out. <span class="me1">close</span> <span class="br0">(</span> <span class="br0">)</span> <span class="sy0">;</span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; NotesThread. <span class="me1">stermThread</span> <span class="br0">(</span> <span class="br0">)</span> <span class="sy0">;</span>
 <br>
  &nbsp; &nbsp; <span class="br0">}</span>
 <br><span class="br0">}</span>
</div> Of course that approach works too when you plan to use <a href="http://www.junit.org/">JUnit</a> or a similar framework. Finally all can be glued together with <a href="http://ant.apache.org/">ANT</a> for a full automated environment, but that's a story for another time. 
<br>
 As usual: YMMV</div>
					<hr />
					<p>
						Posted by <a rel="author" href="https://plus.google.com/u/0/+StephanWissel">
Stephan H Wissel</a> on 21 March 2012
<span class="divider">|</span>
<a href="/blog/2012/03/make-java-code-for-xagents-easy-to-test.html#comments">Comments (6)</a>
<span class="divider">|</span>
categories:  <a href="/blog/categories/xpages.html">XPages</a> 

						<script type="text/javascript">
							var permaLink = "https://wissel.net/blog/2012/03/make-java-code-for-xagents-easy-to-test.html";
						</script>
					</p>
				</article>
				<article class="well well-raised">
					<h1>
						<small><a href="/blog/2012/03/reuse-web-agents-that-print-to-the-browser-in-xpages.html">Reuse web agents that PRINT to the browser in XPages</a></small>
					</h1>
					<hr />
					<div>When upgrading classic Domino applications to XPages one particular problem arises constantly: " <i>what to do with the PRINT statements in existing agents that write back directly to the browser</i>?" Currently there is no automatic way to capture this output. 
<br>
 However with a little refactoring of the agent the output can be recycled. You can use a computed field for the result showing it on a page that maintains the all over layout of your new application or use the <a href="/blog/2008/12/xagents-web-agents-xpages-style.html">XAgent approach</a> to replace the whole screen (I'm not discussing the merits of that here). These are the steps: 
<ol>
 <li>Make sure your agent is set to "Run as web user" in the agent properties</li>
 <li>Add the <code>AgentSupport</code> LotusScript library to your agent</li>
 <li>Initialize the ResultHandler class: <code>Dim result as ResultHandler<br>
   SET result = new ResultHandler</code> that will take in the print statements</li>
 <li>Use Search &amp; Replace in your agent and replace <code>Print&nbsp;</code> with <code>result.prn&nbsp;</code></li>
 <li>Add at the end <code>call result.save()</code></li>
 <li>In your XPage or CustomControl add the <code>AgentSupportX</code> SSJS library</li>
 <li>Get the result with a call to <code>agentResult("[name-of-your-agent]")</code>. You can process it further or display in in a computed field etc.</li>
</ol> The sample code is for illustration only. You want to add proper error handling to it. My test XPage looks like this: 
<div class="xml">
 <span class="sc3"><span class="re1">&lt;?xml</span> <span class="re0">version</span>=<span class="st0">"1.0"</span> <span class="re0">encoding</span>=<span class="st0">"UTF-8"</span><span class="re2">?&gt;</span></span>
 <br><span class="sc3"><span class="re1">&lt;xp:view</span> <span class="re0">xmlns:xp</span>=<span class="st0">"http://www.ibm.com/xsp/core"</span><span class="re2">&gt;</span></span>
 <br>
  &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;xp:this.resources<span class="re2">&gt;</span></span></span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;xp:script</span> <span class="re0">src</span>=<span class="st0">"/AgentSupportX.jss"</span> <span class="re0">clientSide</span>=<span class="st0">"false"</span><span class="re2">&gt;</span><span class="re1">&lt;/xp:script<span class="re2">&gt;</span></span></span>
 <br>
  &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;/xp:this.resources<span class="re2">&gt;</span></span></span>
 <br>
  &nbsp; &nbsp; This comes from an agent: 
 <br>
  &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;xp:text</span> <span class="re0">escape</span>=<span class="st0">"false"</span> <span class="re0">id</span>=<span class="st0">"computedField1"</span><span class="re2">&gt;</span></span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;xp:this.value<span class="re2">&gt;</span></span></span> <span class="sc2">&lt;![CDATA[#{javascript:agentResult("SampleAgent");}&gt;</span> <span class="sc3"><span class="re1">&lt;/xp:this.value<span class="re2">&gt;</span></span></span>
 <br>
  &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;/xp:text<span class="re2">&gt;</span></span></span>
 <br><span class="sc3"><span class="re1">&lt;/xp:view<span class="re2">&gt;</span></span></span>
</div> The sample agent like this: 
<div class="lotusscript">
 <span class="kw1">Option</span> <span class="kw1">Public</span>
 <br><span class="kw1">Option</span> <span class="kw1">Declare</span>
 <br>
 <br><span class="kw1">Use</span> <span class="st0">"AgentSupport"</span>
 <br>
 <br><span class="kw1">Dim</span> result <span class="kw1">As</span> ResultHandler 
 <br>
 <br><span class="kw1">Sub</span> Initialize 
 <br>
  &nbsp; &nbsp; <span class="kw1">Set</span> result = <span class="kw1">New</span> ResultHandler 
 <br>
  &nbsp; &nbsp; 
 <br>
  &nbsp; &nbsp; result. <span class="me1">prt</span> <span class="st0">"Some message"</span>
 <br>
  &nbsp; &nbsp; result. <span class="me1">prt</span> <span class="st0">"&lt;h1&gt; a header &lt;/h1&gt;"</span>
 <br>
  &nbsp; &nbsp; 
 <br>
  &nbsp; &nbsp; <span class="kw1">Call</span> result. <span class="me1">save</span> <span class="br0">(</span> <span class="br0">)</span>
 <br>
  &nbsp; &nbsp; 
 <br><span class="kw1">End</span> <span class="kw1">Sub</span>
</div> Of course the interesting part are the two script libraries.</div>
					<hr />
 <a href="/blog/2012/03/reuse-web-agents-that-print-to-the-browser-in-xpages.html">Read more</a>
					<p>
						Posted by <a rel="author" href="https://plus.google.com/u/0/+StephanWissel">
Stephan H Wissel</a> on 16 March 2012
<span class="divider">|</span>
<a href="/blog/2012/03/reuse-web-agents-that-print-to-the-browser-in-xpages.html#comments">Comments (4)</a>
<span class="divider">|</span>
categories:  <a href="/blog/categories/xpages.html">XPages</a> 

						<script type="text/javascript">
							var permaLink = "https://wissel.net/blog/2012/03/reuse-web-agents-that-print-to-the-browser-in-xpages.html";
						</script>
					</p>
				</article>
				<article class="well well-raised">
					<h1>
						<small><a href="/blog/2012/03/9-essential-skills.html">9 essential skills</a></small>
					</h1>
					<hr />
					<div><a href="http://leobabauta.com/">Leo Babauta</a> wrote a beautiful article on ZenHabits titled <a href="http://zenhabits.net/kid-skills/">9 Essential Skills Kids Should Learn</a>. I would rephrase it as: " <i>Your 9 essential live skills</i>". It inspired me to this " <i>plant like</i>" mindmap: 
<br><a href="http://zenhabits.net/kid-skills/"><img src="/blog/images/2012/9EssentialSkills.jpg" border="0" title="9 essential skills"></a>
<br>
 Enjoy!</div>
					<hr />
					<p>
						Posted by <a rel="author" href="https://plus.google.com/u/0/+StephanWissel">
Stephan H Wissel</a> on 14 March 2012
<span class="divider">|</span>
<a href="/blog/2012/03/9-essential-skills.html#comments">Comments (0)</a>
<span class="divider">|</span>
categories:  <a href="/blog/categories/afterhours.html">After hours</a> 

						<script type="text/javascript">
							var permaLink = "https://wissel.net/blog/2012/03/9-essential-skills.html";
						</script>
					</p>
				</article>
				<article class="well well-raised">
					<h1>
						<small><a href="/blog/2012/03/how-much-abstraction-is-healthy-for-a-schema/data-model-part-2.html">How much abstraction is healthy for a schema/data model? - Part 2</a></small>
					</h1>
					<hr />
					<div>In <a href="/blog/2012/03/how-much-abstraction-is-healthy-for-a-schema-data-model-part-1.html">Part 1</a> I discussed Elements vs. Attributes and the document nature of business vs. the table nature of RDBMS. In this installment I'd like to shed some light on abstraction levels. 
<br>
 I'll be using a more interesting examples than CRM: a court/case management system. When I was at lawschool one of my professors asked me to look out of the window and tell him what I see. So I replied: "Cars and roads, a park with trees, building and people entering them and leaving and so on". "Wrong!" he replied, "you see subjects and objects". 
<br>
 From a legal view you can classify everything like that: subjects are actors on rights, while objects are attached to rights. 
<br>
 Interestingly in object oriented languages like Java or C# you find a similar "final" abstraction where everything is a object that can be acted upon by calling its methods. 
<br>
 In data modeling the challenge is to find the right level of abstraction: to low and you duplicate information, to high and a system becomes hard to grasp and maintain. 
<br>
 Lets look at some examples. In a court you might be able to file a civil, criminal, administrative or inheritance case. Each filing consists of a number of documents. So when collecting the paper when doing your <a href="http://en.wikipedia.org/wiki/Contextual_inquiry">contextual enquiry</a> you end up with draft 1: 
<div class="xml">
 <span class="sc3"><span class="re1">&lt;caselist<span class="re2">&gt;</span></span></span>
 <br>
  &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;civilcase</span> <span class="re0">id</span>=<span class="st0">"ci-123"</span><span class="re2">&gt;</span></span> ... <span class="sc3"><span class="re1">&lt;/civilcase<span class="re2">&gt;</span></span></span>
 <br>
  &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;criminalcase</span> <span class="re0">id</span>=<span class="st0">"cr-123"</span><span class="re2">&gt;</span></span> ... <span class="sc3"><span class="re1">&lt;/criminalcase<span class="re2">&gt;</span></span></span>
 <br>
  &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;admincase</span> <span class="re0">id</span>=<span class="st0">"ad-123"</span><span class="re2">&gt;</span></span> ... <span class="sc3"><span class="re1">&lt;/admincase<span class="re2">&gt;</span></span></span>
 <br>
  &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;inheritcase</span> <span class="re0">id</span>=<span class="st0">"in-123"</span><span class="re2">&gt;</span></span> ... <span class="sc3"><span class="re1">&lt;/inheritcase<span class="re2">&gt;</span></span></span>
 <br><span class="sc3"><span class="re1">&lt;/caselist<span class="re2">&gt;</span></span></span>
</div> (I'll talk about the inner elements later) The content will be most likely very similar with plaintiff and defendant and the representing lawyers etc. So you end up writing a lot of duplicate definitions. And you need to add a complete new definition (and update your software) when the court adds "trade disputes" and, after the <a href="http://en.wikipedia.org/wiki/V_(2009_TV_series)">V</a> landed, "alien matters" to the jurisdiction. 
<br>
 Of course keeping the definitions separate has the advantage that you can be much more prescriptive. E.g. in a criminal case you could have an element "maximum-penalty" while in a civil case you would use "damages-thought". This makes data modeling as much a science as an art. 
<br>
 To confuse matters more for the beginner: You can mix schemata, so you can mix-in the specialised information in a more generalised base schema. IBM uses the approach for <a href="http://www-01.ibm.com/software/lotus/products/connections/">IBM Connections</a> where the general base schema is <a href="http://en.wikipedia.org/wiki/ATOM_(standard)">ATOM</a> and missing elements and attributes are mixed in in a Connections specific schema. 
<br>
 You find a similar approach in MS-Sharepoint where a Sharepoint payload is wrapped into 2 layers of open standards: ATOM and <a href="http://www.odata.org/">OData</a> (to be propriety at the very end). 
<br>
 When we abstract the case schema we would probably use something like: 
<div class="xml">
 <span class="sc3"><span class="re1">&lt;caselist<span class="re2">&gt;</span></span></span>
 <br>
  &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;case</span> <span class="re0">id</span>=<span class="st0">"ci-123"</span> <span class="re0">type</span>=<span class="st0">"civil"</span><span class="re2">&gt;</span></span> ... <span class="sc3"><span class="re1">&lt;/case<span class="re2">&gt;</span></span></span>
 <br>
  &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;case</span> <span class="re0">id</span>=<span class="st0">"cr-123"</span> <span class="re0">type</span>=<span class="st0">"criminal"</span><span class="re2">&gt;</span></span> ... <span class="sc3"><span class="re1">&lt;/case<span class="re2">&gt;</span></span></span>
 <br>
  &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;case</span> <span class="re0">id</span>=<span class="st0">"ad-123"</span> <span class="re0">type</span>=<span class="st0">"admin"</span><span class="re2">&gt;</span></span> ... <span class="sc3"><span class="re1">&lt;/case<span class="re2">&gt;</span></span></span>
 <br>
  &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;case</span> <span class="re0">id</span>=<span class="st0">"in-123"</span> <span class="re0">type</span>=<span class="st0">"inherit"</span><span class="re2">&gt;</span></span> ... <span class="sc3"><span class="re1">&lt;/case<span class="re2">&gt;</span></span></span>
 <br><span class="sc3"><span class="re1">&lt;/caselist<span class="re2">&gt;</span></span></span>
</div> A little "fallacy" here: in the id field the case type is duplicated. While this not in conformance with "the pure teachings" is is a practical compromise. In real live the case ID will be used as an isolated identifier "outside" of IT. Typically we find encoded information like year, type, running number, chamber etc. 
<br>
 One could argue, a case just being a specific document and push for further abstraction. Also any information inside could be expressed as an abstract item: 
<div class="xml">
 <span class="sc3"><span class="re1">&lt;document</span> <span class="re0">type</span>=<span class="st0">"case"</span> <span class="re0">subtype</span>=<span class="st0">"civil"</span> <span class="re0">id</span>=<span class="st0">"ci-123"</span><span class="re2">&gt;</span></span>
 <br>
  &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;content</span> <span class="re0">name</span>=<span class="st0">"plaintiff"</span> <span class="re0">type</span>=<span class="st0">"person"</span><span class="re2">&gt;</span></span>Peter Pan <span class="sc3"><span class="re1">&lt;/content<span class="re2">&gt;</span></span></span>
 <br>
  &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;content</span> <span class="re0">name</span>=<span class="st0">"defendant"</span> <span class="re0">type</span>=<span class="st0">"person"</span><span class="re2">&gt;</span></span>Captain Hook <span class="sc3"><span class="re1">&lt;/content<span class="re2">&gt;</span></span></span>
 <br><span class="sc3"><span class="re1">&lt;/document<span class="re2">&gt;</span></span></span>
</div> Looks familiar? Presuming you could have more that one plaintiff you could write: 
<div class="xml">
 <span class="sc3"><span class="re1">&lt;document</span> <span class="re0">form</span>=<span class="st0">"civilcase"</span><span class="re2">&gt;</span></span>
 <br>
  &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;noteinfo</span> <span class="re0">unid</span>=<span class="st0">"AA12469B4BFC2099852567AE0055123F"</span><span class="re2">&gt;</span></span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;created<span class="re2">&gt;</span></span></span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;datetime<span class="re2">&gt;</span></span></span>20120313T143000,00+08 <span class="sc3"><span class="re1">&lt;/datetime<span class="re2">&gt;</span></span></span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;/created<span class="re2">&gt;</span></span></span>
 <br>
  &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;/noteinfo<span class="re2">&gt;</span></span></span>
 <br>
  &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;item</span> <span class="re0">name</span>=<span class="st0">"plaintiff"</span><span class="re2">&gt;</span></span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;text<span class="re2">&gt;</span></span></span>Peter Pan <span class="sc3"><span class="re1">&lt;/text<span class="re2">&gt;</span></span></span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;text<span class="re2">&gt;</span></span></span>Tinkerbell <span class="sc3"><span class="re1">&lt;/text<span class="re2">&gt;</span></span></span>
 <br>
  &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;/item<span class="re2">&gt;</span></span></span>
 <br>
  &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;item</span> <span class="re0">name</span>=<span class="st0">"defendant"</span><span class="re2">&gt;</span></span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;text<span class="re2">&gt;</span></span></span>Captain Hook <span class="sc3"><span class="re1">&lt;/text<span class="re2">&gt;</span></span></span>
 <br>
  &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;/item<span class="re2">&gt;</span></span></span>
 <br><span class="sc3"><span class="re1">&lt;/document<span class="re2">&gt;</span></span></span>
</div> Yep - good ol' <a href="http://www.ibm.com/developerworks/lotus/library/ls-DXL_roadmap/">DXL</a>! While this is a good format for a <a href="http://en.wikipedia.org/wiki/PLATO_(computer_system)">generalised information management system</a>, it is IMHO to abstract for your use case. When you create forms and views, you actually demonstrate the intend to specialise. The beauty here: the general format of your persistence layer won't get into the way when you modify your application layer. 
<br>
 Of course this flexibility requires a little more care to make your application easy to understand for the next developer. Back to our example, time to peek inside. How should the content be structured there?</div>
					<hr />
 <a href="/blog/2012/03/how-much-abstraction-is-healthy-for-a-schema/data-model-part-2.html">Read more</a>
					<p>
						Posted by <a rel="author" href="https://plus.google.com/u/0/+StephanWissel">
Stephan H Wissel</a> on 13 March 2012
<span class="divider">|</span>
<a href="/blog/2012/03/how-much-abstraction-is-healthy-for-a-schema/data-model-part-2.html#comments">Comments (0)</a>
<span class="divider">|</span>
categories:  <a href="/blog/categories/software.html">Software</a> 

						<script type="text/javascript">
							var permaLink = "https://wissel.net/blog/2012/03/how-much-abstraction-is-healthy-for-a-schema/data-model-part-2.html";
						</script>
					</p>
				</article>
				<article class="well well-raised">
					<h1>
						<small><a href="/blog/2012/03/how-much-abstraction-is-healthy-for-a-schema-data-model-part-1.html">How much abstraction is healthy for a schema/data model? - Part 1</a></small>
					</h1>
					<hr />
					<div>When engaged in the art of <a href="http://en.wikipedia.org/wiki/Data_modeling">Data modelling</a> everybody faces the challenge to find the right level of <a href="http://en.wikipedia.org/wiki/Abstraction">abstraction</a>. I find that challenge quite intriguing. Nobody would create an attribute "Baker", "Lawyer", "Farmer" in a CRM system today, but one "profession" that can hold any of these professions as value. A higher level of abstraction would be to have attribute value pairs. So instead of "Profession" - "Baker" it would be "Attribute: Name=Profession, Value=Baker". Such constructs have the advantage to be very flexible, without changing the schema all sorts of different attributes can be captured. However they make validation more difficult: are all mandatory attributes present, are only allowed attributes present and do all attributes have values in the prescribed range? 
<br>
 Very often the data models are designed around the planned storage in an RDBMS. This conveniently overlooks that data modelling <a href="http://en.wikipedia.org/wiki/Semantic_data_model">knows more approaches</a> than just a <a href="http://en.wikipedia.org/wiki/Physical_schema">physical data model</a> and <a href="http://en.wikipedia.org/wiki/Entity-relationship_model">ER-diagrams</a>. Tabular data in real life are confined to accountants' ledgers, while most of the rest are objects, documents and subjects (people, legal entities, automated systems - data actors so to speak) with attributes, components (sub-entries) and linear or hierarchical relations. Also exchanging data requires complete and integer data, which lends itself rather to the document than the table approach (putting on my flame proof underwear now). 
<br>
 In a RDBMS the attribute table would be a child table to the (people) master table with the special challenge how to find an unique key that survives an export/import operation. 
<br>
 This is the reason why a <a href="http://www.w3.org/XML/Schema">XML Schema</a> seems to be the reasonable starting point to model the master data model for your application. Thus a worthwhile skill is to <a href="http://www.w3schools.com/schema/">master XML Schema</a> (It also helps to have a good schema editor. I'm - for many years- using <a href="http://www.oxygenxml.com/">oXygen XML</a>). 
<br>
 This won't stop you to still use a RDBMS to persist (and <a href="http://en.wikipedia.org/wiki/Database_normalization">normalize</a>) data, but the ER-Schema wouldn't take centre stage anymore. Of course <a href="http://www-01.ibm.com/software/data/db2/">modern</a> or <a href="http://couchdb.apache.org/">fancy</a> or <a href="http://en.wikipedia.org/wiki/Lotus_notes">venerable</a> databases can deal with the document tree nature of XML quite well. I fancy DB/2's <a href="http://en.wikipedia.org/wiki/PureXML">PureXML</a> capabilities quite a bit. But back to to XML Schema (similar considerations apply to JSON which is lacking a schema language yet - work <a href="http://json-schema.org/"> is ongoing</a>). 
<br>
 Since XML knows elements (the stuff in opening and closing brackets, that can be nested into each other) and attributes (which are name/value pairs living inside the brackets) there are many variations to model a logical data entry. A few rules (fully documented in the <a href="http://www.w3.org/TR/REC-xml/">official XML specifications</a>) need to be kept in mind: 
<ul>
 <li>Element names can't contain fancy characters or spaces</li>
 <li>Elements can, but don't need to have content</li>
 <li>Elements can have other elements, text or CDATA (for fancy content) as children</li>
 <li>Elements can, but don't need to have attributes</li>
 <li>Elements can't start with "xml"</li>
 <li>Attribute names can't contain fancy characters or spaces</li>
 <li>Attribute values can't contain fancy characters. If there they need to be encoded</li>
 <li>Attributes should only exist once in an element</li>
 <li>Attributes must have a value (it can be empty), but can't have children</li>
</ul> There are different "design camps" out there. Some dislike the use of attributes at all, others try to minimize the use of elements, but as usual the practicality lies in the middle. So we have 2 dimensions to look at: Element/Attribute use in a tree structure and secondly the level of abstraction. Lets look at some samples (and their query expressions): 
<div class="xml">
 <span class="sc3"><span class="re1">&lt;customer<span class="re2">&gt;</span></span></span>
 <br>
  &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;id<span class="re2">&gt;</span></span></span>1234 <span class="sc3"><span class="re1">&lt;/id<span class="re2">&gt;</span></span></span>
 <br>
  &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;name<span class="re2">&gt;</span></span></span>John Doe <span class="sc3"><span class="re1">&lt;/name<span class="re2">&gt;</span></span></span>
 <br>
  &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;status<span class="re2">&gt;</span></span></span>active <span class="sc3"><span class="re1">&lt;/status<span class="re2">&gt;</span></span></span>
 <br>
  &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;remarks<span class="re2">&gt;</span></span></span>John loves roses and usually speaks to Jenny <span class="sc3"><span class="re1">&lt;/remarks<span class="re2">&gt;</span></span></span>
 <br><span class="sc3"><span class="re1">&lt;/customer<span class="re2">&gt;</span></span></span>
</div></div>
					<hr />
 <a href="/blog/2012/03/how-much-abstraction-is-healthy-for-a-schema-data-model-part-1.html">Read more</a>
					<p>
						Posted by <a rel="author" href="https://plus.google.com/u/0/+StephanWissel">
Stephan H Wissel</a> on 10 March 2012
<span class="divider">|</span>
<a href="/blog/2012/03/how-much-abstraction-is-healthy-for-a-schema-data-model-part-1.html#comments">Comments (0)</a>
<span class="divider">|</span>
categories:  <a href="/blog/categories/software.html">Software</a> 

						<script type="text/javascript">
							var permaLink = "https://wissel.net/blog/2012/03/how-much-abstraction-is-healthy-for-a-schema-data-model-part-1.html";
						</script>
					</p>
				</article>
				<article class="well well-raised">
					<h1>
						<small><a href="/blog/2012/03/who-designed-that-process-a-visit-to-the-singtel-shop.html">Who designed that process (a visit to the SingTel shop)?</a></small>
					</h1>
					<hr />
					<div>First the good news: The sales rep at the SingTel shop, <b>Brandon</b>, was knowledgeable, patient and tried to help as much as he could, making that part of the process pleasant. 
<br>
 Now the breakdown of processes. I visited the SingTel shop with 2 objectives: subscribe to Fibre Broadband, after all on the 19th <a href="http://www.opennet.com.sg/">OpenNet</a> will install the fibre end point, and to switch my mobile number back from Starhub to SingTel. I failed on both accounts. 
<br>
 Brandon explained: The installation of the end point doesn't coincide with the activation of the line (I wonder how they can test it then) and I have to wait for another notification letter from OpenNet that will state the availability of the line, so I thereafter can pick an ISP of my choosing. I asked: but I have chosen, can't I do the paperwork and OpenNet and SingTel sort it out, once they are ready? Nope the process doesn't allow this level of customer service and prohibits me from taking up any of the <a href="http://livinginsingaporetoday.com/20566/acer-aspire-v3-singtel-broadband-promotion-at-it-show-2012/">IT Show promotions</a>. Furthermore SingTel wants to charge me SGD 107.00 since I'm an existing SingTel ADSL customer with a contract younger than a year, a charge the ADSL sales man conveniently missed to mention, even when I clearly explained that the ADSL is only meant as the interim solution between Starhub cable (that was pathetic slow in the evening) and Fibre Broadband. Aaaaaargl. 
<br>
 My second item on the list was switching the mobile phone line back to Singtel. I had switched from SingTel to Starhub 2 years ago, but my changed usage pattern requires better and faster 3G coverage than Starhub does offer. Besides their customer service .... Since the number originally belonged to SingTel, Brandon explained it could not be transferred back (what a logic). The way to go would be to terminate my contract with Starhub, which would return the number to the SingTel pool (after a while) and then to apply for a new contract and ask to reuse that number from the SingTel pool. Besides leaving me with all the work it would have the nasty side effect that I not only would be without a phone for a few days, but every caller would hear: "The number you have dialled is not in service". The irony: If I would have a Starhub or M1 number SingTel could transfer it without disruption. So I suggested: come up with a fancy form that I sign and then your ops sends it to Starhub ops and you do the cancel/reconnect in one go. After all you want my business. Unfortunately the process is not designed that way - Memento bene: there is no change to any technical system necessary, just a better coordination between the Telcos (guess the <a href="http://www.ida.gov.sg/">regulator</a> needs to have a word with them). Brandon promised to sort this out for me. Stay tuned.</div>
					<hr />
					<p>
						Posted by <a rel="author" href="https://plus.google.com/u/0/+StephanWissel">
Stephan H Wissel</a> on 10 March 2012
<span class="divider">|</span>
<a href="/blog/2012/03/who-designed-that-process-a-visit-to-the-singtel-shop.html#comments">Comments (0)</a>
<span class="divider">|</span>
categories:  <a href="/blog/categories/buyingbroadband.html">Buying Broadband</a> 

						<script type="text/javascript">
							var permaLink = "https://wissel.net/blog/2012/03/who-designed-that-process-a-visit-to-the-singtel-shop.html";
						</script>
					</p>
				</article>
				<article class="well well-raised">
					<h1>
						<small><a href="/blog/2012/03/preparing-for-a-boring-flight-xpagestv-offline-extract-media-from-a-feed.html">Preparing for a boring flight - XPages.tv offline (Extract media from a feed)</a></small>
					</h1>
					<hr />
					<div><a href="https://plus.google.com/101425807926420506933">David Leedy</a> provides us with the incredible useful <a href="http://notesin9.com/">Notes in 9</a> (a.k.a <a href="http://xpages.tv">XPages.tv</a>) tutorials and insights about XPages and Notes. The <a href="http://feeds.feedburner.com/notesin9/iTunes">feed with all the videos</a> is hosted by feedburner. To enjoy them while off the grid you can subscribe to them using iTunes, but that's for <a href="http://www.dict.cc/?s=Warmduscher">Warmduscher</a> <img src="/blog/images/emoticons/smile.gif">. 
<br>
 I'll show you how to use <a href="http://curl.haxx.se/">curl</a> and a shell script (easy to translate to a cmd file): 
<ol>
 <li>First you download the feed: <code>curl -G -L -o notesin9.xml http://feeds.feedburner.com/notesin9/iTunes</code></li>
 <li>Run the transformation: <code>xslt notesin9.xml feedburner2curl.xslt getXPagesTV.sh</code> (on Windows you would use .cmd)</li>
 <li>Make the script executable: <code>chmod +x getXPagesTV.sh</code></li>
 <li>Fetch the movies: <code>./getXPagesTV.sh</code></li>
</ol> This technique works for any media RSS feed (ATOM wouldn need a different XSLT), so it is worth to be added to the toolbox. There are a few moving parts (which you should have anyway): You need to have <a href="http://curl.haxx.se/">curl</a> and a <a href="/blog/downloads/2012/xslt">XSLT shell script</a> (that uses a <a href="http://sourceforge.net/projects/saxon/files/Saxon-HE/9.4/SaxonHE9-4-0-3J.zip/download ">jar file</a>) as well as the <a href="/blog/downloads/2012/feedburner2curl.xslt">stylesheet to convert the feed</a> into a command file. The XSLT command file looks like this: 
<div class="bash">
 <span class="co0">#!/bin/bash</span>
 <br>
  notify-send <span class="re5">-t</span> <span class="nu0">500</span> <span class="re5">-u</span> low <span class="re5">-i</span> gtk-dialog-info <span class="st0">"Transforming $1 with $2 into $3 ..."</span>
 <br>
  java <span class="re5">-cp</span> <span class="sy0">/</span>home <span class="sy0">/</span>stw <span class="sy0">/</span>bin <span class="sy0">/</span>saxon9he.jar net.sf.saxon.Transform <span class="re5">-t</span> -s: <span class="re4">$1</span> -xsl: <span class="re4">$2</span> -o: <span class="re4">$3</span>
 <br>
  notify-send <span class="re5">-t</span> <span class="nu0">1000</span> <span class="re5">-u</span> low <span class="re5">-i</span> gtk-dialog-info <span class="st0">"Extraction into $3 done!"</span>
</div> (where only the line with "java..." is relevant, the rest is eye candy). The XSLT stylesheet isn't much more complicated (the statements are in one line each, so check the <a href="/blog/downloads/2012/feedburner2curl.xslt">download version</a> to get them right): 
<div class="xml">
 <span class="sc3"><span class="re1">&lt;?xml</span> <span class="re0">version</span>=<span class="st0">"1.0"</span> <span class="re0">encoding</span>=<span class="st0">"UTF-8"</span><span class="re2">?&gt;</span></span>
 <br><span class="sc3"><span class="re1">&lt;xsl:stylesheet</span> <span class="re0">xmlns:xsl</span>=<span class="st0">"http://www.w3.org/1999/XSL/Transform"</span></span>
 <br><span class="sc3"> &nbsp; &nbsp; &nbsp; <span class="re0">xmlns:media</span>=<span class="st0">"http://search.yahoo.com/mrss/"</span></span>
 <br><span class="sc3"> &nbsp; &nbsp;<span class="re0">version</span>=<span class="st0">"2.0"</span><span class="re2">&gt;</span></span>
 <br>
  &nbsp; &nbsp; 
 <br>
  &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;xsl:output</span> <span class="re0">indent</span>=<span class="st0">"no"</span> <span class="re0">method</span>=<span class="st0">"text"</span><span class="re2">/&gt;</span></span>
 <br>
  &nbsp; &nbsp; 
 <br>
  &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;xsl:template</span> <span class="re0">match</span>=<span class="st0">"/"</span><span class="re2">&gt;</span></span>#!/bin/bash <span class="sc3"><span class="re1">&lt;xsl:apply-templates</span> <span class="re0">select</span>=<span class="st0">"//media:content"</span> <span class="re2">/&gt;</span><span class="re1">&lt;/xsl:template<span class="re2">&gt;</span></span></span>
 <br>
  &nbsp; &nbsp; 
 <br>
  &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;xsl:template</span> <span class="re0">match</span>=<span class="st0">"media:content"</span><span class="re2">&gt;</span></span>
 <br>
  &nbsp; &nbsp; &nbsp; &nbsp; curl -C - -G <span class="sc3"><span class="re1">&lt;xsl:value-of</span> <span class="re0">select</span>=<span class="st0">"@url"</span><span class="re2">/&gt;</span></span> -L -o <span class="sc3"><span class="re1">&lt;xsl:value-of</span> <span class="re0">select</span>=<span class="st0">"reverse(tokenize(@url,'/'))[1]"</span><span class="re2">/&gt;</span></span>
 <br>
  &nbsp; &nbsp; <span class="sc3"><span class="re1">&lt;/xsl:template<span class="re2">&gt;</span></span></span>
 <br>
  &nbsp; &nbsp; 
 <br><span class="sc3"><span class="re1">&lt;/xsl:stylesheet<span class="re2">&gt;</span></span></span>
</div> The only interesting part is <code>reverse(tokenize(@url,'/'))[1]</code> which I use to get the file name - basically the String after the last /. "tokenize" and "reverse" need a XSLT 2.0 processor. 
<br><b>Update</b>: Got a little carried away and used the wrong script, it only did XSLT 1.0, now corrected using Saxon and XSLT 2.0. Thx Ulrich for noticing. 
<br>
 As usual YMMV</div>
					<hr />
					<p>
						Posted by <a rel="author" href="https://plus.google.com/u/0/+StephanWissel">
Stephan H Wissel</a> on 02 March 2012
<span class="divider">|</span>
<a href="/blog/2012/03/preparing-for-a-boring-flight-xpagestv-offline-extract-media-from-a-feed.html#comments">Comments (3)</a>
<span class="divider">|</span>
categories:  <a href="/blog/categories/xml.html">XML</a>  <a href="/blog/categories/xpages.html">XPages</a> 

						<script type="text/javascript">
							var permaLink = "https://wissel.net/blog/2012/03/preparing-for-a-boring-flight-xpagestv-offline-extract-media-from-a-feed.html";
						</script>
					</p>
				</article>
				<ul class="breadcrumb pull-centre">
					<li><a href="/blog/2012/02/index.html"><i class="icon-hand-left"></i>By Date: February 2012</a>
						<span class="divider">|</span></li>
					<li><a href="/blog/"><i class="icon-hand-up"></i>Main</a></li>
					<span class="divider">|</span>
					<li><a href="/blog/2012/04/index.html">By Date: April 2012<i class="icon-hand-right"></i></a>
					</li>
				</ul>

			</div>

			<div class="span3">
			    <aside id="sidebar_spreadshirt" class="well">
	<h5>Shop</h5>
	<a href="https://notessensei.myspreadshop.com/not+my+circus+not+my+monkeys-A61e1903cc8668379f1573899?productType=812&sellable=wQz9l23aJJcROmVm4nLX-812-7&appearance=2" title="Notessensei's Spreadshop"><img width="300" src="https://image.spreadshirtmedia.com/image-server/v1/products/T812A2PA4267PT17X58Y49D1043393171W23114H22690/views/1,width=650,height=650,appearanceId=2/sometimes-things-go-over-board-and-you-ask-yourself-whos-circus-is-that-not-yours.jpg" /></a>
</aside>

				<aside id="sidebar_reference" class="well">
					<h5>Reference</h5>
					<ol style="list-style-type: upper-roman; padding-left: 30px;">
						<li><a style="display: inline;"
							href="/blog/2012/04/extracting-data-from-domino-into-pdf-using-xslt-and-xslfo-part-1.html">Use
								XSL:FO rendering (Domino)</a></li>
						<li><a target="_blank" href="https://wissel.net/blog/imprint.html">old references (IBM)</a></li>
					</ol>
				</aside>

				<aside id="sidebar_categoriesArchive" class="well">
					<ul class="nav nav-list">
						<li class="nav-header">Categories</li>
						<li ><a href="/blog/categories/afterhours.html">After hours</a></li>
						<li ><a href="/blog/categories/agile.html">Agile</a></li>
						<li ><a href="/blog/categories/apex.html">Apex</a></li>
						<li ><a href="/blog/categories/blog.html">Blog</a></li>
						<li ><a href="/blog/categories/bluemix.html">Bluemix</a></li>
						<li ><a href="/blog/categories/buddhakids.html">Buddhakids</a></li>
						<li ><a href="/blog/categories/business.html">Business</a></li>
						<li ><a href="/blog/categories/buyingbroadband.html">Buying Broadband</a></li>
						<li ><a href="/blog/categories/caldav.html">calDAV</a></li>
						<li ><a href="/blog/categories/cloudcomputing.html">Cloud Computing</a></li>
						<li ><a href="/blog/categories/container.html">Container</a></li>
						<li ><a href="/blog/categories/continuousintegration.html">Continuous integration</a></li>
						<li ><a href="/blog/categories/couchdb.html">CouchDB</a></li>
						<li ><a href="/blog/categories/coursera.html">Coursera</a></li>
						<li ><a href="/blog/categories/curl.html">Curl</a></li>
						<li ><a href="/blog/categories/cycling.html">Cycling</a></li>
						<li ><a href="/blog/categories/development.html">Development</a></li>
						<li ><a href="/blog/categories/docker.html">Docker</a></li>
						<li ><a href="/blog/categories/domino.html">Domino</a></li>
						<li ><a href="/blog/categories/dxlmagic.html">DXLMagic</a></li>
						<li ><a href="/blog/categories/elearning.html">eLearning</a></li>
						<li ><a href="/blog/categories/github.html">GitHub</a></li>
						<li ><a href="/blog/categories/gonephisching.html">Gone Phisching</a></li>
						<li ><a href="/blog/categories/graalvm.html">GraalVM</a></li>
						<li ><a href="/blog/categories/grpc.html">gRPC</a></li>
						<li ><a href="/blog/categories/gtd.html">GTD</a></li>
						<li ><a href="/blog/categories/hclnotes.html">HCL Notes</a></li>
						<li ><a href="/blog/categories/heroku.html">Heroku</a></li>
						<li ><a href="/blog/categories/https.html">HTTP(S)</a></li>
						<li ><a href="/blog/categories/ibm.html">IBM</a></li>
						<li ><a href="/blog/categories/ibmlotus.html">IBM - Lotus</a></li>
						<li ><a href="/blog/categories/ibmnotes.html">IBM Notes</a></li>
						<li ><a href="/blog/categories/identitymanagement.html">Identity Management</a></li>
						<li ><a href="/blog/categories/intercultural.html">Intercultural</a></li>
						<li ><a href="/blog/categories/java.html">Java</a></li>
						<li ><a href="/blog/categories/javascript.html">JavaScript</a></li>
						<li ><a href="/blog/categories/junit.html">jUnit</a></li>
						<li ><a href="/blog/categories/jwt.html">JWT</a></li>
						<li ><a href="/blog/categories/k8s.html">K8S</a></li>
						<li ><a href="/blog/categories/learning.html">Learning</a></li>
						<li ><a href="/blog/categories/lightning.html">Lightning</a></li>
						<li ><a href="/blog/categories/linux.html">Linux</a></li>
						<li ><a href="/blog/categories/lotus.html">Lotus</a></li>
						<li ><a href="/blog/categories/lotusnotes.html">Lotus Notes</a></li>
						<li ><a href="/blog/categories/lotusphere.html">Lotusphere</a></li>
						<li ><a href="/blog/categories/mac.html">Mac</a></li>
						<li ><a href="/blog/categories/macos.html">macOS</a></li>
						<li ><a href="/blog/categories/maven.html">Maven</a></li>
						<li ><a href="/blog/categories/mobile.html">Mobile</a></li>
						<li ><a href="/blog/categories/networking.html">Networking</a></li>
						<li ><a href="/blog/categories/nginx.html">nginx</a></li>
						<li ><a href="/blog/categories/nodejs.html">NodeJS</a></li>
						<li ><a href="/blog/categories/nodered.html">NodeRED</a></li>
						<li ><a href="/blog/categories/nokia.html">Nokia</a></li>
						<li ><a href="/blog/categories/nosql.html">NoSQL</a></li>
						<li ><a href="/blog/categories/omnisophie.html">Omnisophie</a></li>
						<li ><a href="/blog/categories/opensource.html">OpenSource</a></li>
						<li ><a href="/blog/categories/pmd.html">PMD</a></li>
						<li ><a href="/blog/categories/protocols.html">Protocols</a></li>
						<li ><a href="/blog/categories/quarkus.html">Quarkus</a></li>
						<li ><a href="/blog/categories/reactive.html">Reactive</a></li>
						<li ><a href="/blog/categories/salesforce.html">Salesforce</a></li>
						<li ><a href="/blog/categories/sametime.html">Sametime</a></li>
						<li ><a href="/blog/categories/sfdx.html">SFDX</a></li>
						<li ><a href="/blog/categories/showntellthursday.html">Show-N-Tell Thursday</a></li>
						<li ><a href="/blog/categories/singapore.html">Singapore</a></li>
						<li ><a href="/blog/categories/socialbusiness.html">SocialBusiness</a></li>
						<li ><a href="/blog/categories/software.html">Software</a></li>
						<li ><a href="/blog/categories/sywtbadd.html">SYWTBADD</a></li>
						<li ><a href="/blog/categories/tdd.html">TDD</a></li>
						<li ><a href="/blog/categories/technology.html">Technology</a></li>
						<li ><a href="/blog/categories/travel.html">Travel</a></li>
						<li ><a href="/blog/categories/twins.html">Twins</a></li>
						<li ><a href="/blog/categories/typescript.html">TypeScript</a></li>
						<li ><a href="/blog/categories/umsys.html">UMsys</a></li>
						<li ><a href="/blog/categories/unittesting.html">UnitTesting</a></li>
						<li ><a href="/blog/categories/vertx.html">vert.x</a></li>
						<li ><a href="/blog/categories/webcomponents.html">WebComponents</a></li>
						<li ><a href="/blog/categories/webdevelopment.html">WebDevelopment</a></li>
						<li ><a href="/blog/categories/workflow.html">Workflow</a></li>
						<li ><a href="/blog/categories/writingchinese.html">Writing Chinese</a></li>
						<li ><a href="/blog/categories/xml.html">XML</a></li>
						<li ><a href="/blog/categories/xpages.html">XPages</a></li>
						<li class="nav-header">Archives</li>
						<li ><a href="/blog/2002/">2002</a></li>
						<li ><a href="/blog/2003/">2003</a></li>
						<li ><a href="/blog/2004/">2004</a></li>
						<li ><a href="/blog/2005/">2005</a></li>
						<li ><a href="/blog/2006/">2006</a></li>
						<li ><a href="/blog/2007/">2007</a></li>
						<li ><a href="/blog/2008/">2008</a></li>
						<li ><a href="/blog/2009/">2009</a></li>
						<li ><a href="/blog/2010/">2010</a></li>
						<li ><a href="/blog/2011/">2011</a></li>
						<li ><a href="/blog/2012/">2012</a></li>
						<li ><a href="/blog/2013/">2013</a></li>
						<li ><a href="/blog/2014/">2014</a></li>
						<li ><a href="/blog/2015/">2015</a></li>
						<li ><a href="/blog/2016/">2016</a></li>
						<li ><a href="/blog/2017/">2017</a></li>
						<li ><a href="/blog/2018/">2018</a></li>
						<li ><a href="/blog/2019/">2019</a></li>
						<li ><a href="/blog/2020/">2020</a></li>
						<li ><a href="/blog/2021/">2021</a></li>
						<li ><a href="/blog/2022/">2022</a></li>
						<li ><a href="/blog/2023/">2023</a></li>
						<li ><a href="/blog/2024/">2024</a></li>
						<li ><a href="/blog/all.html" title="That's a long list!">Complete archive</a></li>
					</ul>
				</aside>

				<aside id="sidebar_visitors" class="well">
					<h5>Visitors</h5>
<script type="text/javascript" id="clstr_globe" src="//cdn.clustrmaps.com/globe.js?d=dyaFRPfPewNw_y5-9frkSPIp1gvX8qjkkF-LpRyuvQs"></script>
				</aside>

			</div>
		</div>
	</div>
	<!-- Footer	================================================== -->
		<footer>
		<div class="container">
			<div class="row">
				<div class="span2">
					<h4>About Me</h4>
					<p>
						I work as "Solution Director Innovation" for HCL Software. I'm based in Singapore.
						<g:plusone size="small" href="https://wissel.net/blog/"></g:plusone>
					</p>
					<a href="//stackoverflow.com/users/131021/stwissel">
					<img src="//stackoverflow.com/users/flair/131021.png" width="208" height="58" alt="profile for stwissel at Stack Overflow, Q&amp;A for professional and enthusiast programmer" title="profile for stwissel at Stack Overflow, Q&amp;A for professional and enthusiast programmer">
				</a>
				</div>
				<div class="span2">
					<h4>Contact</h4>
					<ul>
						<li><a rel="me" href="https://chaos.social/@stw">Chat on Mastodon</a></li>
						<li><a href="https://sg.linkedin.com/in/notessensei">LinkedIn</a></li>
						<li><a href="https://notessensei.myspreadshop.com">NotesSensei's Spreadshirt shop</a></li>
						<li><a href="https://www.stickermule.com/u/43c09fe6343315f">Stickers from Stickermule</a></li>
						<li><a href="https://about.me/stephan.wissel/#" title="Another identity site, nothing much here">About Me</a></li>
						<li><a href="https://github.com/Stwissel">GitHub</a></li>
						<li><a href="https://bitbucket.org/stwissel/">Bitbucket</a></li>
						<li><a href="https://www.twitter.com/notessensei">Twitter</a></li>
					</ul>
				</div>
				<div class="span8">
					<h4>Disclaimer</h4>
					<p>This site is in no way affiliated, endorsed, sanctioned,
						supported, nor enlightened by my current or previous employers.
						I may be an employee, but the opinions, theories, facts, etc.
						presented here are my own and are in now way given in any official
						capacity. In short, these are my words and this is my site, not
						my current or former employers' - and don't even begin to think otherwise.</p>
					<p>
						<b>&copy; 2003 - 2024 Stephan H. Wissel - some rights reserved</b> as
						listed here: <a rel="license"
							href="//creativecommons.org/licenses/by-nc-sa/3.0/"><img
							alt="Creative Commons License" style="border-width: 0"
							src="//licensebuttons.net/l/by-nc-sa/3.0/88x31.png" /></a>
						Unless otherwise labeled by its originating author, the content
						found on this site is made available under the terms of an <a
							href="//creativecommons.org/licenses/by-nc-sa/3.0/"
							target="_blank"
							title="Learn more about the creative commons  Attribution-ShareAlike License">Attribution/NonCommercial/ShareAlike
							Creative Commons License</a>, with the exception that no rights are
						granted -- since they are not mine to grant -- in any logo,
						graphic design, trademarks or trade names of any type. Code
						samples and code downloads on this site are, unless otherwise
						labeled, made available under an <a
							href="//www.apache.org/licenses/LICENSE-2.0.html">Apache
							2.0</a> license. Other license models are available on written
						request and written confirmation.
					</p>
				</div>
			</div>
		</div>
	</footer>

		<script type="text/javascript" src="/blog/js/jquery-3.6.0.min.js"></script>
	<script type="text/javascript" src="/blog/js/bootstrap.js"></script>
	<script type="text/javascript" src="/blog/js/blogmain.js"></script>
    <script type="text/javascript" src="/blog/js2/prism.js"></script>
	<script type="text/javascript" src="/blog/js2/admonition.js"></script>
	<script src="//www.google-analytics.com/urchin.js" type="text/javascript"></script>
	<script type="text/javascript">
		_uacct = "UA-72033-1";
		urchinTracker();
	</script>
	<script type="text/javascript" src="//feeds.feedburner.com/~s/Wisselnet?i=https://wissel.net/blog" charset="utf-8"></script>

</body>
</html>
