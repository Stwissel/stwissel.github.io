<!DOCTYPE html>
<html lang="en">
<head>
<title>NotesSensei's Blog</title>
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-72033-1', 'auto');
ga('send', 'pageview');
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible"  content="chrome=1" />
<meta http-equiv="Content-Language" content="en" />
<meta rel="meta" link="application/rdf+xml" content="/foaf.rdf" />
<meta property="og:title"     content="wissel.net - " />
<meta property="og:type"      content="blog" />
<meta property="og:url"       content="https://wissel.net/blog/" />
<meta property="og:image"     content="//www.wissel.net/blog/img/wisselnet.gif" />
<meta property="og:site_name" content="wissel.net" />
<meta name="viewport"         content="width=device-width, initial-scale=1.0" />
<meta name="ROBOTS"           content="FOLLOW, NOIMAGEINDEX" />
<meta name="DC.Title"         content="NotesSensei's Weblog - " />
<meta name="Author"           content="Stephan H. Wissel" />
<meta name="ICBM"             content="1.2994, 103.8425" />
<meta name="Copyright"        content=",2019 Stephan H. Wissel - Creative commons licence" />
<meta name="twitter:site"     content="@notessensei" />
<meta name="twitter:card"     content="summary" />
<meta name="xing:author"      content="https://www.xing.com/profile/StephanH_Wissel" />
<meta name="description"
	content="Thoughts, Insights and Opinions of Stephan H. Wissel. Topics included:  Salesforce, IBM, JEE, .Net, Software Archtecture, Personcentric Development, Agile Software, SDLC, Singapore and my Twins" />
<meta name="Keywords"
	content="lotus,domino,quickplace,sametime,blog,template,blogging,blogger,notes,r9,verse,r8,r7,r6,r5,raven,k-station,nsf,ntf,websphere,agile,sdlc,jee,ml,salesforce,.net,personcentric,singapore,twins,JavaScript,vertx, nodejs, salesforce, apex, webcomponents" />
<meta name="Abstract"
	content="Thoughts, Insights and Opinions of Stephan H. Wissel. Topics included: Salesforce, IBM , JEE, NodeJS, ML, .Net, Vert.x, Software Archtecture, Personcentric Development, Agile Software, SDLC, Singapore and my Twins" />
<!--[if lt IE 9]>
		<script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<link rel="stylesheet" type="text/css" href="/blog/style/bootstrap.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/responsive.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/wisselblog.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/main.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/shCore.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/shThemeMidnight.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/blogcodedisplay.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/shariff.complete.css" />
<link rel="stylesheet" type="text/css" href="/blog/style/markdown.css" />
<link href='//fonts.googleapis.com/css?family=Montserrat' rel='stylesheet' type='text/css' />
<link href='//fonts.googleapis.com/css?family=Ubuntu:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css' />
<link rel="icon" type="image/png" href="/blog/img/favicon-32x32.png" sizes="32x32" />
<link rel="icon" type="image/png" href="/blog/img/favicon-16x16.png" sizes="16x16" />


<link rel="alternate" type="application/rss+xml" title="RSS News Feed" href="https://feeds.feedburner.com/Wisselnetfeed" />

<meta name="Revisit-After" content="2 Days" />
</head>
<body>
	<div class="navbar navbar-inverse navbar-fixed-top">
		<div class="navbar-inner">
			<a class="btn btn-navbar" data-toggle="collapse"
				data-target=".nav-collapse"> <span class="icon-bar"></span> <span
				class="icon-bar"></span> <span class="icon-bar"></span>
			</a> <a class="brand" href="/">wissel.net</a>
			<div class="nav-collapse">
				<ul class="nav">
					<li><a href="/index.html">Home</a></li>
					<li><a href="/blog/">Blog</a></li>
					<li><a href="/blog/series.html">Series</a></li>
					<li><a href="/blog/downloads/">Downloads</a></li>
					<li><a href="https://stwissel.github.io/presentations/" title="Presentations maintained on GitHub">Presentations</a></li>
					<li><a href="/blog/imprint.html">About / Imprint</a></li>
				</ul>
				<form action="//www.google.com/cse" id="cse-search-box"
					class="navbar-search pull-right">
					<div>
						<input type="hidden" name="cx"
							value="partner-pub-4562257798204150:muo14ionenw" /> <input
							type="hidden" name="ie" value="ISO-8859-1" /> <input type="text"
							name="q" class="search-query span2" placeholder="Search" />
						<!-- input type="submit" name="sa" value="Search" class="btn btn-small"/-->
					</div>
				</form>
			</div>
		</div>
	</div>
<div class="navbar-spacer"></div>

	<div class="container">
    		<br />
		<header>
			<div id="main" class="hero-unit">
				<h1 id="jumbotron">wissel.net
				</h1>
				<p class="lead">Usability - Productivity - Business - The web -
					Singapore &amp; Twins</p>
			</div>
		</header>

    <script> 
var $buoop = {notify:{e:-0.01,f:-0.01,o:-0.01,s:-0.01,c:-0.01},insecure:true,unsupported:true,api:5}; 
function $buo_f(){ 
 var e = document.createElement("script"); 
 e.src = "//browser-update.org/update.min.js"; 
 document.body.appendChild(e);
};
try {document.addEventListener("DOMContentLoaded", $buo_f,false)}
catch(e){window.attachEvent("onload", $buo_f)}
</script>

	<div class="row-fluid">
			<div class="span9">
				<article class="well well-raised">
					<h1><small><a href="/blog/2020/03/running-java-applications-with-notes-on-macos.html">Running Java applications with Notes on macOS</a></small></h1>
					<hr />
					<div><p>My main work computer is a MacBook running macOS. Thank to <a href="https://amzn.to/2QkhsA9">Logitech</a>, they keyboard is just fine. As you know macOS neither features Domino Designer or Domino Admin. For <a href="https://stwissel.github.io/presentations/engage2020/index.html">recent development</a> I wanted to make sure that my applications can run on the client (I've done <a href="/blog/2014/07/adventures-with-vertx-64bit-and-the-ibm-notes-client.html">that before</a>).</p> 
<h3><a href="#java-java-on-the-wall-whats-the-right-path-of-them-all" id="java-java-on-the-wall-whats-the-right-path-of-them-all">Java, Java on the wall, what's the right path of them all?</a></h3> 
<p>(Sorry Schneewitchen)</p> 
<p>In Notes/Domino <a href="https://www.ibm.com/support/knowledgecenter/SSKTMJ_9.0.1/admin/over_whats_new_in_fp8.html">R9.0.1FP8</a> - (client FP10) the Java runtime was updated to Java8 and in <a href="https://help.hcltechsw.com/domino/11.0.0/wn_new_java_runtime_environment.html">R11</a> changed to AdoptOpenJDK.</p> 
<p>On macOS that led to a particular situation. The jvm packaged with the <code>HCL Notes.app</code> can be found in the path<br> <code>HCL Notes.app/jre/Contents/Home</code> with <code>bin</code>, <code>lib</code> and <code>lib/ext</code> as we can expect from a JVM. Suspiciously absent are <code>Notes.jar</code>, <code>websvc.jar</code> and <code>njempcl.jar</code>. They can be located at <code>HCL Notes.app/Contents/MacOS.jvm/lib/ext</code>.</p> 
<p>While this isn't an issue for the Notes client, it is an obstacle when you try to run an external jar file. <code>java -jar somejar.jar</code> ignores any classpath setting outside the JVM and only loads resources from the default JBM path (lib/ext).</p> 
<p>I suspect the separation was neccesary due to the <a href="https://adoptopenjdk.net/">AdoptOpenJDK</a> distribution rules.</p> 
<p>To solve this, we can use a start script that creates a <a href="http://man7.org/linux/man-pages/man1/ln.1.html">symbolic link</a> in the right place. Takeing the usual suspects like <code>DYLD_LIBRARY_PATH</code> and <code>LD_LIBRARY_PATH</code> into account we end with a script like this:</p> 
<pre class="brush: bash">#!/bin/bash
# MacOS Keep Starter file
# Keep locations - update as needed - leave the TLS stuff empty if you don't have it
export KEEPJAR=$HOME/keep/projectkeep.jar
export LOG_DIR=$HOME/keep/logs
export TLSFile=$HOME/keep/private/demoserver.projectkeep.io.pfx
export TLSPassword=supersecret

# Don't change anything below unless you are sure what you are doing
# Java files places unfortunately troublesome, so we link some
cd /Applications/HCL\ Notes.app/jre/Contents/Home/lib/ext
export SRCDIR="../../../../../Contents/MacOS/jvm/lib/ext"
if [ ! -f njempcl.jar ]; then
	ln -s $SRCDIR/njempcl.jar .
    echo "Linked njempcl.jar"
fi
if [ ! -f Notes.jar ]; then
	ln -s $SRCDIR/Notes.jar .
    echo "Linked Notes.jar"
fi
if [ ! -f websvc.jar ]; then
	ln -s $SRCDIR/websvc.jar .
    echo "Linked websvc.jar"
fi

# Local Keep Server
export DEBUG=true
export PATH=/Applications/HCL\ Notes.app/Contents/MacOS:$PATH
export JAVA_HOME=/Applications/HCL\ Notes.app/jre/Contents/Home
export GodMode=true
export DYLD_LIBRARY_PATH=/Applications/HCL\ Notes.app/Contents/MacOS
export LD_LIBRARY_PATH=/Applications/HCL\ Notes.app/Contents/MacOS
echo $LD_LIBRARY_PATH ..
cd $HOME/Library/Application\ Support/HCL\ Notes\ Data
/Applications/HCL\ Notes.app/jre/Contents/Home/bin/java -jar $KEEPJAR
cd ~
echo Done!

</pre> 
<p>This script presumes thay we have admin permissions. We could contemplate to check for existing symbolic links and remove the ones we did set. I decided, that smells too much like <a href="https://martinfowler.com/bliki/Yagni.html">YAGNI</a>.</p> 
<p>As usual: YMMV</p></div>
					<hr />
					<p><p>
						Posted by <a rel="author" href="https://plus.google.com/u/0/+StephanWissel">
Stephan H Wissel</a> on 17 March 2020
<span class="divider">|</span>
<a href="/blog/2020/03/running-java-applications-with-notes-on-macos.html#comments">Comments (0)</a>
<span class="divider">|</span>
categories:  <a href="/blog/categories/hclnotes.html">HCL Notes</a>  <a href="/blog/categories/java.html">Java</a>  <a href="/blog/categories/macos.html">macOS</a> 

						<div class="shariff" data-lang="en" data-url="https://www.wissel.net/blog/2020/03/running-java-applications-with-notes-on-macos.html" data-services="[&quot;whatsapp&quot;,&quot;facebook&quot;,&quot;twitter&quot;,&quot;mail&quot;]" data-title="Running Java applications with Notes on macOS" data-twitter-via="@notessensei"></div>
						<script type="text/javascript">
							var permaLink = "https://wissel.net/blog/2020/03/running-java-applications-with-notes-on-macos.html";
						</script>
					</p>
</p>
				</article>
				<article class="well well-raised">
					<h1><small><a href="/blog/2020/03/odata-the-fine-print.html">OData - the fine print</a></small></h1>
					<hr />
					<div><p>For an <a href="https://stwissel.github.io/presentations/engage2020/index.html">upcoming event</a> I had to dig a little deeper into <a href="https://www.odata.org/">OData</a> and learned a few things along the lines.</p> 
<h3><a href="#same-but-different" id="same-but-different">Same but different</a></h3> 
<p>OData's current version is <a href="http://docs.oasis-open.org/odata/odata/v4.0/odata-v4.0-part1-protocol.html">4.0</a> and that's the only version I will focus on in this article.</p> 
<p>OData is the love child of an effort that joined Microsoft and SAP <a href="https://www.frankensteins-laboratory.com/home-page">at the hip</a> to create an universal internet data access standard, that on first sight has a lot of <a href="https://en.wikipedia.org/wiki/Not_invented_here">NIH</a> issues to sort out. But I'm sure on a second (or third or forth) look it will all make sense.</p> 
<h3><a href="#key-components-of-odata" id="key-components-of-odata">Key components of OData</a></h3> 
<ul> 
 <li>a service document in <code>JSON</code> format. It describes what data endpoints are available and where. Depending on the requested scope (more on that later) that JSON contains different levels of details</li> 
 <li>a meta data document. That document is referenced in the service document. The format is <code>XML</code>. It describes the data format found in each record, relations to other record and actions that can be taken. Looks like <a href="https://en.wikipedia.org/wiki/XML_schema">XML Schema</a>, but not quite. <em>Record</em> is used loosely here, data can be hierarchical and nested</li> 
 <li>a query language squeezed into an URL, so data can be fetched using <code>HTTP GET</code> without using a body submitted. Query allows data selections, filtering, output size and sorting to be specified</li> 
 <li>Query results in JSON format enhanced with <a href="http://docs.oasis-open.org/odata/odata-json-format/v4.01/odata-json-format-v4.01.html">OData specific Metadata</a></li> 
</ul> 
<p>What I liked a lot: <a href="https://www.odata.org/">OData.org</a> offers a rich set of documentation and tutorials, including a <a href="https://www.postman.com/">Postman</a> collection to learn</p> 
<h3><a href="#happy-soup" id="happy-soup">Happy soup</a></h3> 
<p>So dealing with OData you can enjoy a mix of technologies:</p> 
<ul> 
 <li>JSON for service document and payloads</li> 
 <li>XML for meta data</li> 
 <li>a dot notation (like dotNet or Java) for property values like data types (go <a href="https://www.odata.org/getting-started/understand-odata-in-6-steps/">learn about it</a>). E.g. <code>Edm.String</code> defines a String value or <code>Org.OData.Core.V1.ResourcePath</code> the path to data</li> 
 <li>another query language</li> 
 <li>individual items by default get addressed in an uncommon format: <code>serviceurl/People('johndoe')</code>. Luckily this is optional and you can use the more common format for a route: <code>serviceurl/People/johndoe</code>. This seems to be born out of squezing the <em>square pin</em> URL into the <em>round hole</em> of database schemas and flexible primary keys</li> 
</ul> 
<p>On the upside: Your Salesforce and Excel users will love it. Import and CRUD operations are well supported.</p> 
<p>Initially I was looking at <a href="http://olingo.apache.org/">Apache Olingo</a> to implement my needs. Unfortunately the library is too close to the Java servlet model and static defined data models (like your one application, not your data platform), so I disected my needs the hard way.</p> 
<h3><a href="#lessons-learned-along-the-way" id="lessons-learned-along-the-way">Lessons learned along the way</a></h3> 
<ul> 
 <li>A OData client (think Excel, Tableau, Salesforce) will initially connect to the service document url. It sends a <code>GET</code> request. To specify what level of detail is required the <code>ACCEPT</code> header is used. So when testing your provider implementation you need to take that into account</li> 
 <li>Excel sends <code>ACCEPT application/json;odata.metadata=minimal</code></li> 
 <li>Salesforce sends <code>ACCEPT application/json;odata.metadata=full</code></li> 
 <li>OpenAPI can specify the top level <code>application/json</code> or the full qualified content type in the response. If you fully qualify it, you might end up with a <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/406">406</a> and wonder what happens</li> 
 <li>The meta data url gets specified in your service document and is usually the service document url extended by <code>/$metadata</code></li> 
 <li>I ran into a potential Salesforce bug, where the meta data URL was ignored and the service document URL extended by <code>$metadata</code>. Note the missing <code>/</code>. Caused a bit of grief since Excel does <code>/$metadata</code></li> 
 <li>Everything is case sensitive, which makes sense, but is fun in Domino that treats item names case insensitive</li> 
 <li>I couldn't get Salesforce to play nice until I added a field <code>ExternalId</code> to my form. Might be my lack of understanding how to change the primary key Salesforce will play nice with or something missing in my Metadata</li> 
</ul> 
<h3><a href="#same-same-but-different" id="same-same-but-different">Same, same, but different</a></h3> 
<p>Swap out the GET for a POST and the XML for something not-quite-JSON and you get <a href="https://graphql.org/">GraphQL</a> that tries to address a similar set of functionalities. We really love wheels reinvented</p> 
<p>More lessons to be learned, stay tuned!</p></div>
					<hr />
					<p><p>
						Posted by <a rel="author" href="https://plus.google.com/u/0/+StephanWissel">
Stephan H Wissel</a> on 04 March 2020
<span class="divider">|</span>
<a href="/blog/2020/03/odata-the-fine-print.html#comments">Comments (0)</a>
<span class="divider">|</span>
categories:  <a href="/blog/categories/opensource.html">OpenSource</a>  <a href="/blog/categories/webdevelopment.html">WebDevelopment</a> 

						<div class="shariff" data-lang="en" data-url="https://www.wissel.net/blog/2020/03/odata-the-fine-print.html" data-services="[&quot;whatsapp&quot;,&quot;facebook&quot;,&quot;twitter&quot;,&quot;mail&quot;]" data-title="OData - the fine print" data-twitter-via="@notessensei"></div>
						<script type="text/javascript">
							var permaLink = "https://wissel.net/blog/2020/03/odata-the-fine-print.html";
						</script>
					</p>
</p>
				</article>
				<article class="well well-raised">
					<h1><small><a href="/blog/2020/02/domino-administration-back-to-basics-part-2.html">Domino Administration Back to Basics (Part 2) - Networking</a></small></h1>
					<hr />
					<div><p>In <a href="/blog/2020/02/domino-administration-back-to-basics-part-1.html">Part 1</a> we learned about the marvelous world of Notes Names, <a href="https://en.wikipedia.org/wiki/X.400">X400</a> and the perils of messing with certificates. One big difference to <a href="https://en.wikipedia.org/wiki/X.509">X509</a> is the (<a href="https://github.com/IBM/domino-docker">almost</a>) absence of certificate <a href="https://www.openssl.org/">Command Line tools</a> that can be <a href="https://www.wissel.net/blog/2019/10/create-your-own-ca.html">so much fun</a>.</p> 
<h3><a href="#domino-networking-protocols-as-you-like-it" id="domino-networking-protocols-as-you-like-it">Domino Networking - protocols </a><a href="https://en.wikipedia.org/wiki/As_You_Like_It">as you like it</a></h3> 
<p>Domino predates the rise of <a href="https://en.wikipedia.org/wiki/Internet_protocol_suite">TCP/IP</a> and the internet. To no surprise it has its own idea about networking. Starting with protocol support:</p> 
<ul> 
 <li><a href="https://en.wikipedia.org/wiki/NetBIOS_Frames">Netbios</a> using <a href="https://en.wikipedia.org/wiki/Network_Driver_Interface_Specification">NDIS</a> (doesn't route) and</li> 
 <li><a href="https://en.wikipedia.org/wiki/IPX/SPX">IPX/SPX</a> A protocol from days long past, when red boxes weren't Redhat but Novell</li> 
 <li><a href="https://help.hcltechsw.com/notes/11.0.0/locacc_direct_dialup_loc_conn_t.html">X.PC DialUp</a> - Yes. A modem or something that takes <a href="https://en.wikipedia.org/wiki/Hayes_command_set">modem commands</a> and will establish a serial connection, no longer ships with Notes</li> 
 <li>A few more obscure protocols: Vines, SPXII</li> 
 <li>last not least TCP/IP</li> 
</ul> 
<p>Having this zoo of protocols, Notes needs its own version of name resolution. That version is called <a href="https://help.hcltechsw.com/domino/11.0.0/conf_settingupnotesnamednetworks_t.html">Notes Named Network</a></p> 
<h3><a href="#one-step-back-what-makes-a-notes-domain" id="one-step-back-what-makes-a-notes-domain">One step back: What makes a Notes Domain?</a></h3> 
<p>A <strong>Notes Domain</strong> consists out of one or more server that use a Domino directory (a.k.a Public Name &amp; Addressbook a.k.a <code>names.nsf</code>) with the same replica id (a story for another time) as the other member servers <strong>and</strong> have the same Domain name in their server document (that's where most of the server's setting are stored).</p> 
<p>A popular point of confusion: Notes Names (from Part1) and Notes Domains: It is quite common to name your Domain after your orgID, but not mandatory. SO you could have <code>HeavyRock/Acme@Acme</code> or <code>Sandstone/Acme@ToonsInc</code> or <code>Machine/Blowup@Acme</code> The first and the last would be in the same Domain, while the first and second share the Org certifier. Anything goes, but to keep it simple, keep OrgId and Domain the same - unless you have 5 good reasons not to.</p> 
<p>Another one: <strong>NEVER</strong> name your Notes Domain so it could be mistaken for an internet Domain. So no <code>.</code> in the name. Spaces interestingly are OK!</p></div>
					<hr />
 <a href="/blog/2020/02/domino-administration-back-to-basics-part-2.html">Read more</a>
					<p><p>
						Posted by <a rel="author" href="https://plus.google.com/u/0/+StephanWissel">
Stephan H Wissel</a> on 05 February 2020
<span class="divider">|</span>
<a href="/blog/2020/02/domino-administration-back-to-basics-part-2.html#comments">Comments (2)</a>
<span class="divider">|</span>
categories:  <a href="/blog/categories/domino.html">Domino</a>  <a href="/blog/categories/networking.html">Networking</a> 

						<div class="shariff" data-lang="en" data-url="https://www.wissel.net/blog/2020/02/domino-administration-back-to-basics-part-2.html" data-services="[&quot;whatsapp&quot;,&quot;facebook&quot;,&quot;twitter&quot;,&quot;mail&quot;]" data-title="Domino Administration Back to Basics (Part 2) - Networking" data-twitter-via="@notessensei"></div>
						<script type="text/javascript">
							var permaLink = "https://wissel.net/blog/2020/02/domino-administration-back-to-basics-part-2.html";
						</script>
					</p>
</p>
				</article>
				<article class="well well-raised">
					<h1><small><a href="/blog/2020/02/domino-administration-back-to-basics-part-1.html">Domino Administration - Back to Basics (Part 1) - Certificates</a></small></h1>
					<hr />
					<div><p>Domino is different, a lot of its concepts predate the internet and quite often inspired the standards. This is not an step-by-step instruction, but an introduction into concepts. The "step by step" approach is another story for another time.</p> 
<h3><a href="#in-the-beginning-was-the-certificate" id="in-the-beginning-was-the-certificate">In the beginning was the Certificate</a></h3> 
<p>Notes and Domino run <a href="https://help.hcltechsw.com/domino/11.0.0/plan_certifieridsandcertificates_c.html">using ID</a> files. This are not merly files that can arbitrarily reconstructed, but cryptographically created <a href="https://en.wikipedia.org/wiki/Public-key_cryptography">Public Private key pairs</a>. To avoid naming collisions the key names are hierarchical (Since R2), so anyone can call their server <strong>Server1</strong> without confusion (sort of). This hierarchy is achieved using <a href="https://en.wikipedia.org/wiki/X.400">X400</a> naming conventions, an early competitor to DNS naming. A X400 name can consist out of multiple parts, these are the ones Domino is using:</p> 
<p><img src="/blog/images/2020/X400Names.png" alt="X500 Name"></p> 
<p>So the minimum is a common name and an Org. The starting point of each Domino journey is the creation of the OrgID. All other parts depend on it. Note: there isn't a country ID, even if country mentioned after the Org. When you create your OrgID (while setting up the very first server), you can specify the country and it becomes part of the OrgID.</p> 
<p>In practise however I haven't seen many OrgIDs that would carry a country code in them. So you can skip that part.</p> 
<h3><a href="#signing-ids" id="signing-ids">Signing Ids</a></h3> 
<p>Using the OrgID as signing certificat, one can go and create server and user certificates. E.g using the OrgID <code>/O=Acme</code> one can create <code>/CN=Coyotee/O=Acme</code>. For convenience the qualifiers are usually omitted, their meaning results from the position (and the fact that country is 2 letter if present and Orgs have 3 or more). So instead of <code>/CN=Coyotee/O=Acme</code> one can write <code>Coyotee/Acme</code>.</p> 
<p>In practise however more enlightened organisation use their OrgCert as cautiously as root certificates in the <a href="https://en.wikipedia.org/wiki/X.509">X509</a> world and only <a href="https://help.hcltechsw.com/domino/11.0.0/othr_registeringanorganizationalunitcertifieriddialogbo_t.html">register/sign</a> Organizational Unit (<code>/OU=</code>) Ids which then can be used to sign server and user certificates.</p> 
<p>Trust between certificate is hierarchical, similar to Internet certificates, so IDs having the same root (/O) certifier recognizse each other. The hierachy can be used in Access Control (another story for another time) to grant access to all IDs at a given level e.g. <code>/OU=Management/O=Acme</code></p></div>
					<hr />
 <a href="/blog/2020/02/domino-administration-back-to-basics-part-1.html">Read more</a>
					<p><p>
						Posted by <a rel="author" href="https://plus.google.com/u/0/+StephanWissel">
Stephan H Wissel</a> on 04 February 2020
<span class="divider">|</span>
<a href="/blog/2020/02/domino-administration-back-to-basics-part-1.html#comments">Comments (3)</a>
<span class="divider">|</span>
categories:  <a href="/blog/categories/domino.html">Domino</a> 

						<div class="shariff" data-lang="en" data-url="https://www.wissel.net/blog/2020/02/domino-administration-back-to-basics-part-1.html" data-services="[&quot;whatsapp&quot;,&quot;facebook&quot;,&quot;twitter&quot;,&quot;mail&quot;]" data-title="Domino Administration - Back to Basics (Part 1) - Certificates" data-twitter-via="@notessensei"></div>
						<script type="text/javascript">
							var permaLink = "https://wissel.net/blog/2020/02/domino-administration-back-to-basics-part-1.html";
						</script>
					</p>
</p>
				</article>
				<article class="well well-raised">
					<h1><small><a href="/blog/2020/01/generating-jwt-tokens-for-tests.html">Generating JWT tokens for tests</a></small></h1>
					<hr />
					<div><p>There are many options for <a href="https://auth0.com/docs/authorization/concepts/authz-and-authn">Authentication and Authorisation</a>. I'm fond of <a href="https://jwt.io/">Json Web Tokens</a> (JWT), implementing <a href="https://tools.ietf.org/html/rfc7519">RFC7519</a>. Mostly because they are like <a href="https://en.wikipedia.org/wiki/IBM_Lightweight_Third-Party_Authentication">LTPA</a> <del>for grownups</del>, but standard compliant</p> 
<h3><a href="#quis-custodiet-ipsos-custodes" id="quis-custodiet-ipsos-custodes">Quis custodiet ipsos custodes?</a></h3> 
<p>JWT contains information that is digitally signed (and optional encrypted), so a receiving end can verify that the information is correct. The key elements here are:</p> 
<ul> 
 <li>the JWT contains a claim, at least the <strong>subject</strong> that is tamper resistant by being digitally signed</li> 
 <li>JWT issuer and JWT consumer trust each other, by either having a shared secret (bad idea) or using a public/private key pair. The issuer signs the information with a private key. The consumer (your application server) verifies the signature using the public key</li> 
</ul> 
<p>So besides protecting the private key of the issuer, you also want to be clear who's keys you trust. The one who <a href="s://en.wikipedia.org/wiki/Quis_custodiet_ipsos_custodes%3F">holds your identity</a> can impersonate you at any time (so you might rethink if "Login with Facebook" is such a brilliant idea after all).</p> 
<p>However when <strong>testing</strong> systems, you develop local, you want to be able to have any user at your disposal, so you can generate the claim that is the <a href="https://en.wikipedia.org/wiki/Open_sesame">Open Sesame</a> to your test regime</p> 
<h3><a href="#building-a-claim" id="building-a-claim">Building a claim</a></h3> 
<p>We start by building the raw claim <strong>template.json</strong> file:</p> 
<pre class="brush: javascript">{
  "iss": "Alibaba Caves",
  "aud": "40Thiefs",
  "expSeconds": 300
}
</pre> 
<p>It contains an issuer, an audience and the duration in seconds. The later one is for my convenience. The receiving system might or might not check issuer (iss) and/or audience (aud).</p> 
<p>Next step is to create a public/private key pair</p></div>
					<hr />
 <a href="/blog/2020/01/generating-jwt-tokens-for-tests.html">Read more</a>
					<p><p>
						Posted by <a rel="author" href="https://plus.google.com/u/0/+StephanWissel">
Stephan H Wissel</a> on 01 February 2020
<span class="divider">|</span>
<a href="/blog/2020/01/generating-jwt-tokens-for-tests.html#comments">Comments (0)</a>
<span class="divider">|</span>
categories:  <a href="/blog/categories/javascript.html">JavaScript</a>  <a href="/blog/categories/webdevelopment.html">WebDevelopment</a> 

						<div class="shariff" data-lang="en" data-url="https://www.wissel.net/blog/2020/01/generating-jwt-tokens-for-tests.html" data-services="[&quot;whatsapp&quot;,&quot;facebook&quot;,&quot;twitter&quot;,&quot;mail&quot;]" data-title="Generating JWT tokens for tests" data-twitter-via="@notessensei"></div>
						<script type="text/javascript">
							var permaLink = "https://wissel.net/blog/2020/01/generating-jwt-tokens-for-tests.html";
						</script>
					</p>
</p>
				</article>
				<article class="well well-raised">
					<h1><small><a href="/blog/2020/01/running-a-caldav-server-on-ubuntu.html">Running a CalDAV server on Ubuntu (2020 edition)</a></small></h1>
					<hr />
					<div><p>When playing with <a href="https://en.wikipedia.org/wiki/CalDAV">calDAV</a> it makes sense to have a reference implementation to refer to. The <em>GOLD</em> standard ist <a href="https://www.calendarserver.org/">Apple's CalendarServer</a> with its lovely <a href="https://github.com/apple/ccs-calendarserver">Open Source Repository</a>.</p> 
<p>Getting it to work on Linux (Ubuntu in my case), isn't for the faint of heart. Here is what you need to do.</p> 
<h2><a href="#file-system-preparation" id="file-system-preparation">File system preparation</a></h2> 
<p>Calendar server needs extended attributes. The default <a href="https://en.wikipedia.org/wiki/Ext4">Ext4</a> file system does support them out of the box, but you want to check first (you might have a different file system after all):</p> 
<h3><a href="#check-if-file-system-supports-extended-attributes" id="check-if-file-system-supports-extended-attributes">Check if file system supports extended attributes</a></h3> 
<p>Check using this command:</p> 
<pre class="brush: bash">touch test.txt
setfattr -n user.test -v "hello" test.txt
getfattr test.txt
</pre> 
<p>Expected output: <strong>user.test</strong></p> 
<p>If the command <code>setfattr</code> is not available, install with <code>sudo install attr</code></p> 
<h3><a href="#enable-extended-atttributes-if-required" id="enable-extended-atttributes-if-required">Enable extended atttributes if required</a></h3> 
<p><strong>Important</strong> if the previous command worked, skip this step. Don't mess with fstab! Make a backup copy if required and have your emergency boot stick ready. A messed up <strong>fstab</strong> will prevent your machine from booting!</p> 
<p>Edit <code>/etc/fstab</code>. In the 4th colum of the file system add <code>user_xattr</code>. There might be values like <code>noatime</code> or <code>defaults</code>. Add <code>user_xattr</code> separated by a comma. <strong>Reboot</strong>.</p> 
<h2><a href="#install-calendar-server" id="install-calendar-server">Install calendar server</a></h2> 
<p>Execute <code>sudo apt install calendarserver postgresql</code>.</p> 
<p>The server wants a <strong>postgresql</strong> database, so you need to be sure to have that installed too. Apple loves Python, so there ill be quite some phython packages installed, as well as a new user <strong>caldavd</strong> Since this is a system user, its home directory is <code>/var/spool/caldav</code></p></div>
					<hr />
 <a href="/blog/2020/01/running-a-caldav-server-on-ubuntu.html">Read more</a>
					<p><p>
						Posted by <a rel="author" href="https://plus.google.com/u/0/+StephanWissel">
Stephan H Wissel</a> on 01 February 2020
<span class="divider">|</span>
<a href="/blog/2020/01/running-a-caldav-server-on-ubuntu.html#comments">Comments (0)</a>
<span class="divider">|</span>
categories:  <a href="/blog/categories/caldav.html">calDAV</a>  <a href="/blog/categories/webdevelopment.html">WebDevelopment</a> 

						<div class="shariff" data-lang="en" data-url="https://www.wissel.net/blog/2020/01/running-a-caldav-server-on-ubuntu.html" data-services="[&quot;whatsapp&quot;,&quot;facebook&quot;,&quot;twitter&quot;,&quot;mail&quot;]" data-title="Running a CalDAV server on Ubuntu (2020 edition)" data-twitter-via="@notessensei"></div>
						<script type="text/javascript">
							var permaLink = "https://wissel.net/blog/2020/01/running-a-caldav-server-on-ubuntu.html";
						</script>
					</p>
</p>
				</article>
				<article class="well well-raised">
					<h1><small><a href="/blog/2020/01/unit-tests-and-singletons.html">Unit Tests and Singletons</a></small></h1>
					<hr />
					<div><p>Good developers <a href="https://apiumhub.com/tech-blog-barcelona/top-benefits-of-unit-testing/">test their code</a>. There are plenty of frameworks and tools around to make it less painful. Not every code is testable, so you <a href="https://en.wikipedia.org/wiki/Test-driven_development">write test first</a>, to avoid getting stuck with untestable code. However there are situations where <a href="https://en.wikipedia.org/wiki/Unit_testing">Unit Testing</a> and pattern get into each other's way</p> 
<h3><a href="#the-singleton-and-test-isolation" id="the-singleton-and-test-isolation">The singleton and test isolation</a></h3> 
<p>I'm a big fan of <a href="https://www.javatpoint.com/design-patterns-in-java">design patterns</a>, after all they are <strong>a well-proven solutions</strong> for specific known problems. E.g. the <a href="https://en.wikipedia.org/wiki/Observer_pattern">observer pattern</a> is the foundation of <a href="http://reactivex.io/">reactive programming</a>.</p> 
<p>A common approach to implementing cache is the <a href="https://en.wikipedia.org/wiki/Singleton_pattern">singleton pattern</a>, that ensures all your code talks to the same cache instance ,independent of what cache you actually use: <a href="https://www.aerospike.com/">Aerospike</a>, <a href="https://redis.io/">Redis</a>, <a href="https://github.com/google/guava/wiki/CachesExplained">Guava</a>, <a href="https://commons.apache.org/proper/commons-jcs/">JCS</a> or others.</p> 
<p>Your singleton would look like this:</p> 
<pre class="brush: java">public enum TicketCache {
  INSTANCE;
  
  public Set&lt;String&gt; getTickets(final String systemId) {
    Set&lt;String&gt; result = new HashSet&lt;&gt;();
    // Your cache related code goes here
    return result;
  }
  
  public TicketCache addTicket(final String systemId, final String ticketId) {
    // Your cache/persistence code goes here
    return this;
  }
}
</pre> 
<p>and a method in a class returning tickets (e.g. in a user object) for a user could look like this:</p> 
<pre class="brush: java">  public Set&lt;String&gt; getUserTickets() {
    Set&lt;String&gt; result = new HashSet&lt;&gt;();
    Set&lt;String&gt; systemsResponsibleFor = this.getSystems();
    systemsResponsibleFor.forEach(systemId -&gt; 
      result.addAll(TicketCache.INSTANCE.getTickets(systemId)));
    return result;
  }
</pre> 
<p>Now when you want to test this method, you have a dependency on <code>TicketCache</code> and can't test the <code>getUserTickets()</code> method in isolation. You are at <a href="https://stackoverflow.com/questions/995340/is-implementing-a-cache-considered-a-difficult-problem">the mercy</a> of your cache implementation. But there <strong>is a better way</strong></p></div>
					<hr />
 <a href="/blog/2020/01/unit-tests-and-singletons.html">Read more</a>
					<p><p>
						Posted by <a rel="author" href="https://plus.google.com/u/0/+StephanWissel">
Stephan H Wissel</a> on 10 January 2020
<span class="divider">|</span>
<a href="/blog/2020/01/unit-tests-and-singletons.html#comments">Comments (1)</a>
<span class="divider">|</span>
categories:  <a href="/blog/categories/java.html">Java</a>  <a href="/blog/categories/unittesting.html">UnitTesting</a> 

						<div class="shariff" data-lang="en" data-url="https://www.wissel.net/blog/2020/01/unit-tests-and-singletons.html" data-services="[&quot;whatsapp&quot;,&quot;facebook&quot;,&quot;twitter&quot;,&quot;mail&quot;]" data-title="Unit Tests and Singletons" data-twitter-via="@notessensei"></div>
						<script type="text/javascript">
							var permaLink = "https://wissel.net/blog/2020/01/unit-tests-and-singletons.html";
						</script>
					</p>
</p>
				</article>
				<article class="well well-raised">
					<h1><small><a href="/blog/2019/12/http-debugging-cheat-sheet.html">http(s) debugging cheat sheet</a></small></h1>
					<hr />
					<div><p><a href="https://en.wikipedia.org/wiki/Martin_Luther">Martin Luther</a> is <a href="hhttps://www.redensarten-index.de/suche.php?suchbegriff=~~dem%20Volk%20aufs%20Maul%20schauen">attributed</a> with the utterance "You have to watch how people talk". What works for the famous <a href="https://en.wikipedia.org/wiki/Luther_Bible">bible translation</a> applies to APIs as well. Despite <a href="https://www.openapis.org/">Open Standards</a> and <a href="https://www.ietf.org/">a standard body</a>, APIs do their own thing, not necessarily documented as they are.</p> 
<p>While it is reasonable easy to watch them inside a browser using <a href="https://developer.mozilla.org/en-US/docs/Tools">Developer Tools</a> (also <a href="https://developers.google.com/web/tools/chrome-devtools">here</a>) it gets tricky when you want to watch an application like <a href="https://support.apple.com/en-sg/guide/calendar/welcome/mac">macOS Calendar</a>, <a href="https://www.thunderbird.net/en-US/">Thunderbird</a>, <a href="https://slackhq.com/">Slack</a>, <a href="https://getbodo.com/">Bodo</a> (for Jira).</p> 
<p>This is your cheat-sheet.</p> 
<h3><a href="#setup-your-https-forensics" id="setup-your-https-forensics">Setup your HTTP(s) Forensics</a></h3> 
<ul> 
 <li>Install the application you want to investigate (Yeah, a no brainer)</li> 
 <li>Install a HTTP debugger, one of them (I use <a href="https://wwww.charlesproxy.com">Charles Proxy</a>) 
  <ul> 
   <li><a href="https://proxyman.io">Proxyman</a> (Mac)</li> 
   <li><a href="https://wwww.charlesproxy.com">Charles Proxy</a> (Mac, Win, Linux)</li> 
   <li><a href="https://www.telerik.com/fiddler">Fiddler</a> (Win)</li> 
  </ul> </li> 
 <li>Configure your HTTP debugger to be able to analyse <strong>https</strong> traffic to your choosen calendar server</li> 
 <li>Install <a href="https://www.getpostman.com/">PostMan</a> and <a href="https://curl.haxx.se/">curl</a></li> 
 <li>Have a place where you save your investigation results in <a href="https://daringfireball.net/projects/markdown/">Markdown</a>, <code>/docs</code> in a GitHub repo is a good place</li> 
 <li>Configure your HTTP debugger to intercept the http traffic on your target domain. This works different for each OS and debugger, so read the manual! 
  <ul> 
   <li><a href="https://www.charlesproxy.com/documentation/proxying/ssl-proxying/">SSL Proxying</a> for Charles Proxy</li> 
   <li><a href="https://docs.telerik.com/fiddler/Configure-Fiddler/Tasks/DecryptHTTPS">Decrypt HTTPS</a> for Fiddler</li> 
   <li><a href="https://docs.proxyman.io/basic-features/ssl-proxying">SSL Proxying</a> with Proxyman</li> 
  </ul> </li> 
 <li>Fetch a cup of your favorite beverage, we are good to go</li> 
</ul> 
<h3><a href="#investigate" id="investigate">Investigate</a></h3> 
<ul> 
 <li>Switch on your HTTP debugger (this line is sponsored by <a href="https://en.wiktionary.org/wiki/Captain_Obvious">Captain Obvious</a>)</li> 
 <li>Execute <strong>one</strong> command in your custom app. Typically something like "<em>login</em>" or "<em>add account</em>" or "<em>File Open</em>" (that's my favorite in Office apps, fires 4 or more HTTP request when done against a http endpoint that understands <em>webDAV</em>)</li> 
 <li>Look at the <strong>raw</strong> results. Each debugger has a nice <a href="https://en.wikipedia.org/wiki/Graphical_user_interface">gui</a> that separates headers, cookies and body payload, but you want to look at raw data: 
  <ul> 
   <li>Your request starts with <em>METHOD /route HTTP_Version</em>, e.g. <code>POST /login HTTP/1.1</code> Everything until the first empty line is header, followed eventually with a body. Knowing <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods">methods</a> helps to set expectations. See also <a href="https://tools.ietf.org/html/rfc7231#section-4">RFC 7231</a>, <a href="https://tools.ietf.org/html/rfc5789#section-2">RFC 5789</a>, <a href="https://tools.ietf.org/html/rfc2518">RFC 2518</a>, <a href="https://tools.ietf.org/html/rfc4918">RFC 4918</a>, <a href="https://tools.ietf.org/html/rfc3744">RFC 3744</a> and <a href="https://tools.ietf.org/html/rfc4791">RFC 4791</a></li> 
   <li>Your response starts with a status line <em>HTTP/1.1 StatusCode StatusMessage</em> e.g. <code>HTTP/1.1 200 OK</code> Again: everything until the first empty line is header, followed by the optional response body</li> 
  </ul> </li> 
 <li>It can get trickier when you app is already using <em>HTTP/2.0</em> or later since it allows streaming or non-text payloads like <a href="https://grpc.io/">gRPC</a></li> 
 <li>Document that in markdown, bracket the http with three backticks, so it renders as source</li> 
 <li>Repeat for other commands in your app</li> 
</ul> 
<h3><a href="#re-enactment" id="re-enactment">Re-enactment</a></h3> 
<p>What fun is <a href="https://en.wikipedia.org/wiki/Detective">detective work</a> without verifying results. This is where you turn to <a href="https://www.getpostman.com/">Postman</a> or if <a href="https://www.urbandictionary.com/define.php?term=Tough%20As%20Nails">you have it</a> - curl.</p> 
<p>You want to use parameters for your hostname and the user specific parts (username, passwords) and you need to have a clear idea what are variable return values. Good candidtes to watch out for are cookies or header values. You need to <a href="https://blog.getpostman.com/2014/01/27/extracting-data-from-responses-and-chaining-requests/">extract these values for chaining to the next request</a>. With a little practise you should be able to make Postman behave like the original app</p> 
<h3><a href="#parting-words" id="parting-words">Parting words</a></h3> 
<ul> 
 <li>Check the terms of service of the application you are investigating. While public end-point are, well, public, you might have agreed in your <a href="https://www.termsandconditionsgenerator.com/">T&amp;C</a> not to touch them</li> 
 <li>This isn't an instuction for hacking, you still need to be you - with your credentials. Nevertheless you might stumble over "security by obscurity" or other annoyances</li> 
 <li>Any app that uses http instead of https needs to die a horrible death</li> 
 <li>Reading the API spec is potentially faster</li> 
</ul> 
<p>As usual YMMV</p></div>
					<hr />
					<p><p>
						Posted by <a rel="author" href="https://plus.google.com/u/0/+StephanWissel">
Stephan H Wissel</a> on 30 December 2019
<span class="divider">|</span>
<a href="/blog/2019/12/http-debugging-cheat-sheet.html#comments">Comments (0)</a>
<span class="divider">|</span>
categories:  <a href="/blog/categories/https.html">HTTP(S)</a>  <a href="/blog/categories/networking.html">Networking</a>  <a href="/blog/categories/webdevelopment.html">WebDevelopment</a> 

						<div class="shariff" data-lang="en" data-url="https://www.wissel.net/blog/2019/12/http-debugging-cheat-sheet.html" data-services="[&quot;whatsapp&quot;,&quot;facebook&quot;,&quot;twitter&quot;,&quot;mail&quot;]" data-title="http(s) debugging cheat sheet" data-twitter-via="@notessensei"></div>
						<script type="text/javascript">
							var permaLink = "https://wissel.net/blog/2019/12/http-debugging-cheat-sheet.html";
						</script>
					</p>
</p>
				</article>
				<article class="well well-raised">
					<h1><small><a href="/blog/2019/12/a-streaming-pattern-for-the-vert.x-eventbus.html">A Streaming Pattern for the vert.x EventBus (Part 1)</a></small></h1>
					<hr />
					<div><p>When dealing with large amounts of data, using <a href="https://www.baeldung.com/java-8-streams">Streams</a> allows processing happen the moment data arrives, not just when data is complete. Streaming is core to <a href="http://reactivex.io/">reactive programming</a>. This blog entry describes an approach where the <a href="https://vertx.io">vert.x</a> EventBus sits between requester and resource</p> 
<h3><a href="#the-scenario" id="the-scenario">The scenario</a></h3> 
<p><img src="/blog/images/2019/EventBus1.png" alt="Classic Eventbus Request Response"></p> 
<p>Image created using <a href="http://www.websequencediagrams.com/">WebSequenceDiagramms</a></p> 
<pre class="brush: bash">title Vert.x EventBus

participant Requester
participant EventBus
participant DataSource

Requester-&gt;EventBus: request DataSet
EventBus-&gt;DataSource: forward request
DataSource-&gt;EventBus: reply with data
EventBus-&gt;Requester: forward reply
</pre> 
<p>A requester (e.g. the handler of a HTTP Listener) sends a request via the <a href="https://vertx.io/docs/apidocs/io/vertx/core/eventbus/EventBus.html">EventBus</a> using a <strong>request-response</strong> pattern with <a href="https://vertx.io/docs/apidocs/io/vertx/core/eventbus/EventBus.html#request-java.lang.String-java.lang.Object-io.vertx.core.eventbus.DeliveryOptions-io.vertx.core.Handler-"><code>EventBus.request(...)</code></a>. Simple and easy. The problem with this: one request has one response. That doesn't work for streaming data.</p> 
<h3><a href="#taking-a-page-from-the-military" id="taking-a-page-from-the-military">Taking a page from the military</a></h3> 
<p>The standard pattern for military commands is:</p> 
<ol> 
 <li>Utter the command</li> 
 <li>Accnowledge the command</li> 
 <li>Execute the command (<a href="https://en.wikipedia.org/wiki/Risk_(game)">Conquer 14 countries</a>, might take time. For Germans: <a href="https://de.wikipedia.org/wiki/Risiko_(Spiel)">Liberate 14 countries</a>)</li> 
 <li>Report completion of command</li> 
</ol> 
<h3><a href="#applying-to-the-eventbus" id="applying-to-the-eventbus">Applying to the EventBus</a></h3> 
<p>Following the pattern above the first request/response only will establish the Intent (btw. <a href="https://www.davidmarquet.com/turn-the-ship-around-a-true-story-of-turning-followers-into-leaders-by-david-marquet/">Intent Based Leadership</a> is a smoking hot topic). Item 2 and 3 will be handled by a publish and subscribe pattern.</p> 
<p>So our scenario now looks like this:</p> 
<p><img src="/blog/images/2019/EventBus2.png" alt="Classic Eventbus Request Response"></p> 
<p>Image created using <a href="http://www.websequencediagrams.com/">WebSequenceDiagramms</a></p> 
<pre class="brush: bash">title Vert.x EventBus Streaming

participant Requester
participant EventBus
participant DataSource

Requester-&gt;EventBus: start listening\non temp address
note over Requester, DataSource: Start request/response
Requester-&gt;EventBus: request Stream\notify on temp address
EventBus-&gt;DataSource: forward request
DataSource-&gt;EventBus: reply withaccnowledgement
EventBus-&gt;Requester: forward response
note over Requester, DataSource: End of request/response
note over Requester, DataSource: Start publish/subscribe
DataSource-&gt;EventBus: publish first data
EventBus-&gt;Requester: forward response
DataSource-&gt;EventBus: publish more data
EventBus-&gt;Requester: forward response
DataSource-&gt;EventBus: publish last data
EventBus-&gt;Requester: forward response
Requester-&gt;EventBus: end listening\non temp address
note over Requester, DataSource: End of publish/subscribe
</pre> 
<p>To implement this, I'm taking advantage of EventBus' <a href="https://vertx.io/docs/apidocs/io/vertx/core/eventbus/DeliveryOptions.html">DeliveryOptions</a> that allow me to set header values. I define a header <code>StreamListenerAddress</code> that my data source will use for publishing data:</p> 
<pre class="brush: java">// Error handling omitted
public void initiateStreamResponse(final String dataAddress, final JsonObject requestMessage, Promise&lt;Void&gt; didItWork) {
	final String streamListenerAddress = "tempListenerAddresses." + UUID.randomUUID().toString();
	final EventBus eventBus = this.getVertx().eventBus();
	final MessageConsumer&lt;JsonObject&gt; dataReceiver = eventBus.consumer(streamListenerAddress);
	dataReceiver.handler(handler -&gt; {
		final boolean isFirst = Boolean.parseBoolean(headers.get("first"));
		final boolean isComplete = Boolean.parseBoolean(headers.get("complete"));
		/*
	      Here goes the code feeding into the requester's logic e.g. a chunked HTTP response
	      or a websocket publish or a gRPC push. isFirst and isComplete can be true at the
	      same time when there is only a single response
		*/
	    ditItWork.complete();  
	});
	DeliveryOptions deliveryOptions = new DeliveryOptions();
	deliveryOptions.addHeader("StreamListenerAddress",streamListenerAddress);
	eventBus.request(dataAddress, requestMessage, deliveryOptions, ar -&gt; {
			if (ar.succeeded()) {
				final Message&lt;Object&gt; resultMessage = ar.result();
				final boolean success = Boolean.parseBoolean(resultMessage.headers().get(Constants.HEADER_SUCCESS));
				if (!success) {
					consumer.unregister();
					didItWork.fail(new Error("Request for Data unsuccessfull"));
				}

			} else {
				consumer.unregister();
				didItWork.fail(ar.cause());
			}
		});
}
</pre> 
<h2><a href="#what-next" id="what-next">What next?</a></h2> 
<ul> 
 <li>In Part 2 I will describe the data source part of this approach</li> 
 <li>In Part 2 I will wrap that in observable and observer</li> 
</ul> 
<p>I'm using this pattern in the <a href="https://www.projectkeep/io">Keep API</a>, YMMV</p></div>
					<hr />
					<p><p>
						Posted by <a rel="author" href="https://plus.google.com/u/0/+StephanWissel">
Stephan H Wissel</a> on 04 December 2019
<span class="divider">|</span>
<a href="/blog/2019/12/a-streaming-pattern-for-the-vert.x-eventbus.html#comments">Comments (0)</a>
<span class="divider">|</span>
categories:  <a href="/blog/categories/java.html">Java</a>  <a href="/blog/categories/reactive.html">Reactive</a>  <a href="/blog/categories/vertx.html">vert.x</a> 

						<div class="shariff" data-lang="en" data-url="https://www.wissel.net/blog/2019/12/a-streaming-pattern-for-the-vert.x-eventbus.html" data-services="[&quot;whatsapp&quot;,&quot;facebook&quot;,&quot;twitter&quot;,&quot;mail&quot;]" data-title="A Streaming Pattern for the vert.x EventBus (Part 1)" data-twitter-via="@notessensei"></div>
						<script type="text/javascript">
							var permaLink = "https://wissel.net/blog/2019/12/a-streaming-pattern-for-the-vert.x-eventbus.html";
						</script>
					</p>
</p>
				</article>
				<article class="well well-raised">
					<h1><small><a href="/blog/2019/10/deep-human-super-skills-for-a-vuca-world.html">Deep Human Super Skills for a VUCA world</a></small></h1>
					<hr />
					<div><p>We live in a world dominated by volatility, uncertainty, complexity and ambiguity (<a href="https://en.wikipedia.org/wiki/Volatility,_uncertainty,_complexity_and_ambiguity">VUCA</a>). Our traditional approach to a working career, learning a specific skill and stick to it, doesn't fit anymore. What is needed instead, is the subject of the book <a href="https://www.deep-human.com/">Deep Human</a> writen by <a href="https://www.linkedin.com/in/crystal-lim-lange/">Crystal Lim-Lange</a> and <a href="https://www.linkedin.com/in/wolfgreg/">Dr. Gregor Lim-Lange</a>.</p> 
<h3><a href="#5-skills" id="5-skills">5 skills</a></h3> 
<p><a href="/blog/images/2019/DeepHumanSuperSkills.png"><img src="/blog/images/2019/DeepHumanSuperSkills640.png" alt="5 human super skills"></a></p> 
<p>The 5 skills build on each other, forming the foundation and prerequisite for the next level. Here is my take, paraphrasing what I learned, how they fit together. Full details, including experiences how to get there are in the book.</p> 
<ol> 
 <li> <p><strong>Mindfulness</strong> Being rooted in reality, seeing what is, without judgment and deep filters is the foundation of any progress. The practise of precisely observing your suroundings allows you to gather evidence for any assessment and action. The mindful person is master of their thoughs and doesn't fall prey easily to illusions. Of course it takes lifelong practise. The mind is like a muscle: once you start or stop training, it changes</p> </li> 
 <li> <p><strong>Self-Awarness</strong> Once the mind has been sharpened and silenced, you can turn attention to the self. What are the sensations, emotions, thoughts, fears, hopes and believes that drive you? Armed with focus and mindfulness you can wrestle the driver's seat back from the monkey mind. Clarity about yourself leads to freedom to decide who you want to be instead of running on auto-pilot</p> </li> 
 <li> <p><strong>Empathy</strong> Having honed the skill of self-awareness you can apply that to other sentients. Without clarity about yourself, this would fail, so self-awareness is the foundation of empathy, as mindfulness is the foundation of self-awareness. Learning to <em>walk in someone elses shoes</em> deepends your understanding of a complex world. Empathy isn't a woolsy-shoolsy be nice to everybody feeling, but the application of reality from a different viewpoint. As the late Lama Marut would say: "<em>Be nice and don't take shit</em>"</p> </li> 
 <li> <p><strong>Complex communication</strong> You are able to see things as they are, you recognise strength and weaknesses in yourself and others. You value reality over opinions and solutions over debate. Skilled like this, explaining the not-so-simple, cutting to the chase, getting your point across becomes your next level. You won't get there without the foundation of Empathy, Self-Awareness and Mindfulness</p> </li> 
 <li> <p><strong>Resillience and Adaptability</strong> Life changes, subtle or sudden, minimal or radical. You have practised to communicate clearly, see reality from different perspectives as it is and know yourself. These skills and the resulting confidence enables you to face whatever comes your way. Not clinging to illusions makes you flexible like the bamboo in the wind. You will clearly see what is needed and where you can find purpose. You adapt.</p> </li> 
</ol> 
<p>The whole book is an insightful and interesting read, so go <a href="https://deep-human.myshopify.com/">and get your copy</a>.</p></div>
					<hr />
					<p><p>
						Posted by <a rel="author" href="https://plus.google.com/u/0/+StephanWissel">
Stephan H Wissel</a> on 27 October 2019
<span class="divider">|</span>
<a href="/blog/2019/10/deep-human-super-skills-for-a-vuca-world.html#comments">Comments (0)</a>
<span class="divider">|</span>
categories:  <a href="/blog/categories/afterhours.html">After Hours</a>  <a href="/blog/categories/singapore.html">Singapore</a> 

						<div class="shariff" data-lang="en" data-url="https://www.wissel.net/blog/2019/10/deep-human-super-skills-for-a-vuca-world.html" data-services="[&quot;whatsapp&quot;,&quot;facebook&quot;,&quot;twitter&quot;,&quot;mail&quot;]" data-title="Deep Human Super Skills for a VUCA world" data-twitter-via="@notessensei"></div>
						<script type="text/javascript">
							var permaLink = "https://wissel.net/blog/2019/10/deep-human-super-skills-for-a-vuca-world.html";
						</script>
					</p>
</p>
				</article>
				<ul class="breadcrumb pull-centre">
					<li><a href="/blog/all.html" title="That's a loooong list!">Older entries<i class="icon-hand-right"></i></a>
					</li>
				</ul>
			</div>
			<div class="span3">
				<aside id="sidebar_languages" class="well">
					<h5>Languages</h5>
					<script language="JavaScript" type="text/javascript">
						var totranslate = window.location;
						var prefix = "//translate.google.com/translate?u=";
						var postfix = "&hl=en&ie=UTF-8&sl=en&tl=";
						var languages = new Array({
							"code" : "id",
							"language" : "Bahasa Indonesia"
						}, {
							"code" : "zh-CN",
							"language" : "&#20013;&#22269;"
						}, {
							"code" : "da",
							"language" : "Dansk"
						}, {
							"code" : "de",
							"language" : "Deutsch"
						}, {
							"code" : "es",
							"language" : "Espaniol"
						}, {
							"code" : "it",
							"language" : "Italiano"
						}, {
							"code" : "ko",
							"language" : "&#54620;&#44397;&#50612;"
						}, {
							"code" : "ru",
							"language" : "&#1056;&#1091;&#1089;&#1089;&#1082;&#1080;&#1081;"
						}, {
							"code" : "zh-TW",
							"language" : "&#32321;&#20013"
						});
						document.write("<ul>");
						for ( var i = 0; i < languages.length; i++) {
							document
									.write("<li><a href=\""+prefix+totranslate+postfix+languages[i].code+"\">"
											+ languages[i].language
											+ "</a></li>");
						}
						document.write("</ul>");
					</script>
					Other languages on request.
				</aside>

				<aside id="sidebar_visitors" class="well">
					<h5>Visitors</h5>
<script type="text/javascript" id="clstr_globe" src="//cdn.clustrmaps.com/globe.js?d=dyaFRPfPewNw_y5-9frkSPIp1gvX8qjkkF-LpRyuvQs"></script>
				</aside>

				<aside id="sidebar_categoriesArchive" class="well">
					<ul class="nav nav-list">
						<li class="nav-header">Categories</li>
						<li ><a href="/blog/categories/afterhours.html">After hours</a></li>
						<li ><a href="/blog/categories/apex.html">Apex</a></li>
						<li ><a href="/blog/categories/blog.html">Blog</a></li>
						<li ><a href="/blog/categories/bluemix.html">Bluemix</a></li>
						<li ><a href="/blog/categories/buddhakids.html">Buddhakids</a></li>
						<li ><a href="/blog/categories/business.html">Business</a></li>
						<li ><a href="/blog/categories/buyingbroadband.html">Buying Broadband</a></li>
						<li ><a href="/blog/categories/caldav.html">calDAV</a></li>
						<li ><a href="/blog/categories/cloudcomputing.html">Cloud Computing</a></li>
						<li ><a href="/blog/categories/continuousintegration.html">Continuous integration</a></li>
						<li ><a href="/blog/categories/couchdb.html">CouchDB</a></li>
						<li ><a href="/blog/categories/coursera.html">Coursera</a></li>
						<li ><a href="/blog/categories/cycling.html">Cycling</a></li>
						<li ><a href="/blog/categories/domino.html">Domino</a></li>
						<li ><a href="/blog/categories/dxlmagic.html">DXLMagic</a></li>
						<li ><a href="/blog/categories/elearning.html">eLearning</a></li>
						<li ><a href="/blog/categories/gonephisching.html">Gone Phisching</a></li>
						<li ><a href="/blog/categories/grpc.html">gRPC</a></li>
						<li ><a href="/blog/categories/gtd.html">GTD</a></li>
						<li ><a href="/blog/categories/hclnotes.html">HCL Notes</a></li>
						<li ><a href="/blog/categories/heroku.html">Heroku</a></li>
						<li ><a href="/blog/categories/https.html">HTTP(S)</a></li>
						<li ><a href="/blog/categories/ibm.html">IBM</a></li>
						<li ><a href="/blog/categories/ibmlotus.html">IBM - Lotus</a></li>
						<li ><a href="/blog/categories/ibmnotes.html">IBM Notes</a></li>
						<li ><a href="/blog/categories/intercultural.html">Intercultural</a></li>
						<li ><a href="/blog/categories/java.html">Java</a></li>
						<li ><a href="/blog/categories/javascript.html">JavaScript</a></li>
						<li ><a href="/blog/categories/learning.html">Learning</a></li>
						<li ><a href="/blog/categories/lightning.html">Lightning</a></li>
						<li ><a href="/blog/categories/linux.html">Linux</a></li>
						<li ><a href="/blog/categories/lotus.html">Lotus</a></li>
						<li ><a href="/blog/categories/lotusnotes.html">Lotus Notes</a></li>
						<li ><a href="/blog/categories/lotusphere.html">Lotusphere</a></li>
						<li ><a href="/blog/categories/mac.html">Mac</a></li>
						<li ><a href="/blog/categories/macos.html">macOS</a></li>
						<li ><a href="/blog/categories/mobile.html">Mobile</a></li>
						<li ><a href="/blog/categories/networking.html">Networking</a></li>
						<li ><a href="/blog/categories/nginx.html">nginx</a></li>
						<li ><a href="/blog/categories/nodejs.html">NodeJS</a></li>
						<li ><a href="/blog/categories/nodered.html">NodeRED</a></li>
						<li ><a href="/blog/categories/nokia.html">Nokia</a></li>
						<li ><a href="/blog/categories/omnisophie.html">Omnisophie</a></li>
						<li ><a href="/blog/categories/opensource.html">OpenSource</a></li>
						<li ><a href="/blog/categories/pmd.html">PMD</a></li>
						<li ><a href="/blog/categories/protocols.html">Protocols</a></li>
						<li ><a href="/blog/categories/reactive.html">Reactive</a></li>
						<li ><a href="/blog/categories/salesforce.html">Salesforce</a></li>
						<li ><a href="/blog/categories/sametime.html">Sametime</a></li>
						<li ><a href="/blog/categories/sfdx.html">SFDX</a></li>
						<li ><a href="/blog/categories/showntellthursday.html">Show-N-Tell Thursday</a></li>
						<li ><a href="/blog/categories/singapore.html">Singapore</a></li>
						<li ><a href="/blog/categories/socialbusiness.html">SocialBusiness</a></li>
						<li ><a href="/blog/categories/software.html">Software</a></li>
						<li ><a href="/blog/categories/sywtbadd.html">SYWTBADD</a></li>
						<li ><a href="/blog/categories/technology.html">Technology</a></li>
						<li ><a href="/blog/categories/travel.html">Travel</a></li>
						<li ><a href="/blog/categories/twins.html">Twins</a></li>
						<li ><a href="/blog/categories/umsys.html">UMsys</a></li>
						<li ><a href="/blog/categories/unittesting.html">UnitTesting</a></li>
						<li ><a href="/blog/categories/vertx.html">vert.x</a></li>
						<li ><a href="/blog/categories/webcomponents.html">WebComponents</a></li>
						<li ><a href="/blog/categories/webdevelopment.html">WebDevelopment</a></li>
						<li ><a href="/blog/categories/workflow.html">Workflow</a></li>
						<li ><a href="/blog/categories/writingchinese.html">Writing Chinese</a></li>
						<li ><a href="/blog/categories/xml.html">XML</a></li>
						<li ><a href="/blog/categories/xpages.html">XPages</a></li>
						<li class="nav-header">Archives</li>
						<li ><a href="/blog/2002/">2002</a></li>
						<li ><a href="/blog/2003/">2003</a></li>
						<li ><a href="/blog/2004/">2004</a></li>
						<li ><a href="/blog/2005/">2005</a></li>
						<li ><a href="/blog/2006/">2006</a></li>
						<li ><a href="/blog/2007/">2007</a></li>
						<li ><a href="/blog/2008/">2008</a></li>
						<li ><a href="/blog/2009/">2009</a></li>
						<li ><a href="/blog/2010/">2010</a></li>
						<li ><a href="/blog/2011/">2011</a></li>
						<li ><a href="/blog/2012/">2012</a></li>
						<li ><a href="/blog/2013/">2013</a></li>
						<li ><a href="/blog/2014/">2014</a></li>
						<li ><a href="/blog/2015/">2015</a></li>
						<li ><a href="/blog/2016/">2016</a></li>
						<li ><a href="/blog/2017/">2017</a></li>
						<li ><a href="/blog/2018/">2018</a></li>
						<li ><a href="/blog/2019/">2019</a></li>
						<li ><a href="/blog/2020/">2020</a></li>
						<li ><a href="/blog/all.html" title="That's a long list!">Complete archive</a></li>
					</ul>
				</aside>

				<aside id="sidebar_reference" class="well">
					<h5>Reference</h5>
					<ol style="list-style-type: upper-roman; padding-left: 30px;">
						<li><a style="display: inline;"
							href="/blog/2012/04/extracting-data-from-domino-into-pdf-using-xslt-and-xslfo-part-1.html">Use
								XSL:FO rendering (Domino)</a></li>
						<li><a target="_blank" href="https://wissel.net/blog/imprint.html">old references (IBM)</a></li>
					</ol>
				</aside>

			</div>
		</div>
	</div>
		<footer>
		<div class="container">
			<div class="row">
				<div class="span2">
					<h4>About Me</h4>
					<p>
						I work as "Solution Director Innovation" for HCL Software. I'm based in Singapore.
						<g:plusone size="small" href="https://wissel.net/blog/"></g:plusone>
					</p>
					<a href="//stackoverflow.com/users/131021/stwissel">
					<img src="//stackoverflow.com/users/flair/131021.png" width="208" height="58" alt="profile for stwissel at Stack Overflow, Q&amp;A for professional and enthusiast programmers" title="profile for stwissel at Stack Overflow, Q&amp;A for professional and enthusiast programmers">
				</a>
				</div>
				<div class="span2">
					<h4>Contact</h4>
					<ul>
						<li><a href="https://www.twitter.com/notessensei">Twitter</a></li>
						<li><a href="https://sg.linkedin.com/in/notessensei">LinkedIn</a></li>
						<li><a href="https://www.xing.com/profile/StephanH_Wissel">XING</a></li>
						<li><a href="https://astore.amazon.com/wissenetblog-20">Amazon Store</a></li>
						<li><a href="https://kindle.amazon.com/profile/Stephan-H--Wissel/1659300">Amazon Kindle</a></li>
						<li><a href="http://notessensei.spreadshirt.com/">NotesSensei's Spreadshirt shop</a></li>
						<li><a href="http://about.me/stephan.wissel/#" title="Another identity site, nothing much here">About Me</a></li>
					</ul>
				</div>
				<div class="span8">
					<h4>Disclaimer</h4>
					<p>This site is in no way affiliated, endorsed, sanctioned,
						supported, nor enlightened by my current or previous employers.
						I may be an employee, but the opinions, theories, facts, etc.
						presented here are my own and are in now way given in any official
						capacity. In short, these are my words and this is my site, not
						my current or former employers' - and don't even begin to think otherwise.</p>
					<p>
						<b>&copy; 2003 - 2020 Stephan H. Wissel - some rights reserved</b> as
						listed here: <a rel="license"
							href="//creativecommons.org/licenses/by-nc-sa/3.0/"><img
							alt="Creative Commons License" style="border-width: 0"
							src="//licensebuttons.net/l/by-nc-sa/3.0/88x31.png" /></a>
						Unless otherwise labeled by its originating author, the content
						found on this site is made available under the terms of an <a
							href="//creativecommons.org/licenses/by-nc-sa/3.0/"
							target="_blank"
							title="Learn more about the creative commons  Attribution-ShareAlike License">Attribution/NonCommercial/ShareAlike
							Creative Commons License</a>, with the exception that no rights are
						granted -- since they are not mine to grant -- in any logo,
						graphic design, trademarks or trade names of any type. Code
						samples and code downloads on this site are, unless otherwise
						labeled, made available under an <a
							href="//www.apache.org/licenses/LICENSE-2.0.html">Apache
							2.0</a> license. Other license models are available on written
						request and written confirmation.
					</p>
				</div>
			</div>
		</div>
	</footer>

		<script type="text/javascript" src="/blog/js/jquery-1.8.2.min.js"></script>
	<script type="text/javascript" src="/blog/js/shariff.min.js"></script>
	<script type="text/javascript" src="/blog/js/bootstrap.js"></script>
	<script type="text/javascript" src="/blog/js/blogmain.js"></script>
    <script type="text/javascript" src="/blog/js2/shCore.js"></script>
    <script type="text/javascript" src="/blog/js2/shBrushJava.js"></script>
    <script type="text/javascript" src="/blog/js2/shBrushJScript.js"></script>
    <script type="text/javascript" src="/blog/js2/shBrushXml.js"></script>
    <script type="text/javascript" src="/blog/js2/shBrushBash.js"></script>
    <script type="text/javascript" src="/blog/js2/shBrushPlain.js"></script>
    <script type="text/javascript" src="/blog/js2/shBrushVb.js"></script>
    <script type="text/javascript" src="/blog/js2/shBrushCss.js"></script>
	<script src="//www.google-analytics.com/urchin.js" type="text/javascript"></script>
	<script type="text/javascript">
		_uacct = "UA-72033-1";
		urchinTracker();
	</script>
	<script type="text/javascript" src="//feeds.feedburner.com/~s/Wisselnet?i=https://wissel.net/blog" charset="utf-8"></script>
    <script type="text/javascript">
    $(document).ready(function() {
            SyntaxHighlighter.all();
    });
    </script>

</body>
</html>
